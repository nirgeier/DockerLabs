
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="A collection of GitHub Labs for learning and practicing Docker skills.">
      
      
        <meta name="author" content="Nir Geier - nirgeier@gmail.com">
      
      
        <link rel="canonical" href="https://nirgeier.github.io/DockerLabs/print_page/">
      
      
      
      
      <link rel="icon" href="../assets/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.16">
    
    
      
        <title>Print Site - DockerLabs - Docker Hands-On</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.7e37652d.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      
  
  
    
    
  
  
  <style>:root{--md-admonition-icon--note:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%2024%2024%22%3E%3Cpath%20d%3D%22M12%202a7%207%200%200%200-7%207c0%202.38%201.19%204.47%203%205.74V17a1%201%200%200%200%201%201h6a1%201%200%200%200%201-1v-2.26c1.81-1.27%203-3.36%203-5.74a7%207%200%200%200-7-7M9%2021a1%201%200%200%200%201%201h4a1%201%200%200%200%201-1v-1H9z%22/%3E%3C/svg%3E');}</style>



    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Mulish:300,300i,400,400i,700,700i%7CJetBrains+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Mulish";--md-code-font:"JetBrains Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../css/print-site.css">
    
      <link rel="stylesheet" href="../css/print-site-material.css">
    
      <link rel="stylesheet" href="../assets/stylesheets/theme.css">
    
    <script>__md_scope=new URL("/DockerLabs/",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  
        <script type="text/javascript">
        document.addEventListener('DOMContentLoaded', function () {
            remove_material_navigation();remove_mkdocs_theme_navigation();generate_toc();
        })
        </script>
        </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#section-1" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      <!--
  Copyright (c) 2016-2025 Martin Donath <martin.donath@squidfunk.com>

  Permission is hereby granted, free of charge, to any person obtaining a copy
  of this software and associated documentation files (the "Software"), to
  deal in the Software without restriction, including without limitation the
  rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
  sell copies of the Software, and to permit persons to whom the Software is
  furnished to do so, subject to the following conditions:

  The above copyright notice and this permission notice shall be included in
  all copies or substantial portions of the Software.

  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE
  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
  FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
  IN THE SOFTWARE.
-->

<!-- Determine classes -->





<!-- Header -->
<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">

    <!-- Link to home -->
    <a href=".." title="DockerLabs - Docker Hands-On"
      class="md-header__button md-logo" aria-label="DockerLabs - Docker Hands-On" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 89 89">
  <path d="M3.136,17.387l0,42.932l42.932,21.467l-42.932,-64.399Z" />
  <path d="M21.91,8l42.933,64.398l-18.775,9.388l-42.932,-64.399l18.774,-9.387Z" style="fill-opacity: 0.5" />
  <path d="M67.535,17.387l-27.262,18.156l21.878,32.818l5.384,2.691l0,-53.665Z" />
  <path d="M67.535,17.387l0,53.666l18.774,-9.388l0,-53.665l-18.774,9.387Z" style="fill-opacity: 0.25" />
</svg>

    </a>

    <!-- Button to open drawer -->
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>

    <!-- Header title -->
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            DockerLabs - Docker Hands-On
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
            Print Site
            
          </span>
        </div>
      </div>
    </div>

    <div class="m-social__top">
      <!-- Social links -->
      
      
<div class="md-social">
    
    
    
    
    
    <a href="https://github.com/nirgeier/DockerLabs" target="_blank" rel="noopener" title="View on GitHub"
        class="md-social__link social-class__github">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
    </a>
    
    
    
    
    
    <a href="https://github.com/nirgeier/DockerLabs/network/members" target="_blank" rel="noopener" title="Fork this repo"
        class="md-social__link social-class__fork">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M5 5.372v.878c0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75v-.878a2.25 2.25 0 1 1 1.5 0v.878a2.25 2.25 0 0 1-2.25 2.25h-1.5v2.128a2.251 2.251 0 1 1-1.5 0V8.5h-1.5A2.25 2.25 0 0 1 3.5 6.25v-.878a2.25 2.25 0 1 1 1.5 0M5 3.25a.75.75 0 1 0-1.5 0 .75.75 0 0 0 1.5 0m6.75.75a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5m-3 8.75a.75.75 0 1 0-1.5 0 .75.75 0 0 0 1.5 0"/></svg>
    </a>
    
    
    
    
    
    <a href="https://github.com/nirgeier/DockerLabs/stargazers" target="_blank" rel="noopener" title="Star this repo"
        class="md-social__link social-class__star">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M8 .25a.75.75 0 0 1 .673.418l1.882 3.815 4.21.612a.75.75 0 0 1 .416 1.279l-3.046 2.97.719 4.192a.751.751 0 0 1-1.088.791L8 12.347l-3.766 1.98a.75.75 0 0 1-1.088-.79l.72-4.194L.818 6.374a.75.75 0 0 1 .416-1.28l4.21-.611L7.327.668A.75.75 0 0 1 8 .25m0 2.445L6.615 5.5a.75.75 0 0 1-.564.41l-3.097.45 2.24 2.184a.75.75 0 0 1 .216.664l-.528 3.084 2.769-1.456a.75.75 0 0 1 .698 0l2.77 1.456-.53-3.084a.75.75 0 0 1 .216-.664l2.24-2.183-3.096-.45a.75.75 0 0 1-.564-.41z"/></svg>
    </a>
    
    
    
    
    
    <a href="https://www.linkedin.com/in/nirgeier/" target="_blank" rel="noopener" title="Connect on LinkedIn"
        class="md-social__link social-class__linkedin">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3M135.4 416H69V202.2h66.5V416zM102.2 96a38.5 38.5 0 1 1 0 77 38.5 38.5 0 1 1 0-77m282.1 320h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9z"/></svg>
    </a>
    
    
    
    
    
    <a href="https://discord.gg/U6xW23Ss" target="_blank" rel="noopener" title="Follow me on Discord"
        class="md-social__link social-class__discord">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M492.5 69.8c-.2-.3-.4-.6-.8-.7-38.1-17.5-78.4-30-119.7-37.1-.4-.1-.8 0-1.1.1s-.6.4-.8.8c-5.5 9.9-10.5 20.2-14.9 30.6-44.6-6.8-89.9-6.8-134.4 0-4.5-10.5-9.5-20.7-15.1-30.6-.2-.3-.5-.6-.8-.8s-.7-.2-1.1-.2C162.5 39 122.2 51.5 84.1 69c-.3.1-.6.4-.8.7C7.1 183.5-13.8 294.6-3.6 404.2c0 .3.1.5.2.8s.3.4.5.6c44.4 32.9 94 58 146.8 74.2.4.1.8.1 1.1 0s.7-.4.9-.7c11.3-15.4 21.4-31.8 30-48.8.1-.2.2-.5.2-.8s0-.5-.1-.8-.2-.5-.4-.6-.4-.3-.7-.4c-15.8-6.1-31.2-13.4-45.9-21.9-.3-.2-.5-.4-.7-.6s-.3-.6-.3-.9 0-.6.2-.9.3-.5.6-.7c3.1-2.3 6.2-4.7 9.1-7.1.3-.2.6-.4.9-.4s.7 0 1 .1c96.2 43.9 200.4 43.9 295.5 0 .3-.1.7-.2 1-.2s.7.2.9.4c2.9 2.4 6 4.9 9.1 7.2.2.2.4.4.6.7s.2.6.2.9-.1.6-.3.9-.4.5-.6.6c-14.7 8.6-30 15.9-45.9 21.8-.2.1-.5.2-.7.4s-.3.4-.4.7-.1.5-.1.8.1.5.2.8c8.8 17 18.8 33.3 30 48.8.2.3.6.6.9.7s.8.1 1.1 0c52.9-16.2 102.6-41.3 147.1-74.2.2-.2.4-.4.5-.6s.2-.5.2-.8c12.3-126.8-20.5-236.9-86.9-334.5zm-302 267.7c-29 0-52.8-26.6-52.8-59.2s23.4-59.2 52.8-59.2c29.7 0 53.3 26.8 52.8 59.2 0 32.7-23.4 59.2-52.8 59.2m195.4 0c-29 0-52.8-26.6-52.8-59.2s23.4-59.2 52.8-59.2c29.7 0 53.3 26.8 52.8 59.2 0 32.7-23.2 59.2-52.8 59.2"/></svg>
    </a>
    
    
    
    
    
    <a href="https://stackoverflow.com/users/1755598/codewizard" target="_blank" rel="noopener" title="Follow me on Stack Overflow"
        class="md-social__link social-class__stackoverflow">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M291 311 95.3 269.7 87.1 309l195.7 41zm51-87L188.5 95.7 163 126.5l153.5 128.3zm-31.2 39.7L129.5 179l-16.7 36.5L294 300zM262.3 32l-32 24 119.3 160.3 32-24zm20.5 328h-200v39.7h200zm39.7 80H43V320H3v160h359.5V320h-40z"/></svg>
    </a>
    
    
    
    
    
    <a href="https://wa.me/972548122310" target="_blank" rel="noopener" title="Follow me on WhatsApp"
        class="md-social__link social-class__whatsapp">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157m-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1s56.2 81.2 56.1 130.5c0 101.8-84.9 184.6-186.6 184.6m101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8s-14.3 18-17.6 21.8c-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7s-12.5-30.1-17.1-41.2c-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2s-9.7 1.4-14.8 6.9c-5.1 5.6-19.4 19-19.4 46.3s19.9 53.7 22.6 57.4c2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4s4.6-24.1 3.2-26.4c-1.3-2.5-5-3.9-10.5-6.6"/></svg>
    </a>
    
    
    
    
    
    <a href="mailto:nirg@codewizard.co.il" target="_blank" rel="noopener" title="Email me"
        class="md-social__link social-class__email">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M48 64C21.5 64 0 85.5 0 112c0 15.1 7.1 29.3 19.2 38.4l208 156a48 48 0 0 0 57.6 0l208-156c12.1-9.1 19.2-23.3 19.2-38.4 0-26.5-21.5-48-48-48zM0 196v188c0 35.3 28.7 64 64 64h384c35.3 0 64-28.7 64-64V196L313.6 344.8c-34.1 25.6-81.1 25.6-115.2 0z"/></svg>
    </a>
    
</div>
      
    </div>

    <!-- Color palette toggle -->
    
    
    <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-hidden="true"  type="radio" name="__palette" id="__palette_0">
    
  
</form>
    
    

    <!-- User preference: color palette -->
    
    <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    

    <!-- Site language selector -->
    

    <!-- Button to open search modal -->
    
    

    <!-- Check if search is actually enabled - see https://t.ly/DT_0V -->
    
    <label class="md-header__button md-icon" for="__search">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
    </label>

    <!-- Search interface -->
    <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="Share" aria-label="Share" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    

    <!-- Repository information -->
    
    <div class="md-header__source">
      <a href="https://github.com/nirgeier/DockerLabs" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    nirgeier/DockerLabs
  </div>
</a>
    </div>
    
  </nav>

  <!-- Navigation tabs (sticky) -->
  
  
  
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href=".." class="md-tabs__link">
          
  
  
    
  
  Labs

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../Tasks/" class="md-tabs__link">
          
  
  
    
  
  Tasks

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
  
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


  

<nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="DockerLabs - Docker Hands-On" class="md-nav__button md-logo" aria-label="DockerLabs - Docker Hands-On" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 89 89">
  <path d="M3.136,17.387l0,42.932l42.932,21.467l-42.932,-64.399Z" />
  <path d="M21.91,8l42.933,64.398l-18.775,9.388l-42.932,-64.399l18.774,-9.387Z" style="fill-opacity: 0.5" />
  <path d="M67.535,17.387l-27.262,18.156l21.878,32.818l5.384,2.691l0,-53.665Z" />
  <path d="M67.535,17.387l0,53.666l18.774,-9.388l0,-53.665l-18.774,9.387Z" style="fill-opacity: 0.25" />
</svg>

    </a>
    DockerLabs - Docker Hands-On
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/nirgeier/DockerLabs" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    nirgeier/DockerLabs
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
  
    <a href=".." class="md-nav__link">
      
  
  
  <span class="md-ellipsis">
    Labs
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
  
    <a href="../Tasks/" class="md-nav__link">
      
  
  
  <span class="md-ellipsis">
    Tasks
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<div id="print-site-page" class="print-site-enumerate-headings print-site-enumerate-figures">
        <section class="print-page">
            <div id="print-page-toc" data-toc-depth="3">
                <nav role='navigation' class='print-page-toc-nav'>
                <h1 class='print-page-toc-title'>Table of Contents</h1>
                </nav>
            </div>
        </section>
        
                    <section class='print-page md-section' id='section-1' heading-number='1'>
                        <h1>Labs<a class='headerlink' href='#section-1' title='Permanent link'></a>
                        </h1>
                    <section class="print-page" id="index" heading-number="1.1"><h1 id="index-dockerlabs-hands-on">DockerLabs Hands-on<a class="headerlink" href="#index-dockerlabs-hands-on" title="Permanent link">&para;</a></h1>
<p><img alt="DockerLabs Banner" src="../assets/images/docker-logos.png" /></p>
<hr />
<ul>
<li>Welcome to the lab workspace that accompanies the DockerLabs project. </li>
<li>Each folder below is a self-contained lab that you can complete independently to sharpen specific containerization skills. </li>
<li>Follow the README file in each lab for detailed steps.</li>
</ul>
<h2 id="index-how-to-use-those-labs">How to Use Those Labs<a class="headerlink" href="#index-how-to-use-those-labs" title="Permanent link">&para;</a></h2>
<ul>
<li>There are several ways to run the Docker Labs. </li>
<li>Choose the method that works best for you.<ul>
<li><img alt="" class="width-24px" src="../../assets/images/killercoda-icon.png" /> Killercoda  (Recommended)</li>
<li>📜 From Source</li>
<li><img alt="" class="width-24px" src="../../assets/images/gcp.png" /> Using Google Cloud Shell</li>
</ul>
</li>
</ul>
<div class="tabbed-set tabbed-alternate" data-tabs="1:3"><input checked="checked" id="index-__tabbed_1_1" name="index-__tabbed_1" type="radio" /><input id="index-__tabbed_1_2" name="index-__tabbed_1" type="radio" /><input id="index-__tabbed_1_3" name="index-__tabbed_1" type="radio" /><div class="tabbed-labels"><label for="index-__tabbed_1_1"><img alt="" class="" src="../../assets/images/killercoda-icon.png" width-24px="width-24px" /> Killercoda  (Recommended)</label><label for="index-__tabbed_1_2">📜 From Source</label><label for="index-__tabbed_1_3"><img alt="" class="width-24px" src="../../assets/images/gcp.png" /> Using Google Cloud Shell</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<ul>
<li>The easiest way to get started with the labs</li>
<li>Learn Docker in your browser without any local installation</li>
</ul>
<p>🌐 <a href="https://killercoda.com/codewizard/scenario/DockerLabs" target="_blank"><strong>Launch on Killercoda</strong></a></p>
<p><strong>Benefits:</strong></p>
<ul>
<li>No installation required</li>
<li>Pre-configured environment</li>
<li>Works on any device with a web browser</li>
<li>All tools pre-installed</li>
</ul>
</div>
<div class="tabbed-block">
<p>For those who prefer to run it directly on their machine:</p>
<p><div class="language-bash highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#index-__codelineno-0-1"></a><span class="c1"># Clone the repository</span>
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#index-__codelineno-0-2"></a>git<span class="w"> </span>clone<span class="w"> </span>https://github.com/nirgeier/DockerLabs.git
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#index-__codelineno-0-3"></a><span class="c1"># Change to the Labs directory</span>
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4" href="#index-__codelineno-0-4"></a><span class="nb">cd</span><span class="w"> </span>DockerLabs/Labs
</span><span id="__span-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5" href="#index-__codelineno-0-5"></a><span class="c1"># Start with the Docker CLI lab</span>
</span><span id="__span-0-6"><a id="__codelineno-0-6" name="__codelineno-0-6" href="#index-__codelineno-0-6"></a><span class="nb">cd</span><span class="w"> </span><span class="m">001</span>-DockerCli
</span><span id="__span-0-7"><a id="__codelineno-0-7" name="__codelineno-0-7" href="#index-__codelineno-0-7"></a><span class="c1"># Follow the instructions in the README of each lab</span>
</span><span id="__span-0-8"><a id="__codelineno-0-8" name="__codelineno-0-8" href="#index-__codelineno-0-8"></a>cat<span class="w"> </span>README.md
</span></code></pre></div>
<strong>Prerequisites:</strong></p>
<ul>
<li>Ansible installed on your system</li>
<li>A Unix-like operating system (Linux, macOS, or Windows with WSL)</li>
<li>Basic command-line tools</li>
</ul>
</div>
<div class="tabbed-block">
<ul>
<li>Google Cloud Shell provides a free, browser-based environment with all necessary tools pre-installed.</li>
<li>Click on the <code>Open in Google Cloud Shell</code> button below:</li>
</ul>
<p><a href="https://console.cloud.google.com/cloudshell/editor?cloudshell_git_repo=https://github.com/nirgeier/DockerLabs"><img alt="Open in Cloud Shell" src="https://gstatic.com/cloudssh/images/open-btn.svg" /></a></p>
<ul>
<li>The repository will automatically be cloned into a free Cloud instance.</li>
<li>Use <strong><kbd>CTRL</kbd></strong> + click to open it in a new window.</li>
<li>Follow the instructions in the README of each lab.</li>
</ul>
<p><strong>Benefits:</strong></p>
<ul>
<li>No local installation required</li>
<li>Pre-configured environment</li>
<li>Works on any device with a web browser</li>
<li>All tools pre-installed</li>
<li>Free tier available</li>
</ul>
</div>
</div>
</div>
<hr />
<h2 id="index-lab-index">Lab Index<a class="headerlink" href="#index-lab-index" title="Permanent link">&para;</a></h2>
<table>
<thead>
<tr>
<th>Lab</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="#001-dockercli">001 - Docker CLI</a></td>
<td>Practice the core Docker CLI commands for running, inspecting, and managing containers.</td>
</tr>
<tr>
<td><a href="#002-dockerfile">002 - Dockerfile Basics</a></td>
<td>Build your first Node.js container image from a Dockerfile and publish it to a registry.</td>
</tr>
<tr>
<td><a href="#003-dockerfile-multistage">003 - Dockerfile Multi-Stage</a></td>
<td>Learn how multi-stage Dockerfiles produce lean images across build targets.</td>
</tr>
<tr>
<td><a href="#004-localregistry">004 - Local Registry</a></td>
<td>Stand up a private registry, retag images, and push or pull them locally.</td>
</tr>
<tr>
<td><a href="#005-dockercompose">005 - Docker Compose Stack</a></td>
<td>Orchestrate a WordPress and MariaDB stack with Docker Compose.</td>
</tr>
<tr>
<td><a href="#006-dockercompose-env">006 - Compose Environments</a></td>
<td>Structure Compose files and env vars for dev and prod workflows.</td>
</tr>
<tr>
<td><a href="#007-layers">007 - Image Layers &amp; Dive</a></td>
<td>Explore image layer creation and visualize them with the dive tool.</td>
</tr>
<tr>
<td><a href="#008-crictl">008 - CRI <code>crictl</code></a></td>
<td>Placeholder lab for container runtime interface tooling using crictl.</td>
</tr>
<tr>
<td><a href="#009-multistage">009 - Multistage Patterns</a></td>
<td>Review advanced multistage techniques with language-specific examples.</td>
</tr>
<tr>
<td><a href="#010-dockercompose">010 - Compose Reference</a></td>
<td>Quick reference of everyday docker-compose commands and usage.</td>
</tr>
<tr>
<td><a href="#011-bake">011 - Docker Bake</a></td>
<td>Use Docker Buildx Bake to coordinate complex, multi-target image builds.</td>
</tr>
<tr>
<td><a href="#012-gvisor">012 - gVisor Seccomp</a></td>
<td>Apply a gVisor runtime profile to block privileged syscalls inside a container.</td>
</tr>
<tr>
<td><a href="#100-hands-on">100 - Hands-On Intro</a></td>
<td>Guided Node.js exercise covering the full build, run, and publish workflow.</td>
</tr>
</tbody>
</table>
<p>Happy learning and hacking with Docker!</p></section><section class="print-page" id="001-dockercli" heading-number="1.2"><p><img alt="DockerLabs Banner" src="../assets/images/docker-logos.png" /></p>
<hr />
<h1 id="001-dockercli-lab-001-docker-cli">Lab 001 - Docker CLI<a class="headerlink" href="#001-dockercli-lab-001-docker-cli" title="Permanent link">&para;</a></h1>
<ul>
<li>This lab covers the basics of the Docker CLI.</li>
<li>You will learn how to run, manage, and interact with Docker containers using various Docker commands.</li>
<li>By the end of this lab, you will have a solid understanding of how to use the Docker CLI for container management.</li>
</ul>
<hr />
<h2 id="001-dockercli-docker-cli-commands">Docker CLI Commands<a class="headerlink" href="#001-dockercli-docker-cli-commands" title="Permanent link">&para;</a></h2>
<ul>
<li><a href="#001-dockercli-docker-attach"><code>docker attach</code></a></li>
<li><a href="#001-dockercli-docker-build"><code>docker build</code></a></li>
<li><a href="#001-dockercli-docker-commit"><code>docker commit</code></a></li>
<li><a href="#001-dockercli-docker-cp"><code>docker cp</code></a></li>
<li><a href="#001-dockercli-docker-create"><code>docker create</code></a></li>
<li><a href="#001-dockercli-docker-exec"><code>docker exec</code></a></li>
<li><a href="#001-dockercli-docker-images"><code>docker images</code></a></li>
<li><a href="#001-dockercli-docker-inspect"><code>docker inspect</code></a></li>
<li><a href="#001-dockercli-docker-kill"><code>docker kill</code></a></li>
<li><a href="#001-dockercli-docker-logs"><code>docker logs</code></a></li>
<li><a href="#001-dockercli-docker-pause"><code>docker pause</code></a></li>
<li><a href="#001-dockercli-docker-ps"><code>docker ps</code></a></li>
<li><a href="#001-dockercli-docker-pull"><code>docker pull</code></a></li>
<li><a href="#001-dockercli-docker-push"><code>docker push</code></a></li>
<li><a href="#001-dockercli-docker-rename"><code>docker rename</code></a></li>
<li><a href="#001-dockercli-docker-restart"><code>docker restart</code></a></li>
<li><a href="#001-dockercli-docker-rm"><code>docker rm</code></a></li>
<li><a href="#001-dockercli-docker-rmi"><code>docker rmi</code></a></li>
<li><a href="#001-dockercli-docker-run"><code>docker run</code></a></li>
<li><a href="#001-dockercli-docker-run--a"><code>docker run -a</code></a></li>
<li><a href="#001-dockercli-docker-run--d"><code>docker run -d</code></a></li>
<li><a href="#001-dockercli-docker-run--it"><code>docker run -it</code></a></li>
<li><a href="#001-dockercli-docker-run--name"><code>docker run -name</code></a></li>
<li><a href="#001-dockercli-docker-run--p"><code>docker run -p</code></a></li>
<li><a href="#001-dockercli-docker-run-command"><code>docker run &lt;command&gt;</code></a></li>
<li><a href="#001-dockercli-docker-start"><code>docker start</code></a></li>
<li><a href="#001-dockercli-docker-stats"><code>docker stats</code></a></li>
<li><a href="#001-dockercli-docker-stop"><code>docker stop</code></a></li>
<li><a href="#001-dockercli-docker-top"><code>docker top</code></a></li>
<li><a href="#001-dockercli-docker-unpause"><code>docker unpause</code></a></li>
<li><a href="#001-dockercli-docker-wait"><code>docker wait</code></a></li>
</ul>
<hr />
<h3 id="001-dockercli-docker-attach"><code>docker attach</code><a class="headerlink" href="#001-dockercli-docker-attach" title="Permanent link">&para;</a></h3>
<ul>
<li><code>docker attach</code> is used to attach your terminal to a running container.</li>
<li>This is useful when you want to interact with a container that is already running.</li>
<li>For example, if you have a container running a shell or an application that accepts input, you can use <code>docker attach</code> to connect to it.</li>
</ul>
<div class="language-sh highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#001-dockercli-__codelineno-0-1"></a><span class="c1"># Spin an alpine image and start it in the background</span>
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#001-dockercli-__codelineno-0-2"></a>docker<span class="w"> </span>run<span class="w"> </span>-it<span class="w"> </span>-d<span class="w"> </span>--name<span class="w"> </span>alpine001<span class="w"> </span>alpine<span class="w"> </span>sleep<span class="w"> </span><span class="m">10000</span>
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#001-dockercli-__codelineno-0-3"></a>
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4" href="#001-dockercli-__codelineno-0-4"></a><span class="c1"># Attach to the container and start a shell inside it</span>
</span><span id="__span-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5" href="#001-dockercli-__codelineno-0-5"></a>docker<span class="w"> </span>attach<span class="w"> </span>alpine001
</span></code></pre></div>
<div class="admonition debug">
<p class="admonition-title">Detaching from a Container</p>
<ul>
<li>To detach from the container without stopping it, you can use the <kbd>CTRL + P</kbd> followed by <kbd>CTRL + Q</kbd> key combination.    </li>
<li>This will leave the container running in the background while you return to your terminal.  <ul>
<li><strong>This detach sequence only works if the container was started with the <code>-it</code> flags (interactive with a TTY)</strong></li>
</ul>
</li>
</ul>
</div>
<hr />
<h3 id="001-dockercli-docker-build"><code>docker build</code><a class="headerlink" href="#001-dockercli-docker-build" title="Permanent link">&para;</a></h3>
<ul>
<li><code>docker build</code> creates a Docker image from a Dockerfile.</li>
<li>
<p>This is one of the most important commands for creating custom images.</p>
<div class="language-sh highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#001-dockercli-__codelineno-1-1"></a><span class="c1"># Create a simple Dockerfile</span>
</span><span id="__span-1-2"><a id="__codelineno-1-2" name="__codelineno-1-2" href="#001-dockercli-__codelineno-1-2"></a>mkdir<span class="w"> </span>-p<span class="w"> </span>/tmp/docker-build-example
</span><span id="__span-1-3"><a id="__codelineno-1-3" name="__codelineno-1-3" href="#001-dockercli-__codelineno-1-3"></a><span class="nb">cd</span><span class="w"> </span>/tmp/docker-build-example
</span><span id="__span-1-4"><a id="__codelineno-1-4" name="__codelineno-1-4" href="#001-dockercli-__codelineno-1-4"></a>
</span><span id="__span-1-5"><a id="__codelineno-1-5" name="__codelineno-1-5" href="#001-dockercli-__codelineno-1-5"></a>cat<span class="w"> </span><span class="s">&lt;&lt;&#39;EOF&#39; &gt; Dockerfile</span>
</span><span id="__span-1-6"><a id="__codelineno-1-6" name="__codelineno-1-6" href="#001-dockercli-__codelineno-1-6"></a><span class="s">FROM alpine:latest</span>
</span><span id="__span-1-7"><a id="__codelineno-1-7" name="__codelineno-1-7" href="#001-dockercli-__codelineno-1-7"></a><span class="s">RUN apk add --no-cache curl</span>
</span><span id="__span-1-8"><a id="__codelineno-1-8" name="__codelineno-1-8" href="#001-dockercli-__codelineno-1-8"></a><span class="s">CMD [&quot;echo&quot;, &quot;Hello from custom image&quot;]</span>
</span><span id="__span-1-9"><a id="__codelineno-1-9" name="__codelineno-1-9" href="#001-dockercli-__codelineno-1-9"></a><span class="s">EOF</span>
</span><span id="__span-1-10"><a id="__codelineno-1-10" name="__codelineno-1-10" href="#001-dockercli-__codelineno-1-10"></a>
</span><span id="__span-1-11"><a id="__codelineno-1-11" name="__codelineno-1-11" href="#001-dockercli-__codelineno-1-11"></a><span class="c1"># Build the image with a tag</span>
</span><span id="__span-1-12"><a id="__codelineno-1-12" name="__codelineno-1-12" href="#001-dockercli-__codelineno-1-12"></a>docker<span class="w"> </span>build<span class="w"> </span>-t<span class="w"> </span>my-custom-alpine:v1.0<span class="w"> </span>.
</span><span id="__span-1-13"><a id="__codelineno-1-13" name="__codelineno-1-13" href="#001-dockercli-__codelineno-1-13"></a>
</span><span id="__span-1-14"><a id="__codelineno-1-14" name="__codelineno-1-14" href="#001-dockercli-__codelineno-1-14"></a><span class="c1"># Build with a different tag</span>
</span><span id="__span-1-15"><a id="__codelineno-1-15" name="__codelineno-1-15" href="#001-dockercli-__codelineno-1-15"></a>docker<span class="w"> </span>build<span class="w"> </span>-t<span class="w"> </span>my-custom-alpine:latest<span class="w"> </span>.
</span><span id="__span-1-16"><a id="__codelineno-1-16" name="__codelineno-1-16" href="#001-dockercli-__codelineno-1-16"></a>
</span><span id="__span-1-17"><a id="__codelineno-1-17" name="__codelineno-1-17" href="#001-dockercli-__codelineno-1-17"></a><span class="c1"># Build without using cache</span>
</span><span id="__span-1-18"><a id="__codelineno-1-18" name="__codelineno-1-18" href="#001-dockercli-__codelineno-1-18"></a>docker<span class="w"> </span>build<span class="w"> </span>--no-cache<span class="w"> </span>-t<span class="w"> </span>my-custom-alpine:v1.0<span class="w"> </span>.
</span><span id="__span-1-19"><a id="__codelineno-1-19" name="__codelineno-1-19" href="#001-dockercli-__codelineno-1-19"></a>
</span><span id="__span-1-20"><a id="__codelineno-1-20" name="__codelineno-1-20" href="#001-dockercli-__codelineno-1-20"></a><span class="c1"># Test the built image</span>
</span><span id="__span-1-21"><a id="__codelineno-1-21" name="__codelineno-1-21" href="#001-dockercli-__codelineno-1-21"></a>docker<span class="w"> </span>run<span class="w"> </span>--rm<span class="w"> </span>my-custom-alpine:v1.0
</span><span id="__span-1-22"><a id="__codelineno-1-22" name="__codelineno-1-22" href="#001-dockercli-__codelineno-1-22"></a>
</span><span id="__span-1-23"><a id="__codelineno-1-23" name="__codelineno-1-23" href="#001-dockercli-__codelineno-1-23"></a><span class="c1"># Clean up</span>
</span><span id="__span-1-24"><a id="__codelineno-1-24" name="__codelineno-1-24" href="#001-dockercli-__codelineno-1-24"></a><span class="nb">cd</span><span class="w"> </span>-
</span><span id="__span-1-25"><a id="__codelineno-1-25" name="__codelineno-1-25" href="#001-dockercli-__codelineno-1-25"></a>rm<span class="w"> </span>-rf<span class="w"> </span>/tmp/docker-build-example
</span></code></pre></div>
</li>
</ul>
<hr />
<h3 id="001-dockercli-docker-commit"><code>docker commit</code><a class="headerlink" href="#001-dockercli-docker-commit" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p><code>docker commit</code> will create a new images out of an existing container.</p>
<div class="language-sh highlight"><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#001-dockercli-__codelineno-2-1"></a><span class="c1"># Clean up and remove the container</span>
</span><span id="__span-2-2"><a id="__codelineno-2-2" name="__codelineno-2-2" href="#001-dockercli-__codelineno-2-2"></a>docker<span class="w"> </span>stop<span class="w"> </span>nginx
</span><span id="__span-2-3"><a id="__codelineno-2-3" name="__codelineno-2-3" href="#001-dockercli-__codelineno-2-3"></a>docker<span class="w"> </span>rm<span class="w">   </span>nginx
</span><span id="__span-2-4"><a id="__codelineno-2-4" name="__codelineno-2-4" href="#001-dockercli-__codelineno-2-4"></a>
</span><span id="__span-2-5"><a id="__codelineno-2-5" name="__codelineno-2-5" href="#001-dockercli-__codelineno-2-5"></a><span class="c1"># Spin the container</span>
</span><span id="__span-2-6"><a id="__codelineno-2-6" name="__codelineno-2-6" href="#001-dockercli-__codelineno-2-6"></a>docker<span class="w">  </span>run<span class="w">  </span>-it<span class="w"> </span>-d<span class="w"> </span>-p<span class="w"> </span><span class="m">8888</span>:80<span class="w"> </span>--name<span class="w"> </span>nginx<span class="w"> </span>nginx
</span><span id="__span-2-7"><a id="__codelineno-2-7" name="__codelineno-2-7" href="#001-dockercli-__codelineno-2-7"></a>
</span><span id="__span-2-8"><a id="__codelineno-2-8" name="__codelineno-2-8" href="#001-dockercli-__codelineno-2-8"></a><span class="c1"># Wait for the container to start</span>
</span><span id="__span-2-9"><a id="__codelineno-2-9" name="__codelineno-2-9" href="#001-dockercli-__codelineno-2-9"></a>sleep<span class="w"> </span><span class="m">5</span>
</span><span id="__span-2-10"><a id="__codelineno-2-10" name="__codelineno-2-10" href="#001-dockercli-__codelineno-2-10"></a>
</span><span id="__span-2-11"><a id="__codelineno-2-11" name="__codelineno-2-11" href="#001-dockercli-__codelineno-2-11"></a><span class="c1"># Prepare the desired welcome page</span>
</span><span id="__span-2-12"><a id="__codelineno-2-12" name="__codelineno-2-12" href="#001-dockercli-__codelineno-2-12"></a>docker<span class="w">  </span><span class="nb">exec</span><span class="w"> </span>-it<span class="w"> </span>nginx<span class="w"> </span>sh<span class="w"> </span>-c<span class="w"> </span><span class="s2">&quot;                  \</span>
</span><span id="__span-2-13"><a id="__codelineno-2-13" name="__codelineno-2-13" href="#001-dockercli-__codelineno-2-13"></a><span class="s2">        echo &#39;This is a custom message ... &#39; &gt;  \</span>
</span><span id="__span-2-14"><a id="__codelineno-2-14" name="__codelineno-2-14" href="#001-dockercli-__codelineno-2-14"></a><span class="s2">        /usr/share/nginx/html/index.html&quot;</span>
</span><span id="__span-2-15"><a id="__codelineno-2-15" name="__codelineno-2-15" href="#001-dockercli-__codelineno-2-15"></a>
</span><span id="__span-2-16"><a id="__codelineno-2-16" name="__codelineno-2-16" href="#001-dockercli-__codelineno-2-16"></a><span class="c1"># Verify the changes</span>
</span><span id="__span-2-17"><a id="__codelineno-2-17" name="__codelineno-2-17" href="#001-dockercli-__codelineno-2-17"></a>curl<span class="w"> </span>-s<span class="w"> </span>localhost:8888
</span><span id="__span-2-18"><a id="__codelineno-2-18" name="__codelineno-2-18" href="#001-dockercli-__codelineno-2-18"></a>
</span><span id="__span-2-19"><a id="__codelineno-2-19" name="__codelineno-2-19" href="#001-dockercli-__codelineno-2-19"></a><span class="c1"># Create the custom image</span>
</span><span id="__span-2-20"><a id="__codelineno-2-20" name="__codelineno-2-20" href="#001-dockercli-__codelineno-2-20"></a>docker<span class="w"> </span>commit<span class="w"> </span>nginx<span class="w"> </span>nirgeier/custom-nginx-image
</span><span id="__span-2-21"><a id="__codelineno-2-21" name="__codelineno-2-21" href="#001-dockercli-__codelineno-2-21"></a>
</span><span id="__span-2-22"><a id="__codelineno-2-22" name="__codelineno-2-22" href="#001-dockercli-__codelineno-2-22"></a><span class="c1"># Clean up and remove the container</span>
</span><span id="__span-2-23"><a id="__codelineno-2-23" name="__codelineno-2-23" href="#001-dockercli-__codelineno-2-23"></a>docker<span class="w"> </span>stop<span class="w"> </span>nginx
</span><span id="__span-2-24"><a id="__codelineno-2-24" name="__codelineno-2-24" href="#001-dockercli-__codelineno-2-24"></a>docker<span class="w"> </span>rm<span class="w">   </span>nginx
</span><span id="__span-2-25"><a id="__codelineno-2-25" name="__codelineno-2-25" href="#001-dockercli-__codelineno-2-25"></a>
</span><span id="__span-2-26"><a id="__codelineno-2-26" name="__codelineno-2-26" href="#001-dockercli-__codelineno-2-26"></a><span class="c1"># Push to the registry</span>
</span><span id="__span-2-27"><a id="__codelineno-2-27" name="__codelineno-2-27" href="#001-dockercli-__codelineno-2-27"></a>docker<span class="w"> </span>push<span class="w"> </span>nirgeier/custom-nginx-image
</span><span id="__span-2-28"><a id="__codelineno-2-28" name="__codelineno-2-28" href="#001-dockercli-__codelineno-2-28"></a>
</span><span id="__span-2-29"><a id="__codelineno-2-29" name="__codelineno-2-29" href="#001-dockercli-__codelineno-2-29"></a><span class="c1"># Clean up and remove the container</span>
</span><span id="__span-2-30"><a id="__codelineno-2-30" name="__codelineno-2-30" href="#001-dockercli-__codelineno-2-30"></a>docker<span class="w"> </span>stop<span class="w"> </span>custom-nginx
</span><span id="__span-2-31"><a id="__codelineno-2-31" name="__codelineno-2-31" href="#001-dockercli-__codelineno-2-31"></a>docker<span class="w"> </span>rm<span class="w">   </span>custom-nginx
</span><span id="__span-2-32"><a id="__codelineno-2-32" name="__codelineno-2-32" href="#001-dockercli-__codelineno-2-32"></a>
</span><span id="__span-2-33"><a id="__codelineno-2-33" name="__codelineno-2-33" href="#001-dockercli-__codelineno-2-33"></a><span class="c1"># Push to the registry</span>
</span><span id="__span-2-34"><a id="__codelineno-2-34" name="__codelineno-2-34" href="#001-dockercli-__codelineno-2-34"></a>docker<span class="w">  </span>run<span class="w"> </span>-it<span class="w"> </span>-d<span class="w"> </span>--name<span class="w"> </span>custom-nginx<span class="w">  </span><span class="se">\</span>
</span><span id="__span-2-35"><a id="__codelineno-2-35" name="__codelineno-2-35" href="#001-dockercli-__codelineno-2-35"></a><span class="w">        </span>-p<span class="w"> </span><span class="m">8888</span>:80<span class="w">                      </span><span class="se">\</span>
</span><span id="__span-2-36"><a id="__codelineno-2-36" name="__codelineno-2-36" href="#001-dockercli-__codelineno-2-36"></a><span class="w">        </span>nirgeier/custom-nginx-image
</span><span id="__span-2-37"><a id="__codelineno-2-37" name="__codelineno-2-37" href="#001-dockercli-__codelineno-2-37"></a>
</span><span id="__span-2-38"><a id="__codelineno-2-38" name="__codelineno-2-38" href="#001-dockercli-__codelineno-2-38"></a><span class="c1"># Wait for the container to start</span>
</span><span id="__span-2-39"><a id="__codelineno-2-39" name="__codelineno-2-39" href="#001-dockercli-__codelineno-2-39"></a>sleep<span class="w"> </span><span class="m">5</span>
</span><span id="__span-2-40"><a id="__codelineno-2-40" name="__codelineno-2-40" href="#001-dockercli-__codelineno-2-40"></a>
</span><span id="__span-2-41"><a id="__codelineno-2-41" name="__codelineno-2-41" href="#001-dockercli-__codelineno-2-41"></a><span class="c1"># Verify the changes</span>
</span><span id="__span-2-42"><a id="__codelineno-2-42" name="__codelineno-2-42" href="#001-dockercli-__codelineno-2-42"></a>curl<span class="w"> </span>-s<span class="w"> </span>localhost:8888
</span><span id="__span-2-43"><a id="__codelineno-2-43" name="__codelineno-2-43" href="#001-dockercli-__codelineno-2-43"></a>
</span><span id="__span-2-44"><a id="__codelineno-2-44" name="__codelineno-2-44" href="#001-dockercli-__codelineno-2-44"></a><span class="c1"># Clean up and remove the container</span>
</span><span id="__span-2-45"><a id="__codelineno-2-45" name="__codelineno-2-45" href="#001-dockercli-__codelineno-2-45"></a>docker<span class="w"> </span>stop<span class="w"> </span>custom-nginx
</span><span id="__span-2-46"><a id="__codelineno-2-46" name="__codelineno-2-46" href="#001-dockercli-__codelineno-2-46"></a>docker<span class="w"> </span>rm<span class="w">   </span>custom-nginx
</span></code></pre></div>
</li>
</ul>
<hr />
<h3 id="001-dockercli-docker-cp"><code>docker cp</code><a class="headerlink" href="#001-dockercli-docker-cp" title="Permanent link">&para;</a></h3>
<ul>
<li><code>docker cp</code> is used to copy files between the container and the host</li>
<li>Lets spin a container and then lets grab the logs of this container to our host</li>
</ul>
<div class="admonition debug">
<p class="admonition-title">Copying files from and to a Container</p>
<p>Since container are &ldquo;file system&rdquo; we can grab files even when the container is stopped.</p>
</div>
<ul>
<li>
<p>Example 1 - Copy file from Container to Host</p>
<div class="language-sh highlight"><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#001-dockercli-__codelineno-3-1"></a><span class="c1"># Spin a container</span>
</span><span id="__span-3-2"><a id="__codelineno-3-2" name="__codelineno-3-2" href="#001-dockercli-__codelineno-3-2"></a>docker<span class="w"> </span>run<span class="w"> </span>-it<span class="w"> </span>-d<span class="w"> </span>--name<span class="w"> </span>nginx<span class="w"> </span>-p<span class="w"> </span><span class="m">8888</span>:80<span class="w"> </span>nginx
</span><span id="__span-3-3"><a id="__codelineno-3-3" name="__codelineno-3-3" href="#001-dockercli-__codelineno-3-3"></a>
</span><span id="__span-3-4"><a id="__codelineno-3-4" name="__codelineno-3-4" href="#001-dockercli-__codelineno-3-4"></a><span class="c1"># grab the nginx default configuration </span>
</span><span id="__span-3-5"><a id="__codelineno-3-5" name="__codelineno-3-5" href="#001-dockercli-__codelineno-3-5"></a>docker<span class="w"> </span>cp<span class="w"> </span>nginx:/etc/nginx/nginx.conf<span class="w"> </span>nginx.conf<span class="w"> </span>
</span><span id="__span-3-6"><a id="__codelineno-3-6" name="__codelineno-3-6" href="#001-dockercli-__codelineno-3-6"></a>
</span><span id="__span-3-7"><a id="__codelineno-3-7" name="__codelineno-3-7" href="#001-dockercli-__codelineno-3-7"></a><span class="c1"># Verify that the file exists locally</span>
</span><span id="__span-3-8"><a id="__codelineno-3-8" name="__codelineno-3-8" href="#001-dockercli-__codelineno-3-8"></a>cat<span class="w"> </span>nginx.conf<span class="w"> </span>
</span></code></pre></div>
</li>
<li>
<p>Example 2 - Copy file from Host to Container</p>
<ul>
<li>In the second example we will upload file to our container</li>
<li>We will change the default nginx welcome page with our own page</li>
</ul>
<div class="language-sh highlight"><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#001-dockercli-__codelineno-4-1"></a><span class="c1"># Prepare the desired welcome page</span>
</span><span id="__span-4-2"><a id="__codelineno-4-2" name="__codelineno-4-2" href="#001-dockercli-__codelineno-4-2"></a><span class="nb">echo</span><span class="w"> </span><span class="s1">&#39;Welcome to the world of Docker&#39;</span><span class="w"> </span>&gt;<span class="w"> </span>index.html
</span><span id="__span-4-3"><a id="__codelineno-4-3" name="__codelineno-4-3" href="#001-dockercli-__codelineno-4-3"></a>
</span><span id="__span-4-4"><a id="__codelineno-4-4" name="__codelineno-4-4" href="#001-dockercli-__codelineno-4-4"></a><span class="c1"># Copy the file to the container </span>
</span><span id="__span-4-5"><a id="__codelineno-4-5" name="__codelineno-4-5" href="#001-dockercli-__codelineno-4-5"></a>docker<span class="w"> </span>cp<span class="w"> </span>index.html<span class="w"> </span>nginx:/usr/share/nginx/html
</span><span id="__span-4-6"><a id="__codelineno-4-6" name="__codelineno-4-6" href="#001-dockercli-__codelineno-4-6"></a>
</span><span id="__span-4-7"><a id="__codelineno-4-7" name="__codelineno-4-7" href="#001-dockercli-__codelineno-4-7"></a><span class="c1"># Test the changes to the container</span>
</span><span id="__span-4-8"><a id="__codelineno-4-8" name="__codelineno-4-8" href="#001-dockercli-__codelineno-4-8"></a>curl<span class="w"> </span>-s<span class="w"> </span>localhost:8888
</span><span id="__span-4-9"><a id="__codelineno-4-9" name="__codelineno-4-9" href="#001-dockercli-__codelineno-4-9"></a>
</span><span id="__span-4-10"><a id="__codelineno-4-10" name="__codelineno-4-10" href="#001-dockercli-__codelineno-4-10"></a><span class="c1"># Clean up and remove the container</span>
</span><span id="__span-4-11"><a id="__codelineno-4-11" name="__codelineno-4-11" href="#001-dockercli-__codelineno-4-11"></a>docker<span class="w"> </span>stop<span class="w"> </span>nginx
</span><span id="__span-4-12"><a id="__codelineno-4-12" name="__codelineno-4-12" href="#001-dockercli-__codelineno-4-12"></a>docker<span class="w"> </span>rm<span class="w">   </span>nginx
</span></code></pre></div>
</li>
</ul>
<hr />
<h3 id="001-dockercli-docker-create"><code>docker create</code><a class="headerlink" href="#001-dockercli-docker-create" title="Permanent link">&para;</a></h3>
<ul>
<li><code>docker create</code> creates a new container but does not start it.</li>
<li>This is useful when you want to prepare a container and start it later.
    <div class="language-sh highlight"><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1" href="#001-dockercli-__codelineno-5-1"></a><span class="c1"># Create a container without starting it</span>
</span><span id="__span-5-2"><a id="__codelineno-5-2" name="__codelineno-5-2" href="#001-dockercli-__codelineno-5-2"></a>docker<span class="w"> </span>create<span class="w"> </span>--name<span class="w"> </span>my-nginx<span class="w"> </span>nginx
</span><span id="__span-5-3"><a id="__codelineno-5-3" name="__codelineno-5-3" href="#001-dockercli-__codelineno-5-3"></a>
</span><span id="__span-5-4"><a id="__codelineno-5-4" name="__codelineno-5-4" href="#001-dockercli-__codelineno-5-4"></a><span class="c1"># Verify the container is created but not running</span>
</span><span id="__span-5-5"><a id="__codelineno-5-5" name="__codelineno-5-5" href="#001-dockercli-__codelineno-5-5"></a>docker<span class="w"> </span>ps<span class="w"> </span>-a<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>my-nginx
</span><span id="__span-5-6"><a id="__codelineno-5-6" name="__codelineno-5-6" href="#001-dockercli-__codelineno-5-6"></a>
</span><span id="__span-5-7"><a id="__codelineno-5-7" name="__codelineno-5-7" href="#001-dockercli-__codelineno-5-7"></a><span class="c1"># Create a container with port mapping</span>
</span><span id="__span-5-8"><a id="__codelineno-5-8" name="__codelineno-5-8" href="#001-dockercli-__codelineno-5-8"></a>docker<span class="w"> </span>create<span class="w"> </span>--name<span class="w"> </span>web-server<span class="w"> </span>-p<span class="w"> </span><span class="m">8080</span>:80<span class="w"> </span>nginx
</span><span id="__span-5-9"><a id="__codelineno-5-9" name="__codelineno-5-9" href="#001-dockercli-__codelineno-5-9"></a>
</span><span id="__span-5-10"><a id="__codelineno-5-10" name="__codelineno-5-10" href="#001-dockercli-__codelineno-5-10"></a><span class="c1"># Create with environment variables</span>
</span><span id="__span-5-11"><a id="__codelineno-5-11" name="__codelineno-5-11" href="#001-dockercli-__codelineno-5-11"></a>docker<span class="w"> </span>create<span class="w"> </span>--name<span class="w"> </span>db-container<span class="w"> </span>-e<span class="w"> </span><span class="nv">POSTGRES_PASSWORD</span><span class="o">=</span>secret<span class="w"> </span>postgres
</span><span id="__span-5-12"><a id="__codelineno-5-12" name="__codelineno-5-12" href="#001-dockercli-__codelineno-5-12"></a>
</span><span id="__span-5-13"><a id="__codelineno-5-13" name="__codelineno-5-13" href="#001-dockercli-__codelineno-5-13"></a><span class="c1"># Create with volume mount</span>
</span><span id="__span-5-14"><a id="__codelineno-5-14" name="__codelineno-5-14" href="#001-dockercli-__codelineno-5-14"></a>docker<span class="w"> </span>create<span class="w"> </span>--name<span class="w"> </span>data-container<span class="w"> </span>-v<span class="w"> </span>/data<span class="w"> </span>alpine
</span><span id="__span-5-15"><a id="__codelineno-5-15" name="__codelineno-5-15" href="#001-dockercli-__codelineno-5-15"></a>
</span><span id="__span-5-16"><a id="__codelineno-5-16" name="__codelineno-5-16" href="#001-dockercli-__codelineno-5-16"></a><span class="c1"># Start the created container</span>
</span><span id="__span-5-17"><a id="__codelineno-5-17" name="__codelineno-5-17" href="#001-dockercli-__codelineno-5-17"></a>docker<span class="w"> </span>start<span class="w"> </span>my-nginx
</span><span id="__span-5-18"><a id="__codelineno-5-18" name="__codelineno-5-18" href="#001-dockercli-__codelineno-5-18"></a>
</span><span id="__span-5-19"><a id="__codelineno-5-19" name="__codelineno-5-19" href="#001-dockercli-__codelineno-5-19"></a><span class="c1"># Clean up</span>
</span><span id="__span-5-20"><a id="__codelineno-5-20" name="__codelineno-5-20" href="#001-dockercli-__codelineno-5-20"></a>docker<span class="w"> </span>stop<span class="w"> </span>my-nginx
</span><span id="__span-5-21"><a id="__codelineno-5-21" name="__codelineno-5-21" href="#001-dockercli-__codelineno-5-21"></a>docker<span class="w"> </span>rm<span class="w"> </span>my-nginx<span class="w"> </span>web-server<span class="w"> </span>db-container<span class="w"> </span>data-container
</span></code></pre></div></li>
</ul>
<hr />
<h3 id="001-dockercli-docker-exec"><code>docker exec</code><a class="headerlink" href="#001-dockercli-docker-exec" title="Permanent link">&para;</a></h3>
<ul>
<li>Execute a command in a <strong>running</strong> container
    <div class="language-sh highlight"><pre><span></span><code><span id="__span-6-1"><a id="__codelineno-6-1" name="__codelineno-6-1" href="#001-dockercli-__codelineno-6-1"></a><span class="c1"># Remove old containers with the same name</span>
</span><span id="__span-6-2"><a id="__codelineno-6-2" name="__codelineno-6-2" href="#001-dockercli-__codelineno-6-2"></a>docker<span class="w"> </span>stop<span class="w"> </span>alpine001
</span><span id="__span-6-3"><a id="__codelineno-6-3" name="__codelineno-6-3" href="#001-dockercli-__codelineno-6-3"></a>docker<span class="w"> </span>rm<span class="w">   </span>alpine001
</span><span id="__span-6-4"><a id="__codelineno-6-4" name="__codelineno-6-4" href="#001-dockercli-__codelineno-6-4"></a>
</span><span id="__span-6-5"><a id="__codelineno-6-5" name="__codelineno-6-5" href="#001-dockercli-__codelineno-6-5"></a><span class="c1"># Spin an alpine image</span>
</span><span id="__span-6-6"><a id="__codelineno-6-6" name="__codelineno-6-6" href="#001-dockercli-__codelineno-6-6"></a>docker<span class="w"> </span>run<span class="w"> </span>-it<span class="w"> </span>-d<span class="w"> </span>--name<span class="w"> </span>alpine001<span class="w"> </span>alpine<span class="w"> </span>sleep<span class="w"> </span><span class="m">10000</span>
</span><span id="__span-6-7"><a id="__codelineno-6-7" name="__codelineno-6-7" href="#001-dockercli-__codelineno-6-7"></a>
</span><span id="__span-6-8"><a id="__codelineno-6-8" name="__codelineno-6-8" href="#001-dockercli-__codelineno-6-8"></a><span class="c1"># Test that curl is not installed on the container</span>
</span><span id="__span-6-9"><a id="__codelineno-6-9" name="__codelineno-6-9" href="#001-dockercli-__codelineno-6-9"></a>docker<span class="w"> </span><span class="nb">exec</span><span class="w"> </span>-it<span class="w"> </span>alpine001<span class="w"> </span>curl
</span><span id="__span-6-10"><a id="__codelineno-6-10" name="__codelineno-6-10" href="#001-dockercli-__codelineno-6-10"></a>
</span><span id="__span-6-11"><a id="__codelineno-6-11" name="__codelineno-6-11" href="#001-dockercli-__codelineno-6-11"></a><span class="c1"># Install a new package on the container</span>
</span><span id="__span-6-12"><a id="__codelineno-6-12" name="__codelineno-6-12" href="#001-dockercli-__codelineno-6-12"></a>docker<span class="w"> </span><span class="nb">exec</span><span class="w"> </span>-it<span class="w"> </span>alpine001<span class="w"> </span>apk<span class="w"> </span>add<span class="w"> </span>curl
</span><span id="__span-6-13"><a id="__codelineno-6-13" name="__codelineno-6-13" href="#001-dockercli-__codelineno-6-13"></a>
</span><span id="__span-6-14"><a id="__codelineno-6-14" name="__codelineno-6-14" href="#001-dockercli-__codelineno-6-14"></a><span class="c1"># Test that curl is installed</span>
</span><span id="__span-6-15"><a id="__codelineno-6-15" name="__codelineno-6-15" href="#001-dockercli-__codelineno-6-15"></a>docker<span class="w"> </span><span class="nb">exec</span><span class="w"> </span>-it<span class="w"> </span>alpine001<span class="w"> </span>curl<span class="w"> </span>codewizard.co.il
</span><span id="__span-6-16"><a id="__codelineno-6-16" name="__codelineno-6-16" href="#001-dockercli-__codelineno-6-16"></a>
</span><span id="__span-6-17"><a id="__codelineno-6-17" name="__codelineno-6-17" href="#001-dockercli-__codelineno-6-17"></a><span class="c1"># Interact with the alpine image and open bash shell</span>
</span><span id="__span-6-18"><a id="__codelineno-6-18" name="__codelineno-6-18" href="#001-dockercli-__codelineno-6-18"></a>docker<span class="w"> </span><span class="nb">exec</span><span class="w"> </span>-it<span class="w"> </span>alpine001<span class="w"> </span>sh
</span></code></pre></div></li>
</ul>
<hr />
<h3 id="001-dockercli-docker-images"><code>docker images</code><a class="headerlink" href="#001-dockercli-docker-images" title="Permanent link">&para;</a></h3>
<ul>
<li><code>docker images</code> lists all Docker images on your system.</li>
<li>
<p>This command helps you see what images you have available locally.</p>
<div class="language-sh highlight"><pre><span></span><code><span id="__span-7-1"><a id="__codelineno-7-1" name="__codelineno-7-1" href="#001-dockercli-__codelineno-7-1"></a><span class="c1"># List all images</span>
</span><span id="__span-7-2"><a id="__codelineno-7-2" name="__codelineno-7-2" href="#001-dockercli-__codelineno-7-2"></a>docker<span class="w"> </span>images
</span><span id="__span-7-3"><a id="__codelineno-7-3" name="__codelineno-7-3" href="#001-dockercli-__codelineno-7-3"></a>
</span><span id="__span-7-4"><a id="__codelineno-7-4" name="__codelineno-7-4" href="#001-dockercli-__codelineno-7-4"></a><span class="c1"># List images with specific format</span>
</span><span id="__span-7-5"><a id="__codelineno-7-5" name="__codelineno-7-5" href="#001-dockercli-__codelineno-7-5"></a>docker<span class="w"> </span>images<span class="w"> </span>--format<span class="w"> </span><span class="s2">&quot;table {{.Repository}}\t{{.Tag}}\t{{.Size}}&quot;</span>
</span><span id="__span-7-6"><a id="__codelineno-7-6" name="__codelineno-7-6" href="#001-dockercli-__codelineno-7-6"></a>
</span><span id="__span-7-7"><a id="__codelineno-7-7" name="__codelineno-7-7" href="#001-dockercli-__codelineno-7-7"></a><span class="c1"># List all image IDs</span>
</span><span id="__span-7-8"><a id="__codelineno-7-8" name="__codelineno-7-8" href="#001-dockercli-__codelineno-7-8"></a>docker<span class="w"> </span>images<span class="w"> </span>-q
</span><span id="__span-7-9"><a id="__codelineno-7-9" name="__codelineno-7-9" href="#001-dockercli-__codelineno-7-9"></a>
</span><span id="__span-7-10"><a id="__codelineno-7-10" name="__codelineno-7-10" href="#001-dockercli-__codelineno-7-10"></a><span class="c1"># List dangling images (images with no tag)</span>
</span><span id="__span-7-11"><a id="__codelineno-7-11" name="__codelineno-7-11" href="#001-dockercli-__codelineno-7-11"></a>docker<span class="w"> </span>images<span class="w"> </span>-f<span class="w"> </span><span class="s2">&quot;dangling=true&quot;</span>
</span><span id="__span-7-12"><a id="__codelineno-7-12" name="__codelineno-7-12" href="#001-dockercli-__codelineno-7-12"></a>
</span><span id="__span-7-13"><a id="__codelineno-7-13" name="__codelineno-7-13" href="#001-dockercli-__codelineno-7-13"></a><span class="c1"># Filter images by name</span>
</span><span id="__span-7-14"><a id="__codelineno-7-14" name="__codelineno-7-14" href="#001-dockercli-__codelineno-7-14"></a>docker<span class="w"> </span>images<span class="w"> </span>alpine
</span><span id="__span-7-15"><a id="__codelineno-7-15" name="__codelineno-7-15" href="#001-dockercli-__codelineno-7-15"></a>
</span><span id="__span-7-16"><a id="__codelineno-7-16" name="__codelineno-7-16" href="#001-dockercli-__codelineno-7-16"></a><span class="c1"># Show all images including intermediate layers</span>
</span><span id="__span-7-17"><a id="__codelineno-7-17" name="__codelineno-7-17" href="#001-dockercli-__codelineno-7-17"></a>docker<span class="w"> </span>images<span class="w"> </span>-a
</span></code></pre></div>
</li>
</ul>
<hr />
<h3 id="001-dockercli-docker-inspect"><code>docker inspect</code><a class="headerlink" href="#001-dockercli-docker-inspect" title="Permanent link">&para;</a></h3>
<ul>
<li><code>docker inspect</code> provides detailed information about Docker objects (containers, images, volumes, networks).</li>
<li>Returns a JSON array with all the metadata.
    <div class="language-sh highlight"><pre><span></span><code><span id="__span-8-1"><a id="__codelineno-8-1" name="__codelineno-8-1" href="#001-dockercli-__codelineno-8-1"></a><span class="c1"># Create a container for inspection</span>
</span><span id="__span-8-2"><a id="__codelineno-8-2" name="__codelineno-8-2" href="#001-dockercli-__codelineno-8-2"></a>docker<span class="w"> </span>run<span class="w"> </span>-d<span class="w"> </span>--name<span class="w"> </span>nginx-inspect<span class="w"> </span>-p<span class="w"> </span><span class="m">8080</span>:80<span class="w"> </span>nginx
</span><span id="__span-8-3"><a id="__codelineno-8-3" name="__codelineno-8-3" href="#001-dockercli-__codelineno-8-3"></a>
</span><span id="__span-8-4"><a id="__codelineno-8-4" name="__codelineno-8-4" href="#001-dockercli-__codelineno-8-4"></a><span class="c1"># Inspect a container</span>
</span><span id="__span-8-5"><a id="__codelineno-8-5" name="__codelineno-8-5" href="#001-dockercli-__codelineno-8-5"></a>docker<span class="w"> </span>inspect<span class="w"> </span>nginx-inspect
</span><span id="__span-8-6"><a id="__codelineno-8-6" name="__codelineno-8-6" href="#001-dockercli-__codelineno-8-6"></a>
</span><span id="__span-8-7"><a id="__codelineno-8-7" name="__codelineno-8-7" href="#001-dockercli-__codelineno-8-7"></a><span class="c1"># Get specific information using format flag</span>
</span><span id="__span-8-8"><a id="__codelineno-8-8" name="__codelineno-8-8" href="#001-dockercli-__codelineno-8-8"></a>docker<span class="w"> </span>inspect<span class="w"> </span>--format<span class="o">=</span><span class="s1">&#39;{{.State.Running}}&#39;</span><span class="w"> </span>nginx-inspect
</span><span id="__span-8-9"><a id="__codelineno-8-9" name="__codelineno-8-9" href="#001-dockercli-__codelineno-8-9"></a>
</span><span id="__span-8-10"><a id="__codelineno-8-10" name="__codelineno-8-10" href="#001-dockercli-__codelineno-8-10"></a><span class="c1"># Get IP address of container</span>
</span><span id="__span-8-11"><a id="__codelineno-8-11" name="__codelineno-8-11" href="#001-dockercli-__codelineno-8-11"></a>docker<span class="w"> </span>inspect<span class="w"> </span>--format<span class="o">=</span><span class="s1">&#39;{{range .NetworkSettings.Networks}}{{.IPAddress}}{{end}}&#39;</span><span class="w"> </span>nginx-inspect
</span><span id="__span-8-12"><a id="__codelineno-8-12" name="__codelineno-8-12" href="#001-dockercli-__codelineno-8-12"></a>
</span><span id="__span-8-13"><a id="__codelineno-8-13" name="__codelineno-8-13" href="#001-dockercli-__codelineno-8-13"></a><span class="c1"># Inspect an image</span>
</span><span id="__span-8-14"><a id="__codelineno-8-14" name="__codelineno-8-14" href="#001-dockercli-__codelineno-8-14"></a>docker<span class="w"> </span>inspect<span class="w"> </span>nginx:latest
</span><span id="__span-8-15"><a id="__codelineno-8-15" name="__codelineno-8-15" href="#001-dockercli-__codelineno-8-15"></a>
</span><span id="__span-8-16"><a id="__codelineno-8-16" name="__codelineno-8-16" href="#001-dockercli-__codelineno-8-16"></a><span class="c1"># Get image creation date</span>
</span><span id="__span-8-17"><a id="__codelineno-8-17" name="__codelineno-8-17" href="#001-dockercli-__codelineno-8-17"></a>docker<span class="w"> </span>inspect<span class="w"> </span>--format<span class="o">=</span><span class="s1">&#39;{{.Created}}&#39;</span><span class="w"> </span>nginx:latest
</span><span id="__span-8-18"><a id="__codelineno-8-18" name="__codelineno-8-18" href="#001-dockercli-__codelineno-8-18"></a>
</span><span id="__span-8-19"><a id="__codelineno-8-19" name="__codelineno-8-19" href="#001-dockercli-__codelineno-8-19"></a><span class="c1"># Clean up</span>
</span><span id="__span-8-20"><a id="__codelineno-8-20" name="__codelineno-8-20" href="#001-dockercli-__codelineno-8-20"></a>docker<span class="w"> </span>stop<span class="w"> </span>nginx-inspect
</span><span id="__span-8-21"><a id="__codelineno-8-21" name="__codelineno-8-21" href="#001-dockercli-__codelineno-8-21"></a>docker<span class="w"> </span>rm<span class="w"> </span>nginx-inspect
</span></code></pre></div></li>
</ul>
<hr />
<h3 id="001-dockercli-docker-kill"><code>docker kill</code><a class="headerlink" href="#001-dockercli-docker-kill" title="Permanent link">&para;</a></h3>
<ul>
<li><code>docker kill</code> immediately terminates a running container.</li>
<li>Unlike <code>docker stop</code>, it sends SIGKILL by default (no graceful shutdown).
    <div class="language-sh highlight"><pre><span></span><code><span id="__span-9-1"><a id="__codelineno-9-1" name="__codelineno-9-1" href="#001-dockercli-__codelineno-9-1"></a><span class="c1"># Create a running container</span>
</span><span id="__span-9-2"><a id="__codelineno-9-2" name="__codelineno-9-2" href="#001-dockercli-__codelineno-9-2"></a>docker<span class="w"> </span>run<span class="w"> </span>-d<span class="w"> </span>--name<span class="w"> </span>kill-test<span class="w"> </span>alpine<span class="w"> </span>sleep<span class="w"> </span><span class="m">10000</span>
</span><span id="__span-9-3"><a id="__codelineno-9-3" name="__codelineno-9-3" href="#001-dockercli-__codelineno-9-3"></a>
</span><span id="__span-9-4"><a id="__codelineno-9-4" name="__codelineno-9-4" href="#001-dockercli-__codelineno-9-4"></a><span class="c1"># Kill the container immediately</span>
</span><span id="__span-9-5"><a id="__codelineno-9-5" name="__codelineno-9-5" href="#001-dockercli-__codelineno-9-5"></a>docker<span class="w"> </span><span class="nb">kill</span><span class="w"> </span>kill-test
</span><span id="__span-9-6"><a id="__codelineno-9-6" name="__codelineno-9-6" href="#001-dockercli-__codelineno-9-6"></a>
</span><span id="__span-9-7"><a id="__codelineno-9-7" name="__codelineno-9-7" href="#001-dockercli-__codelineno-9-7"></a><span class="c1"># Verify the container is stopped</span>
</span><span id="__span-9-8"><a id="__codelineno-9-8" name="__codelineno-9-8" href="#001-dockercli-__codelineno-9-8"></a>docker<span class="w"> </span>ps<span class="w"> </span>-a<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>kill-test
</span><span id="__span-9-9"><a id="__codelineno-9-9" name="__codelineno-9-9" href="#001-dockercli-__codelineno-9-9"></a>
</span><span id="__span-9-10"><a id="__codelineno-9-10" name="__codelineno-9-10" href="#001-dockercli-__codelineno-9-10"></a><span class="c1"># Kill with specific signal</span>
</span><span id="__span-9-11"><a id="__codelineno-9-11" name="__codelineno-9-11" href="#001-dockercli-__codelineno-9-11"></a>docker<span class="w"> </span>run<span class="w"> </span>-d<span class="w"> </span>--name<span class="w"> </span>kill-test2<span class="w"> </span>nginx
</span><span id="__span-9-12"><a id="__codelineno-9-12" name="__codelineno-9-12" href="#001-dockercli-__codelineno-9-12"></a>docker<span class="w"> </span><span class="nb">kill</span><span class="w"> </span>--signal<span class="o">=</span>SIGTERM<span class="w"> </span>kill-test2
</span><span id="__span-9-13"><a id="__codelineno-9-13" name="__codelineno-9-13" href="#001-dockercli-__codelineno-9-13"></a>
</span><span id="__span-9-14"><a id="__codelineno-9-14" name="__codelineno-9-14" href="#001-dockercli-__codelineno-9-14"></a><span class="c1"># Kill multiple containers</span>
</span><span id="__span-9-15"><a id="__codelineno-9-15" name="__codelineno-9-15" href="#001-dockercli-__codelineno-9-15"></a>docker<span class="w"> </span>run<span class="w"> </span>-d<span class="w"> </span>--name<span class="w"> </span>c1<span class="w"> </span>alpine<span class="w"> </span>sleep<span class="w"> </span><span class="m">1000</span>
</span><span id="__span-9-16"><a id="__codelineno-9-16" name="__codelineno-9-16" href="#001-dockercli-__codelineno-9-16"></a>docker<span class="w"> </span>run<span class="w"> </span>-d<span class="w"> </span>--name<span class="w"> </span>c2<span class="w"> </span>alpine<span class="w"> </span>sleep<span class="w"> </span><span class="m">1000</span>
</span><span id="__span-9-17"><a id="__codelineno-9-17" name="__codelineno-9-17" href="#001-dockercli-__codelineno-9-17"></a>docker<span class="w"> </span><span class="nb">kill</span><span class="w"> </span>c1<span class="w"> </span>c2
</span><span id="__span-9-18"><a id="__codelineno-9-18" name="__codelineno-9-18" href="#001-dockercli-__codelineno-9-18"></a>
</span><span id="__span-9-19"><a id="__codelineno-9-19" name="__codelineno-9-19" href="#001-dockercli-__codelineno-9-19"></a><span class="c1"># Clean up</span>
</span><span id="__span-9-20"><a id="__codelineno-9-20" name="__codelineno-9-20" href="#001-dockercli-__codelineno-9-20"></a>docker<span class="w"> </span>rm<span class="w"> </span>kill-test<span class="w"> </span>kill-test2<span class="w"> </span>c1<span class="w"> </span>c2
</span></code></pre></div></li>
</ul>
<hr />
<h3 id="001-dockercli-docker-logs"><code>docker logs</code><a class="headerlink" href="#001-dockercli-docker-logs" title="Permanent link">&para;</a></h3>
<ul>
<li><code>docker logs</code> fetches the logs of a container.</li>
<li>Useful for debugging and monitoring container output.</li>
<li>By default, it shows all logs since the container started.</li>
<li>You can use various options to filter and format the logs.
    <div class="language-sh highlight"><pre><span></span><code><span id="__span-10-1"><a id="__codelineno-10-1" name="__codelineno-10-1" href="#001-dockercli-__codelineno-10-1"></a><span class="c1"># Create a container that generates logs</span>
</span><span id="__span-10-2"><a id="__codelineno-10-2" name="__codelineno-10-2" href="#001-dockercli-__codelineno-10-2"></a>docker<span class="w"> </span>run<span class="w"> </span>-d<span class="w"> </span>--name<span class="w"> </span>log-example<span class="w"> </span>alpine<span class="w"> </span>sh<span class="w"> </span>-c<span class="w"> </span><span class="s2">&quot;while true; do echo &#39;Hello from container&#39;; sleep 2; done&quot;</span>
</span><span id="__span-10-3"><a id="__codelineno-10-3" name="__codelineno-10-3" href="#001-dockercli-__codelineno-10-3"></a>
</span><span id="__span-10-4"><a id="__codelineno-10-4" name="__codelineno-10-4" href="#001-dockercli-__codelineno-10-4"></a><span class="c1"># View container logs</span>
</span><span id="__span-10-5"><a id="__codelineno-10-5" name="__codelineno-10-5" href="#001-dockercli-__codelineno-10-5"></a>docker<span class="w"> </span>logs<span class="w"> </span>log-example
</span><span id="__span-10-6"><a id="__codelineno-10-6" name="__codelineno-10-6" href="#001-dockercli-__codelineno-10-6"></a>
</span><span id="__span-10-7"><a id="__codelineno-10-7" name="__codelineno-10-7" href="#001-dockercli-__codelineno-10-7"></a><span class="c1"># Follow log output (like tail -f)</span>
</span><span id="__span-10-8"><a id="__codelineno-10-8" name="__codelineno-10-8" href="#001-dockercli-__codelineno-10-8"></a>docker<span class="w"> </span>logs<span class="w"> </span>-f<span class="w"> </span>log-example
</span><span id="__span-10-9"><a id="__codelineno-10-9" name="__codelineno-10-9" href="#001-dockercli-__codelineno-10-9"></a>
</span><span id="__span-10-10"><a id="__codelineno-10-10" name="__codelineno-10-10" href="#001-dockercli-__codelineno-10-10"></a><span class="c1"># Show only last 10 lines</span>
</span><span id="__span-10-11"><a id="__codelineno-10-11" name="__codelineno-10-11" href="#001-dockercli-__codelineno-10-11"></a>docker<span class="w"> </span>logs<span class="w"> </span>--tail<span class="w"> </span><span class="m">10</span><span class="w"> </span>log-example
</span><span id="__span-10-12"><a id="__codelineno-10-12" name="__codelineno-10-12" href="#001-dockercli-__codelineno-10-12"></a>
</span><span id="__span-10-13"><a id="__codelineno-10-13" name="__codelineno-10-13" href="#001-dockercli-__codelineno-10-13"></a><span class="c1"># Show logs with timestamps</span>
</span><span id="__span-10-14"><a id="__codelineno-10-14" name="__codelineno-10-14" href="#001-dockercli-__codelineno-10-14"></a>docker<span class="w"> </span>logs<span class="w"> </span>-t<span class="w"> </span>log-example
</span><span id="__span-10-15"><a id="__codelineno-10-15" name="__codelineno-10-15" href="#001-dockercli-__codelineno-10-15"></a>
</span><span id="__span-10-16"><a id="__codelineno-10-16" name="__codelineno-10-16" href="#001-dockercli-__codelineno-10-16"></a><span class="c1"># Show logs since specific time</span>
</span><span id="__span-10-17"><a id="__codelineno-10-17" name="__codelineno-10-17" href="#001-dockercli-__codelineno-10-17"></a>docker<span class="w"> </span>logs<span class="w"> </span>--since<span class="w"> </span>5m<span class="w"> </span>log-example
</span><span id="__span-10-18"><a id="__codelineno-10-18" name="__codelineno-10-18" href="#001-dockercli-__codelineno-10-18"></a>
</span><span id="__span-10-19"><a id="__codelineno-10-19" name="__codelineno-10-19" href="#001-dockercli-__codelineno-10-19"></a><span class="c1"># Combine options</span>
</span><span id="__span-10-20"><a id="__codelineno-10-20" name="__codelineno-10-20" href="#001-dockercli-__codelineno-10-20"></a>docker<span class="w"> </span>logs<span class="w"> </span>-f<span class="w"> </span>--tail<span class="w"> </span><span class="m">5</span><span class="w"> </span>-t<span class="w"> </span>log-example
</span><span id="__span-10-21"><a id="__codelineno-10-21" name="__codelineno-10-21" href="#001-dockercli-__codelineno-10-21"></a>
</span><span id="__span-10-22"><a id="__codelineno-10-22" name="__codelineno-10-22" href="#001-dockercli-__codelineno-10-22"></a><span class="c1"># Clean up (press Ctrl+C to stop following logs)</span>
</span><span id="__span-10-23"><a id="__codelineno-10-23" name="__codelineno-10-23" href="#001-dockercli-__codelineno-10-23"></a>docker<span class="w"> </span>stop<span class="w"> </span>log-example
</span><span id="__span-10-24"><a id="__codelineno-10-24" name="__codelineno-10-24" href="#001-dockercli-__codelineno-10-24"></a>docker<span class="w"> </span>rm<span class="w"> </span>log-example
</span></code></pre></div></li>
</ul>
<hr />
<h3 id="001-dockercli-docker-pause"><code>docker pause</code><a class="headerlink" href="#001-dockercli-docker-pause" title="Permanent link">&para;</a></h3>
<ul>
<li><code>docker pause</code> suspends all processes in a container.</li>
<li>
<p>The container continues to exist but is frozen.</p>
<div class="language-sh highlight"><pre><span></span><code><span id="__span-11-1"><a id="__codelineno-11-1" name="__codelineno-11-1" href="#001-dockercli-__codelineno-11-1"></a><span class="c1"># Create a running container</span>
</span><span id="__span-11-2"><a id="__codelineno-11-2" name="__codelineno-11-2" href="#001-dockercli-__codelineno-11-2"></a>docker<span class="w"> </span>run<span class="w"> </span>-d<span class="w"> </span>--name<span class="w"> </span>pause-test<span class="w"> </span>alpine<span class="w"> </span>sh<span class="w"> </span>-c<span class="w"> </span><span class="s2">&quot;while true; do echo &#39;Running&#39;; sleep 1; done&quot;</span>
</span><span id="__span-11-3"><a id="__codelineno-11-3" name="__codelineno-11-3" href="#001-dockercli-__codelineno-11-3"></a>
</span><span id="__span-11-4"><a id="__codelineno-11-4" name="__codelineno-11-4" href="#001-dockercli-__codelineno-11-4"></a><span class="c1"># Pause the container</span>
</span><span id="__span-11-5"><a id="__codelineno-11-5" name="__codelineno-11-5" href="#001-dockercli-__codelineno-11-5"></a>docker<span class="w"> </span>pause<span class="w"> </span>pause-test
</span><span id="__span-11-6"><a id="__codelineno-11-6" name="__codelineno-11-6" href="#001-dockercli-__codelineno-11-6"></a>
</span><span id="__span-11-7"><a id="__codelineno-11-7" name="__codelineno-11-7" href="#001-dockercli-__codelineno-11-7"></a><span class="c1"># Verify the container is paused</span>
</span><span id="__span-11-8"><a id="__codelineno-11-8" name="__codelineno-11-8" href="#001-dockercli-__codelineno-11-8"></a>docker<span class="w"> </span>ps<span class="w"> </span>-a<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>pause-test
</span><span id="__span-11-9"><a id="__codelineno-11-9" name="__codelineno-11-9" href="#001-dockercli-__codelineno-11-9"></a>
</span><span id="__span-11-10"><a id="__codelineno-11-10" name="__codelineno-11-10" href="#001-dockercli-__codelineno-11-10"></a><span class="c1"># Try to see logs (no new logs while paused)</span>
</span><span id="__span-11-11"><a id="__codelineno-11-11" name="__codelineno-11-11" href="#001-dockercli-__codelineno-11-11"></a>docker<span class="w"> </span>logs<span class="w"> </span>--tail<span class="w"> </span><span class="m">5</span><span class="w"> </span>pause-test
</span><span id="__span-11-12"><a id="__codelineno-11-12" name="__codelineno-11-12" href="#001-dockercli-__codelineno-11-12"></a>
</span><span id="__span-11-13"><a id="__codelineno-11-13" name="__codelineno-11-13" href="#001-dockercli-__codelineno-11-13"></a><span class="c1"># Note: Container remains paused until unpaused</span>
</span><span id="__span-11-14"><a id="__codelineno-11-14" name="__codelineno-11-14" href="#001-dockercli-__codelineno-11-14"></a><span class="c1"># See docker unpause to resume</span>
</span></code></pre></div>
</li>
</ul>
<hr />
<h3 id="001-dockercli-docker-ps"><code>docker ps</code><a class="headerlink" href="#001-dockercli-docker-ps" title="Permanent link">&para;</a></h3>
<ul>
<li>The &ldquo;problem&rdquo; with the previous command is that the container is not removed once it exits.</li>
<li>Lets look at the list of containers that we have right now on the host machine
    <div class="language-sh highlight"><pre><span></span><code><span id="__span-12-1"><a id="__codelineno-12-1" name="__codelineno-12-1" href="#001-dockercli-__codelineno-12-1"></a><span class="c1"># List exiting containers on our host machine</span>
</span><span id="__span-12-2"><a id="__codelineno-12-2" name="__codelineno-12-2" href="#001-dockercli-__codelineno-12-2"></a>
</span><span id="__span-12-3"><a id="__codelineno-12-3" name="__codelineno-12-3" href="#001-dockercli-__codelineno-12-3"></a><span class="c1"># Display running containers</span>
</span><span id="__span-12-4"><a id="__codelineno-12-4" name="__codelineno-12-4" href="#001-dockercli-__codelineno-12-4"></a>docker<span class="w"> </span>ps
</span><span id="__span-12-5"><a id="__codelineno-12-5" name="__codelineno-12-5" href="#001-dockercli-__codelineno-12-5"></a>
</span><span id="__span-12-6"><a id="__codelineno-12-6" name="__codelineno-12-6" href="#001-dockercli-__codelineno-12-6"></a><span class="c1"># Display all containers</span>
</span><span id="__span-12-7"><a id="__codelineno-12-7" name="__codelineno-12-7" href="#001-dockercli-__codelineno-12-7"></a>docker<span class="w"> </span>ps<span class="w"> </span>-a
</span><span id="__span-12-8"><a id="__codelineno-12-8" name="__codelineno-12-8" href="#001-dockercli-__codelineno-12-8"></a>
</span><span id="__span-12-9"><a id="__codelineno-12-9" name="__codelineno-12-9" href="#001-dockercli-__codelineno-12-9"></a><span class="c1"># Display all containers ids</span>
</span><span id="__span-12-10"><a id="__codelineno-12-10" name="__codelineno-12-10" href="#001-dockercli-__codelineno-12-10"></a>docker<span class="w"> </span>ps<span class="w"> </span>-aq
</span></code></pre></div></li>
</ul>
<hr />
<h3 id="001-dockercli-docker-pull"><code>docker pull</code><a class="headerlink" href="#001-dockercli-docker-pull" title="Permanent link">&para;</a></h3>
<ul>
<li><code>docker pull</code> downloads an image from a Docker registry (like Docker Hub).</li>
<li>This command is useful when you want to download an image without running it immediately.
    <div class="language-sh highlight"><pre><span></span><code><span id="__span-13-1"><a id="__codelineno-13-1" name="__codelineno-13-1" href="#001-dockercli-__codelineno-13-1"></a><span class="c1"># Pull the latest version of an image</span>
</span><span id="__span-13-2"><a id="__codelineno-13-2" name="__codelineno-13-2" href="#001-dockercli-__codelineno-13-2"></a>docker<span class="w"> </span>pull<span class="w"> </span>alpine:latest
</span><span id="__span-13-3"><a id="__codelineno-13-3" name="__codelineno-13-3" href="#001-dockercli-__codelineno-13-3"></a>
</span><span id="__span-13-4"><a id="__codelineno-13-4" name="__codelineno-13-4" href="#001-dockercli-__codelineno-13-4"></a><span class="c1"># Pull a specific version</span>
</span><span id="__span-13-5"><a id="__codelineno-13-5" name="__codelineno-13-5" href="#001-dockercli-__codelineno-13-5"></a>docker<span class="w"> </span>pull<span class="w"> </span>nginx:1.21
</span><span id="__span-13-6"><a id="__codelineno-13-6" name="__codelineno-13-6" href="#001-dockercli-__codelineno-13-6"></a>
</span><span id="__span-13-7"><a id="__codelineno-13-7" name="__codelineno-13-7" href="#001-dockercli-__codelineno-13-7"></a><span class="c1"># Pull from a specific registry</span>
</span><span id="__span-13-8"><a id="__codelineno-13-8" name="__codelineno-13-8" href="#001-dockercli-__codelineno-13-8"></a>docker<span class="w"> </span>pull<span class="w"> </span>gcr.io/google-containers/busybox
</span><span id="__span-13-9"><a id="__codelineno-13-9" name="__codelineno-13-9" href="#001-dockercli-__codelineno-13-9"></a>
</span><span id="__span-13-10"><a id="__codelineno-13-10" name="__codelineno-13-10" href="#001-dockercli-__codelineno-13-10"></a><span class="c1"># Pull all tags of a repository</span>
</span><span id="__span-13-11"><a id="__codelineno-13-11" name="__codelineno-13-11" href="#001-dockercli-__codelineno-13-11"></a>docker<span class="w"> </span>pull<span class="w"> </span>--all-tags<span class="w"> </span>alpine
</span><span id="__span-13-12"><a id="__codelineno-13-12" name="__codelineno-13-12" href="#001-dockercli-__codelineno-13-12"></a>
</span><span id="__span-13-13"><a id="__codelineno-13-13" name="__codelineno-13-13" href="#001-dockercli-__codelineno-13-13"></a><span class="c1"># Verify the pulled image</span>
</span><span id="__span-13-14"><a id="__codelineno-13-14" name="__codelineno-13-14" href="#001-dockercli-__codelineno-13-14"></a>docker<span class="w"> </span>images<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>alpine
</span></code></pre></div></li>
</ul>
<hr />
<h3 id="001-dockercli-docker-push"><code>docker push</code><a class="headerlink" href="#001-dockercli-docker-push" title="Permanent link">&para;</a></h3>
<ul>
<li><code>docker push</code> uploads an image to a Docker registry.</li>
<li>You need to be logged in to the registry and have proper permissions.
    <div class="language-sh highlight"><pre><span></span><code><span id="__span-14-1"><a id="__codelineno-14-1" name="__codelineno-14-1" href="#001-dockercli-__codelineno-14-1"></a><span class="c1"># Tag an image for pushing (replace &#39;yourusername&#39; with your Docker Hub username)</span>
</span><span id="__span-14-2"><a id="__codelineno-14-2" name="__codelineno-14-2" href="#001-dockercli-__codelineno-14-2"></a>docker<span class="w"> </span>tag<span class="w"> </span>alpine:latest<span class="w"> </span>yourusername/my-alpine:v1.0
</span><span id="__span-14-3"><a id="__codelineno-14-3" name="__codelineno-14-3" href="#001-dockercli-__codelineno-14-3"></a>
</span><span id="__span-14-4"><a id="__codelineno-14-4" name="__codelineno-14-4" href="#001-dockercli-__codelineno-14-4"></a><span class="c1"># Login to Docker Hub (you&#39;ll be prompted for credentials)</span>
</span><span id="__span-14-5"><a id="__codelineno-14-5" name="__codelineno-14-5" href="#001-dockercli-__codelineno-14-5"></a><span class="c1"># docker login</span>
</span><span id="__span-14-6"><a id="__codelineno-14-6" name="__codelineno-14-6" href="#001-dockercli-__codelineno-14-6"></a>
</span><span id="__span-14-7"><a id="__codelineno-14-7" name="__codelineno-14-7" href="#001-dockercli-__codelineno-14-7"></a><span class="c1"># Push the image to Docker Hub</span>
</span><span id="__span-14-8"><a id="__codelineno-14-8" name="__codelineno-14-8" href="#001-dockercli-__codelineno-14-8"></a><span class="c1"># docker push yourusername/my-alpine:v1.0</span>
</span><span id="__span-14-9"><a id="__codelineno-14-9" name="__codelineno-14-9" href="#001-dockercli-__codelineno-14-9"></a>
</span><span id="__span-14-10"><a id="__codelineno-14-10" name="__codelineno-14-10" href="#001-dockercli-__codelineno-14-10"></a><span class="c1"># Push all tags</span>
</span><span id="__span-14-11"><a id="__codelineno-14-11" name="__codelineno-14-11" href="#001-dockercli-__codelineno-14-11"></a><span class="c1"># docker push --all-tags yourusername/my-alpine</span>
</span><span id="__span-14-12"><a id="__codelineno-14-12" name="__codelineno-14-12" href="#001-dockercli-__codelineno-14-12"></a>
</span><span id="__span-14-13"><a id="__codelineno-14-13" name="__codelineno-14-13" href="#001-dockercli-__codelineno-14-13"></a><span class="c1"># Note: The push commands are commented out to prevent accidental pushes</span>
</span><span id="__span-14-14"><a id="__codelineno-14-14" name="__codelineno-14-14" href="#001-dockercli-__codelineno-14-14"></a><span class="c1"># Uncomment and replace &#39;yourusername&#39; with your actual username when ready to use</span>
</span></code></pre></div></li>
</ul>
<hr />
<h3 id="001-dockercli-docker-rename"><code>docker rename</code><a class="headerlink" href="#001-dockercli-docker-rename" title="Permanent link">&para;</a></h3>
<ul>
<li><code>docker rename</code> changes the name of an existing container.</li>
<li>
<p>Useful for organizing or clarifying container purposes.</p>
<div class="language-sh highlight"><pre><span></span><code><span id="__span-15-1"><a id="__codelineno-15-1" name="__codelineno-15-1" href="#001-dockercli-__codelineno-15-1"></a><span class="c1"># Create a container with a generic name</span>
</span><span id="__span-15-2"><a id="__codelineno-15-2" name="__codelineno-15-2" href="#001-dockercli-__codelineno-15-2"></a>docker<span class="w"> </span>run<span class="w"> </span>-d<span class="w"> </span>--name<span class="w"> </span>old-name<span class="w"> </span>alpine<span class="w"> </span>sleep<span class="w"> </span><span class="m">10000</span>
</span><span id="__span-15-3"><a id="__codelineno-15-3" name="__codelineno-15-3" href="#001-dockercli-__codelineno-15-3"></a>
</span><span id="__span-15-4"><a id="__codelineno-15-4" name="__codelineno-15-4" href="#001-dockercli-__codelineno-15-4"></a><span class="c1"># Rename the container</span>
</span><span id="__span-15-5"><a id="__codelineno-15-5" name="__codelineno-15-5" href="#001-dockercli-__codelineno-15-5"></a>docker<span class="w"> </span>rename<span class="w"> </span>old-name<span class="w"> </span>new-name
</span><span id="__span-15-6"><a id="__codelineno-15-6" name="__codelineno-15-6" href="#001-dockercli-__codelineno-15-6"></a>
</span><span id="__span-15-7"><a id="__codelineno-15-7" name="__codelineno-15-7" href="#001-dockercli-__codelineno-15-7"></a><span class="c1"># Verify the new name</span>
</span><span id="__span-15-8"><a id="__codelineno-15-8" name="__codelineno-15-8" href="#001-dockercli-__codelineno-15-8"></a>docker<span class="w"> </span>ps<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>new-name
</span><span id="__span-15-9"><a id="__codelineno-15-9" name="__codelineno-15-9" href="#001-dockercli-__codelineno-15-9"></a>
</span><span id="__span-15-10"><a id="__codelineno-15-10" name="__codelineno-15-10" href="#001-dockercli-__codelineno-15-10"></a><span class="c1"># Clean up</span>
</span><span id="__span-15-11"><a id="__codelineno-15-11" name="__codelineno-15-11" href="#001-dockercli-__codelineno-15-11"></a>docker<span class="w"> </span>stop<span class="w"> </span>new-name
</span><span id="__span-15-12"><a id="__codelineno-15-12" name="__codelineno-15-12" href="#001-dockercli-__codelineno-15-12"></a>docker<span class="w"> </span>rm<span class="w"> </span>new-name
</span></code></pre></div>
</li>
</ul>
<hr />
<h3 id="001-dockercli-docker-restart"><code>docker restart</code><a class="headerlink" href="#001-dockercli-docker-restart" title="Permanent link">&para;</a></h3>
<ul>
<li><code>docker restart</code> stops and then starts a container.</li>
<li>
<p>Combines <code>docker stop</code> and <code>docker start</code> in one command.</p>
<div class="language-sh highlight"><pre><span></span><code><span id="__span-16-1"><a id="__codelineno-16-1" name="__codelineno-16-1" href="#001-dockercli-__codelineno-16-1"></a><span class="c1"># Create a running container</span>
</span><span id="__span-16-2"><a id="__codelineno-16-2" name="__codelineno-16-2" href="#001-dockercli-__codelineno-16-2"></a>docker<span class="w"> </span>run<span class="w"> </span>-d<span class="w"> </span>--name<span class="w"> </span>restart-test<span class="w"> </span>nginx
</span><span id="__span-16-3"><a id="__codelineno-16-3" name="__codelineno-16-3" href="#001-dockercli-__codelineno-16-3"></a>
</span><span id="__span-16-4"><a id="__codelineno-16-4" name="__codelineno-16-4" href="#001-dockercli-__codelineno-16-4"></a><span class="c1"># Restart the container (default 10 second grace period)</span>
</span><span id="__span-16-5"><a id="__codelineno-16-5" name="__codelineno-16-5" href="#001-dockercli-__codelineno-16-5"></a>docker<span class="w"> </span>restart<span class="w"> </span>restart-test
</span><span id="__span-16-6"><a id="__codelineno-16-6" name="__codelineno-16-6" href="#001-dockercli-__codelineno-16-6"></a>
</span><span id="__span-16-7"><a id="__codelineno-16-7" name="__codelineno-16-7" href="#001-dockercli-__codelineno-16-7"></a><span class="c1"># Restart with custom timeout</span>
</span><span id="__span-16-8"><a id="__codelineno-16-8" name="__codelineno-16-8" href="#001-dockercli-__codelineno-16-8"></a>docker<span class="w"> </span>restart<span class="w"> </span>-t<span class="w"> </span><span class="m">30</span><span class="w"> </span>restart-test
</span><span id="__span-16-9"><a id="__codelineno-16-9" name="__codelineno-16-9" href="#001-dockercli-__codelineno-16-9"></a>
</span><span id="__span-16-10"><a id="__codelineno-16-10" name="__codelineno-16-10" href="#001-dockercli-__codelineno-16-10"></a><span class="c1"># Restart multiple containers</span>
</span><span id="__span-16-11"><a id="__codelineno-16-11" name="__codelineno-16-11" href="#001-dockercli-__codelineno-16-11"></a>docker<span class="w"> </span>run<span class="w"> </span>-d<span class="w"> </span>--name<span class="w"> </span>r1<span class="w"> </span>alpine<span class="w"> </span>sleep<span class="w"> </span><span class="m">1000</span>
</span><span id="__span-16-12"><a id="__codelineno-16-12" name="__codelineno-16-12" href="#001-dockercli-__codelineno-16-12"></a>docker<span class="w"> </span>run<span class="w"> </span>-d<span class="w"> </span>--name<span class="w"> </span>r2<span class="w"> </span>alpine<span class="w"> </span>sleep<span class="w"> </span><span class="m">1000</span>
</span><span id="__span-16-13"><a id="__codelineno-16-13" name="__codelineno-16-13" href="#001-dockercli-__codelineno-16-13"></a>docker<span class="w"> </span>restart<span class="w"> </span>r1<span class="w"> </span>r2
</span><span id="__span-16-14"><a id="__codelineno-16-14" name="__codelineno-16-14" href="#001-dockercli-__codelineno-16-14"></a>
</span><span id="__span-16-15"><a id="__codelineno-16-15" name="__codelineno-16-15" href="#001-dockercli-__codelineno-16-15"></a><span class="c1"># Clean up</span>
</span><span id="__span-16-16"><a id="__codelineno-16-16" name="__codelineno-16-16" href="#001-dockercli-__codelineno-16-16"></a>docker<span class="w"> </span>stop<span class="w"> </span>restart-test<span class="w"> </span>r1<span class="w"> </span>r2
</span><span id="__span-16-17"><a id="__codelineno-16-17" name="__codelineno-16-17" href="#001-dockercli-__codelineno-16-17"></a>docker<span class="w"> </span>rm<span class="w"> </span>restart-test<span class="w"> </span>r1<span class="w"> </span>r2
</span></code></pre></div>
</li>
</ul>
<hr />
<h3 id="001-dockercli-docker-rm"><code>docker rm</code><a class="headerlink" href="#001-dockercli-docker-rm" title="Permanent link">&para;</a></h3>
<ul>
<li>Lets clean and remove the containers which are not running anymore</li>
<li><code>docker rm</code> removes one or more stopped containers from your system.</li>
<li>This helps free up system resources by deleting containers that are no longer needed.</li>
</ul>
<div class="admonition debug">
<p class="admonition-title">Removing Containers</p>
<ul>
<li>You <code>cannot</code> remove a running container without stopping it first.</li>
<li>Use <code>docker ps -a</code> to list all containers (including stopped ones) before removing them.</li>
<li><strong>Warning:</strong> This action is irreversible.</li>
</ul>
</div>
<ul>
<li>Example:
    <div class="language-sh highlight"><pre><span></span><code><span id="__span-17-1"><a id="__codelineno-17-1" name="__codelineno-17-1" href="#001-dockercli-__codelineno-17-1"></a><span class="c1"># Remove all stopped containers</span>
</span><span id="__span-17-2"><a id="__codelineno-17-2" name="__codelineno-17-2" href="#001-dockercli-__codelineno-17-2"></a><span class="c1"># We use docker rm with the previous command we learned docker ps</span>
</span><span id="__span-17-3"><a id="__codelineno-17-3" name="__codelineno-17-3" href="#001-dockercli-__codelineno-17-3"></a>docker<span class="w"> </span>rm<span class="w"> </span><span class="k">$(</span>docker<span class="w"> </span>ps<span class="w"> </span>-aq<span class="k">)</span>
</span><span id="__span-17-4"><a id="__codelineno-17-4" name="__codelineno-17-4" href="#001-dockercli-__codelineno-17-4"></a>
</span><span id="__span-17-5"><a id="__codelineno-17-5" name="__codelineno-17-5" href="#001-dockercli-__codelineno-17-5"></a><span class="c1"># Verify that only running containers are still running</span>
</span><span id="__span-17-6"><a id="__codelineno-17-6" name="__codelineno-17-6" href="#001-dockercli-__codelineno-17-6"></a>docker<span class="w"> </span>ps<span class="w"> </span>-a
</span><span id="__span-17-7"><a id="__codelineno-17-7" name="__codelineno-17-7" href="#001-dockercli-__codelineno-17-7"></a>
</span><span id="__span-17-8"><a id="__codelineno-17-8" name="__codelineno-17-8" href="#001-dockercli-__codelineno-17-8"></a><span class="c1"># Remove a specific container (must be stopped first)</span>
</span><span id="__span-17-9"><a id="__codelineno-17-9" name="__codelineno-17-9" href="#001-dockercli-__codelineno-17-9"></a>docker<span class="w"> </span>stop<span class="w"> </span>nginx
</span><span id="__span-17-10"><a id="__codelineno-17-10" name="__codelineno-17-10" href="#001-dockercli-__codelineno-17-10"></a>docker<span class="w"> </span>rm<span class="w"> </span>nginx
</span><span id="__span-17-11"><a id="__codelineno-17-11" name="__codelineno-17-11" href="#001-dockercli-__codelineno-17-11"></a>
</span><span id="__span-17-12"><a id="__codelineno-17-12" name="__codelineno-17-12" href="#001-dockercli-__codelineno-17-12"></a><span class="c1"># Force remove a running container</span>
</span><span id="__span-17-13"><a id="__codelineno-17-13" name="__codelineno-17-13" href="#001-dockercli-__codelineno-17-13"></a>docker<span class="w"> </span>rm<span class="w"> </span>-f<span class="w"> </span>nginx
</span><span id="__span-17-14"><a id="__codelineno-17-14" name="__codelineno-17-14" href="#001-dockercli-__codelineno-17-14"></a>
</span><span id="__span-17-15"><a id="__codelineno-17-15" name="__codelineno-17-15" href="#001-dockercli-__codelineno-17-15"></a><span class="c1"># Remove multiple containers</span>
</span><span id="__span-17-16"><a id="__codelineno-17-16" name="__codelineno-17-16" href="#001-dockercli-__codelineno-17-16"></a>docker<span class="w"> </span>rm<span class="w"> </span>container1<span class="w"> </span>container2<span class="w"> </span>container3
</span></code></pre></div></li>
</ul>
<hr />
<h3 id="001-dockercli-docker-rmi"><code>docker rmi</code><a class="headerlink" href="#001-dockercli-docker-rmi" title="Permanent link">&para;</a></h3>
<ul>
<li><code>docker rmi</code> removes one or more Docker images from your system.</li>
<li>This helps free up disk space by removing unused images.</li>
<li>You cannot remove an image that is being used by a running container.</li>
<li>If you need to remove such an image, you must stop and remove the container using it first.</li>
<li><strong>Tip:</strong> Use <code>docker ps -a</code> to list all containers (including stopped ones) before removing them.
    <div class="language-sh highlight"><pre><span></span><code><span id="__span-18-1"><a id="__codelineno-18-1" name="__codelineno-18-1" href="#001-dockercli-__codelineno-18-1"></a><span class="c1"># Remove a specific image</span>
</span><span id="__span-18-2"><a id="__codelineno-18-2" name="__codelineno-18-2" href="#001-dockercli-__codelineno-18-2"></a>docker<span class="w"> </span>rmi<span class="w"> </span>alpine:latest
</span><span id="__span-18-3"><a id="__codelineno-18-3" name="__codelineno-18-3" href="#001-dockercli-__codelineno-18-3"></a>
</span><span id="__span-18-4"><a id="__codelineno-18-4" name="__codelineno-18-4" href="#001-dockercli-__codelineno-18-4"></a><span class="c1"># Remove multiple images</span>
</span><span id="__span-18-5"><a id="__codelineno-18-5" name="__codelineno-18-5" href="#001-dockercli-__codelineno-18-5"></a>docker<span class="w"> </span>rmi<span class="w"> </span>image1:tag1<span class="w"> </span>image2:tag2
</span><span id="__span-18-6"><a id="__codelineno-18-6" name="__codelineno-18-6" href="#001-dockercli-__codelineno-18-6"></a>
</span><span id="__span-18-7"><a id="__codelineno-18-7" name="__codelineno-18-7" href="#001-dockercli-__codelineno-18-7"></a><span class="c1"># Remove image by ID</span>
</span><span id="__span-18-8"><a id="__codelineno-18-8" name="__codelineno-18-8" href="#001-dockercli-__codelineno-18-8"></a>docker<span class="w"> </span>rmi<span class="w"> </span>abc123def456
</span><span id="__span-18-9"><a id="__codelineno-18-9" name="__codelineno-18-9" href="#001-dockercli-__codelineno-18-9"></a>
</span><span id="__span-18-10"><a id="__codelineno-18-10" name="__codelineno-18-10" href="#001-dockercli-__codelineno-18-10"></a><span class="c1"># Force remove an image (even if containers are using it)</span>
</span><span id="__span-18-11"><a id="__codelineno-18-11" name="__codelineno-18-11" href="#001-dockercli-__codelineno-18-11"></a>docker<span class="w"> </span>rmi<span class="w"> </span>-f<span class="w"> </span>nginx:latest
</span><span id="__span-18-12"><a id="__codelineno-18-12" name="__codelineno-18-12" href="#001-dockercli-__codelineno-18-12"></a>
</span><span id="__span-18-13"><a id="__codelineno-18-13" name="__codelineno-18-13" href="#001-dockercli-__codelineno-18-13"></a><span class="c1"># Remove all dangling images (untagged images)</span>
</span><span id="__span-18-14"><a id="__codelineno-18-14" name="__codelineno-18-14" href="#001-dockercli-__codelineno-18-14"></a>docker<span class="w"> </span>rmi<span class="w"> </span><span class="k">$(</span>docker<span class="w"> </span>images<span class="w"> </span>-f<span class="w"> </span><span class="s2">&quot;dangling=true&quot;</span><span class="w"> </span>-q<span class="k">)</span>
</span><span id="__span-18-15"><a id="__codelineno-18-15" name="__codelineno-18-15" href="#001-dockercli-__codelineno-18-15"></a>
</span><span id="__span-18-16"><a id="__codelineno-18-16" name="__codelineno-18-16" href="#001-dockercli-__codelineno-18-16"></a><span class="c1"># Remove all images</span>
</span><span id="__span-18-17"><a id="__codelineno-18-17" name="__codelineno-18-17" href="#001-dockercli-__codelineno-18-17"></a><span class="c1"># WARNING: This removes ALL images on your system</span>
</span><span id="__span-18-18"><a id="__codelineno-18-18" name="__codelineno-18-18" href="#001-dockercli-__codelineno-18-18"></a><span class="c1"># docker rmi $(docker images -q)</span>
</span></code></pre></div></li>
</ul>
<hr />
<h3 id="001-dockercli-docker-run"><code>docker run</code><a class="headerlink" href="#001-dockercli-docker-run" title="Permanent link">&para;</a></h3>
<ul>
<li>The <code>run</code> command container many options (flags), we will not cover all of them</li>
<li><a href="https://docs.docker.com/reference/cli/docker/container/run/">docs.docker.com - run</a></li>
<li>Run your first container: 
    <div class="language-sh highlight"><pre><span></span><code><span id="__span-19-1"><a id="__codelineno-19-1" name="__codelineno-19-1" href="#001-dockercli-__codelineno-19-1"></a><span class="c1"># Run the first container</span>
</span><span id="__span-19-2"><a id="__codelineno-19-2" name="__codelineno-19-2" href="#001-dockercli-__codelineno-19-2"></a>docker<span class="w"> </span>run<span class="w"> </span>hello-world
</span><span id="__span-19-3"><a id="__codelineno-19-3" name="__codelineno-19-3" href="#001-dockercli-__codelineno-19-3"></a>
</span><span id="__span-19-4"><a id="__codelineno-19-4" name="__codelineno-19-4" href="#001-dockercli-__codelineno-19-4"></a><span class="c1">### Output:</span>
</span><span id="__span-19-5"><a id="__codelineno-19-5" name="__codelineno-19-5" href="#001-dockercli-__codelineno-19-5"></a>
</span><span id="__span-19-6"><a id="__codelineno-19-6" name="__codelineno-19-6" href="#001-dockercli-__codelineno-19-6"></a>Hello<span class="w"> </span>from<span class="w"> </span>Docker!
</span><span id="__span-19-7"><a id="__codelineno-19-7" name="__codelineno-19-7" href="#001-dockercli-__codelineno-19-7"></a>This<span class="w"> </span>message<span class="w"> </span>shows<span class="w"> </span>that<span class="w"> </span>your<span class="w"> </span>installation<span class="w"> </span>appears<span class="w"> </span>to<span class="w"> </span>be<span class="w"> </span>working<span class="w"> </span>correctly.
</span><span id="__span-19-8"><a id="__codelineno-19-8" name="__codelineno-19-8" href="#001-dockercli-__codelineno-19-8"></a>...
</span></code></pre></div></li>
</ul>
<hr />
<h3 id="001-dockercli-docker-run-a"><code>docker run -a</code><a class="headerlink" href="#001-dockercli-docker-run-a" title="Permanent link">&para;</a></h3>
<ul>
<li>The <code>--attach</code> [<code>-a</code>] flag tells docker run to <strong>bind</strong> to the container&rsquo;s <code>STDIN</code>, <code>STDOUT</code> or <code>STDERR</code>. 
    <div class="language-sh highlight"><pre><span></span><code><span id="__span-20-1"><a id="__codelineno-20-1" name="__codelineno-20-1" href="#001-dockercli-__codelineno-20-1"></a><span class="c1"># Pass input from stdin to container</span>
</span><span id="__span-20-2"><a id="__codelineno-20-2" name="__codelineno-20-2" href="#001-dockercli-__codelineno-20-2"></a>docker<span class="w"> </span>run<span class="w"> </span>-a<span class="w"> </span>stdout<span class="w"> </span>alpine<span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Docker rocks !!&quot;</span>
</span><span id="__span-20-3"><a id="__codelineno-20-3" name="__codelineno-20-3" href="#001-dockercli-__codelineno-20-3"></a>
</span><span id="__span-20-4"><a id="__codelineno-20-4" name="__codelineno-20-4" href="#001-dockercli-__codelineno-20-4"></a><span class="c1"># Redirect stdout logs to a file</span>
</span><span id="__span-20-5"><a id="__codelineno-20-5" name="__codelineno-20-5" href="#001-dockercli-__codelineno-20-5"></a>docker<span class="w"> </span>run<span class="w"> </span>-a<span class="w"> </span>stdout<span class="w"> </span>-a<span class="w"> </span>stderr<span class="w"> </span>alpine<span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s1">&#39;Docker rocks again !!&#39;</span><span class="w"> </span>&gt;<span class="w"> </span>log.txt<span class="w"> </span><span class="m">2</span>&gt;<span class="p">&amp;</span><span class="m">1</span>
</span><span id="__span-20-6"><a id="__codelineno-20-6" name="__codelineno-20-6" href="#001-dockercli-__codelineno-20-6"></a>
</span><span id="__span-20-7"><a id="__codelineno-20-7" name="__codelineno-20-7" href="#001-dockercli-__codelineno-20-7"></a><span class="c1"># Print the log content</span>
</span><span id="__span-20-8"><a id="__codelineno-20-8" name="__codelineno-20-8" href="#001-dockercli-__codelineno-20-8"></a>cat<span class="w"> </span>log.txt
</span></code></pre></div></li>
</ul>
<hr />
<h3 id="001-dockercli-docker-run-d"><code>docker run -d</code><a class="headerlink" href="#001-dockercli-docker-run-d" title="Permanent link">&para;</a></h3>
<ul>
<li>Spin up the container which will run in the background</li>
<li>By default when you spin a docker container it will attach itself to the current terminal.</li>
<li>In order to avoid it we will use the -d flag to specify that the container should be running in the background.
    <div class="language-sh highlight"><pre><span></span><code><span id="__span-21-1"><a id="__codelineno-21-1" name="__codelineno-21-1" href="#001-dockercli-__codelineno-21-1"></a><span class="c1"># Spin an nginx in the background.</span>
</span><span id="__span-21-2"><a id="__codelineno-21-2" name="__codelineno-21-2" href="#001-dockercli-__codelineno-21-2"></a><span class="c1"># Add a sleep timeout so that the container will not exit immediately</span>
</span><span id="__span-21-3"><a id="__codelineno-21-3" name="__codelineno-21-3" href="#001-dockercli-__codelineno-21-3"></a>docker<span class="w"> </span>run<span class="w"> </span>-d<span class="w"> </span>alpine<span class="w"> </span>sleep<span class="w"> </span><span class="m">10000</span>
</span><span id="__span-21-4"><a id="__codelineno-21-4" name="__codelineno-21-4" href="#001-dockercli-__codelineno-21-4"></a>
</span><span id="__span-21-5"><a id="__codelineno-21-5" name="__codelineno-21-5" href="#001-dockercli-__codelineno-21-5"></a><span class="c1"># Verify that the container is still running</span>
</span><span id="__span-21-6"><a id="__codelineno-21-6" name="__codelineno-21-6" href="#001-dockercli-__codelineno-21-6"></a>docker<span class="w"> </span>ps<span class="w"> </span>-a
</span></code></pre></div></li>
</ul>
<hr />
<h3 id="001-dockercli-docker-run-it"><code>docker run -it</code><a class="headerlink" href="#001-dockercli-docker-run-it" title="Permanent link">&para;</a></h3>
<div class="admonition debug">
<p class="admonition-title">Interactive Terminal</p>
<ul>
<li>The flags <code>-it</code> stands for: <br />
<code>-i</code> [<code>--interactive</code>]
  keeps the container&rsquo;s STDIN open, and lets you send input to the container through standard input.
  <code>-t</code> [<code>--tty</code>]<br />
  Attaches a pseudo-TTY to the container, connecting your terminal to the I/O streams of the container.</li>
</ul>
</div>
<ul>
<li>Example - Run an interactive shell inside an alpine container
    <div class="language-bash highlight"><pre><span></span><code><span id="__span-22-1"><a id="__codelineno-22-1" name="__codelineno-22-1" href="#001-dockercli-__codelineno-22-1"></a><span class="c1"># Execute a command on the container and interact with the container</span>
</span><span id="__span-22-2"><a id="__codelineno-22-2" name="__codelineno-22-2" href="#001-dockercli-__codelineno-22-2"></a><span class="c1"># This command will change the password for root user</span>
</span><span id="__span-22-3"><a id="__codelineno-22-3" name="__codelineno-22-3" href="#001-dockercli-__codelineno-22-3"></a>docker<span class="w"> </span>run<span class="w"> </span>-it<span class="w"> </span>alpine<span class="w"> </span>passwd<span class="w"> </span>root
</span></code></pre></div></li>
</ul>
<hr />
<h3 id="001-dockercli-docker-run-name"><code>docker run -name</code><a class="headerlink" href="#001-dockercli-docker-run-name" title="Permanent link">&para;</a></h3>
<ul>
<li>By default the container will be assigned a semi-random name based upon the following code:
<a href="https://github.com/docker/docker-ce/blob/master/components/engine/pkg/namesgenerator/names-generator.go">docker-ce/names-generator.go</a></li>
<li>We can assign our desired name to the container with the <code>--name</code> option
    <div class="language-sh highlight"><pre><span></span><code><span id="__span-23-1"><a id="__codelineno-23-1" name="__codelineno-23-1" href="#001-dockercli-__codelineno-23-1"></a><span class="c1"># Spin an nginx in the background.</span>
</span><span id="__span-23-2"><a id="__codelineno-23-2" name="__codelineno-23-2" href="#001-dockercli-__codelineno-23-2"></a><span class="c1"># Add a sleep timeout so that the container will not exit immediately</span>
</span><span id="__span-23-3"><a id="__codelineno-23-3" name="__codelineno-23-3" href="#001-dockercli-__codelineno-23-3"></a>docker<span class="w"> </span>run<span class="w"> </span>--name<span class="w"> </span>alpine001<span class="w"> </span>alpine
</span><span id="__span-23-4"><a id="__codelineno-23-4" name="__codelineno-23-4" href="#001-dockercli-__codelineno-23-4"></a>
</span><span id="__span-23-5"><a id="__codelineno-23-5" name="__codelineno-23-5" href="#001-dockercli-__codelineno-23-5"></a><span class="c1"># Verify that the container has been created with the given name</span>
</span><span id="__span-23-6"><a id="__codelineno-23-6" name="__codelineno-23-6" href="#001-dockercli-__codelineno-23-6"></a>docker<span class="w"> </span>ps<span class="w"> </span>-a<span class="w"> </span><span class="p">|</span><span class="w">  </span>grep<span class="w"> </span>alpine001
</span></code></pre></div></li>
</ul>
<hr />
<h3 id="001-dockercli-docker-run-p"><code>docker run -p</code><a class="headerlink" href="#001-dockercli-docker-run-p" title="Permanent link">&para;</a></h3>
<div class="admonition debug">
<p class="admonition-title">Port Mapping</p>
<ul>
<li>We can specify the exact ports we wish to open <code>-p</code> or open them all <code>-P</code> </li>
</ul>
</div>
<ul>
<li>Run a container and connect to a port on the host which will be used to connect to the container
    <div class="language-sh highlight"><pre><span></span><code><span id="__span-24-1"><a id="__codelineno-24-1" name="__codelineno-24-1" href="#001-dockercli-__codelineno-24-1"></a><span class="c1"># Execute an nginx container and test the container</span>
</span><span id="__span-24-2"><a id="__codelineno-24-2" name="__codelineno-24-2" href="#001-dockercli-__codelineno-24-2"></a>
</span><span id="__span-24-3"><a id="__codelineno-24-3" name="__codelineno-24-3" href="#001-dockercli-__codelineno-24-3"></a><span class="c1"># Remove any containers with the same name</span>
</span><span id="__span-24-4"><a id="__codelineno-24-4" name="__codelineno-24-4" href="#001-dockercli-__codelineno-24-4"></a>docker<span class="w"> </span>stop<span class="w"> </span>nginx
</span><span id="__span-24-5"><a id="__codelineno-24-5" name="__codelineno-24-5" href="#001-dockercli-__codelineno-24-5"></a>docker<span class="w"> </span>rm<span class="w">   </span>nginx
</span><span id="__span-24-6"><a id="__codelineno-24-6" name="__codelineno-24-6" href="#001-dockercli-__codelineno-24-6"></a>
</span><span id="__span-24-7"><a id="__codelineno-24-7" name="__codelineno-24-7" href="#001-dockercli-__codelineno-24-7"></a><span class="c1"># We will combine few flags here</span>
</span><span id="__span-24-8"><a id="__codelineno-24-8" name="__codelineno-24-8" href="#001-dockercli-__codelineno-24-8"></a>docker<span class="w">  </span>run<span class="w">   </span>-it<span class="w">  </span>--rm<span class="w">     </span><span class="se">\</span>
</span><span id="__span-24-9"><a id="__codelineno-24-9" name="__codelineno-24-9" href="#001-dockercli-__codelineno-24-9"></a><span class="w">              </span>-d<span class="w">            </span><span class="se">\</span>
</span><span id="__span-24-10"><a id="__codelineno-24-10" name="__codelineno-24-10" href="#001-dockercli-__codelineno-24-10"></a><span class="w">              </span>-p<span class="w"> </span><span class="m">8888</span>:80<span class="w">    </span><span class="se">\</span>
</span><span id="__span-24-11"><a id="__codelineno-24-11" name="__codelineno-24-11" href="#001-dockercli-__codelineno-24-11"></a><span class="w">              </span>--name<span class="w"> </span>nginx<span class="w">  </span><span class="se">\</span>
</span><span id="__span-24-12"><a id="__codelineno-24-12" name="__codelineno-24-12" href="#001-dockercli-__codelineno-24-12"></a><span class="w">              </span>nginx
</span><span id="__span-24-13"><a id="__codelineno-24-13" name="__codelineno-24-13" href="#001-dockercli-__codelineno-24-13"></a>
</span><span id="__span-24-14"><a id="__codelineno-24-14" name="__codelineno-24-14" href="#001-dockercli-__codelineno-24-14"></a><span class="c1"># Wait for the container to be created</span>
</span><span id="__span-24-15"><a id="__codelineno-24-15" name="__codelineno-24-15" href="#001-dockercli-__codelineno-24-15"></a>sleep<span class="w"> </span><span class="m">3</span>
</span><span id="__span-24-16"><a id="__codelineno-24-16" name="__codelineno-24-16" href="#001-dockercli-__codelineno-24-16"></a>
</span><span id="__span-24-17"><a id="__codelineno-24-17" name="__codelineno-24-17" href="#001-dockercli-__codelineno-24-17"></a><span class="c1"># test the container</span>
</span><span id="__span-24-18"><a id="__codelineno-24-18" name="__codelineno-24-18" href="#001-dockercli-__codelineno-24-18"></a>curl<span class="w"> </span>-s<span class="w"> </span>localhost:8888
</span><span id="__span-24-19"><a id="__codelineno-24-19" name="__codelineno-24-19" href="#001-dockercli-__codelineno-24-19"></a>
</span><span id="__span-24-20"><a id="__codelineno-24-20" name="__codelineno-24-20" href="#001-dockercli-__codelineno-24-20"></a><span class="c1"># Remove the container</span>
</span><span id="__span-24-21"><a id="__codelineno-24-21" name="__codelineno-24-21" href="#001-dockercli-__codelineno-24-21"></a>docker<span class="w"> </span><span class="nb">kill</span><span class="w"> </span>nginx
</span></code></pre></div></li>
</ul>
<hr />
<h3 id="001-dockercli-docker-start"><code>docker start</code><a class="headerlink" href="#001-dockercli-docker-start" title="Permanent link">&para;</a></h3>
<ul>
<li><code>docker start</code> starts one or more stopped containers.</li>
<li>Unlike <code>docker run</code>, this command starts an existing container.</li>
<li>It does not create a new container.
    <div class="language-sh highlight"><pre><span></span><code><span id="__span-25-1"><a id="__codelineno-25-1" name="__codelineno-25-1" href="#001-dockercli-__codelineno-25-1"></a><span class="c1"># Create a container but don&#39;t start it immediately</span>
</span><span id="__span-25-2"><a id="__codelineno-25-2" name="__codelineno-25-2" href="#001-dockercli-__codelineno-25-2"></a>docker<span class="w"> </span>create<span class="w"> </span>--name<span class="w"> </span>my-alpine<span class="w"> </span>alpine<span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Hello World&quot;</span>
</span><span id="__span-25-3"><a id="__codelineno-25-3" name="__codelineno-25-3" href="#001-dockercli-__codelineno-25-3"></a>
</span><span id="__span-25-4"><a id="__codelineno-25-4" name="__codelineno-25-4" href="#001-dockercli-__codelineno-25-4"></a><span class="c1"># Start the container</span>
</span><span id="__span-25-5"><a id="__codelineno-25-5" name="__codelineno-25-5" href="#001-dockercli-__codelineno-25-5"></a>docker<span class="w"> </span>start<span class="w"> </span>my-alpine
</span><span id="__span-25-6"><a id="__codelineno-25-6" name="__codelineno-25-6" href="#001-dockercli-__codelineno-25-6"></a>
</span><span id="__span-25-7"><a id="__codelineno-25-7" name="__codelineno-25-7" href="#001-dockercli-__codelineno-25-7"></a><span class="c1"># Start and attach to container output</span>
</span><span id="__span-25-8"><a id="__codelineno-25-8" name="__codelineno-25-8" href="#001-dockercli-__codelineno-25-8"></a>docker<span class="w"> </span>start<span class="w"> </span>-a<span class="w"> </span>my-alpine
</span><span id="__span-25-9"><a id="__codelineno-25-9" name="__codelineno-25-9" href="#001-dockercli-__codelineno-25-9"></a>
</span><span id="__span-25-10"><a id="__codelineno-25-10" name="__codelineno-25-10" href="#001-dockercli-__codelineno-25-10"></a><span class="c1"># Start multiple containers</span>
</span><span id="__span-25-11"><a id="__codelineno-25-11" name="__codelineno-25-11" href="#001-dockercli-__codelineno-25-11"></a>docker<span class="w"> </span>start<span class="w"> </span>container1<span class="w"> </span>container2<span class="w"> </span>container3
</span><span id="__span-25-12"><a id="__codelineno-25-12" name="__codelineno-25-12" href="#001-dockercli-__codelineno-25-12"></a>
</span><span id="__span-25-13"><a id="__codelineno-25-13" name="__codelineno-25-13" href="#001-dockercli-__codelineno-25-13"></a><span class="c1"># Start a stopped container interactively</span>
</span><span id="__span-25-14"><a id="__codelineno-25-14" name="__codelineno-25-14" href="#001-dockercli-__codelineno-25-14"></a>docker<span class="w"> </span>run<span class="w"> </span>-it<span class="w"> </span>--name<span class="w"> </span>interactive-alpine<span class="w"> </span>alpine<span class="w"> </span>sh
</span><span id="__span-25-15"><a id="__codelineno-25-15" name="__codelineno-25-15" href="#001-dockercli-__codelineno-25-15"></a><span class="c1"># (exit the shell to stop the container)</span>
</span><span id="__span-25-16"><a id="__codelineno-25-16" name="__codelineno-25-16" href="#001-dockercli-__codelineno-25-16"></a>docker<span class="w"> </span>start<span class="w"> </span>-ai<span class="w"> </span>interactive-alpine
</span><span id="__span-25-17"><a id="__codelineno-25-17" name="__codelineno-25-17" href="#001-dockercli-__codelineno-25-17"></a>
</span><span id="__span-25-18"><a id="__codelineno-25-18" name="__codelineno-25-18" href="#001-dockercli-__codelineno-25-18"></a><span class="c1"># Clean up</span>
</span><span id="__span-25-19"><a id="__codelineno-25-19" name="__codelineno-25-19" href="#001-dockercli-__codelineno-25-19"></a>docker<span class="w"> </span>rm<span class="w"> </span>my-alpine<span class="w"> </span>interactive-alpine
</span></code></pre></div></li>
</ul>
<hr />
<h3 id="001-dockercli-docker-stats"><code>docker stats</code><a class="headerlink" href="#001-dockercli-docker-stats" title="Permanent link">&para;</a></h3>
<ul>
<li><code>docker stats</code> displays a live stream of resource usage statistics for containers.</li>
<li>Shows CPU, memory, network I/O, and disk I/O usage.</li>
<li>Useful for monitoring container performance in real-time.</li>
<li>Can be used to identify resource bottlenecks and optimize container performance.</li>
<li>Supports filtering and formatting options for customized output.
    <div class="language-sh highlight"><pre><span></span><code><span id="__span-26-1"><a id="__codelineno-26-1" name="__codelineno-26-1" href="#001-dockercli-__codelineno-26-1"></a><span class="c1"># Create some containers</span>
</span><span id="__span-26-2"><a id="__codelineno-26-2" name="__codelineno-26-2" href="#001-dockercli-__codelineno-26-2"></a>docker<span class="w"> </span>run<span class="w"> </span>-d<span class="w"> </span>--name<span class="w"> </span>stats-test1<span class="w"> </span>nginx
</span><span id="__span-26-3"><a id="__codelineno-26-3" name="__codelineno-26-3" href="#001-dockercli-__codelineno-26-3"></a>docker<span class="w"> </span>run<span class="w"> </span>-d<span class="w"> </span>--name<span class="w"> </span>stats-test2<span class="w"> </span>alpine<span class="w"> </span>sleep<span class="w"> </span><span class="m">10000</span>
</span><span id="__span-26-4"><a id="__codelineno-26-4" name="__codelineno-26-4" href="#001-dockercli-__codelineno-26-4"></a>
</span><span id="__span-26-5"><a id="__codelineno-26-5" name="__codelineno-26-5" href="#001-dockercli-__codelineno-26-5"></a><span class="c1"># Display stats for all running containers (live stream)</span>
</span><span id="__span-26-6"><a id="__codelineno-26-6" name="__codelineno-26-6" href="#001-dockercli-__codelineno-26-6"></a><span class="c1"># Press Ctrl+C to exit</span>
</span><span id="__span-26-7"><a id="__codelineno-26-7" name="__codelineno-26-7" href="#001-dockercli-__codelineno-26-7"></a>docker<span class="w"> </span>stats
</span><span id="__span-26-8"><a id="__codelineno-26-8" name="__codelineno-26-8" href="#001-dockercli-__codelineno-26-8"></a>
</span><span id="__span-26-9"><a id="__codelineno-26-9" name="__codelineno-26-9" href="#001-dockercli-__codelineno-26-9"></a><span class="c1"># Display stats for specific containers</span>
</span><span id="__span-26-10"><a id="__codelineno-26-10" name="__codelineno-26-10" href="#001-dockercli-__codelineno-26-10"></a>docker<span class="w"> </span>stats<span class="w"> </span>stats-test1<span class="w"> </span>stats-test2
</span><span id="__span-26-11"><a id="__codelineno-26-11" name="__codelineno-26-11" href="#001-dockercli-__codelineno-26-11"></a>
</span><span id="__span-26-12"><a id="__codelineno-26-12" name="__codelineno-26-12" href="#001-dockercli-__codelineno-26-12"></a><span class="c1"># Display stats without streaming (single snapshot)</span>
</span><span id="__span-26-13"><a id="__codelineno-26-13" name="__codelineno-26-13" href="#001-dockercli-__codelineno-26-13"></a>docker<span class="w"> </span>stats<span class="w"> </span>--no-stream
</span><span id="__span-26-14"><a id="__codelineno-26-14" name="__codelineno-26-14" href="#001-dockercli-__codelineno-26-14"></a>
</span><span id="__span-26-15"><a id="__codelineno-26-15" name="__codelineno-26-15" href="#001-dockercli-__codelineno-26-15"></a><span class="c1"># Custom format</span>
</span><span id="__span-26-16"><a id="__codelineno-26-16" name="__codelineno-26-16" href="#001-dockercli-__codelineno-26-16"></a>docker<span class="w"> </span>stats<span class="w"> </span>--format<span class="w"> </span><span class="s2">&quot;table {{.Container}}\t{{.CPUPerc}}\t{{.MemUsage}}&quot;</span>
</span><span id="__span-26-17"><a id="__codelineno-26-17" name="__codelineno-26-17" href="#001-dockercli-__codelineno-26-17"></a>
</span><span id="__span-26-18"><a id="__codelineno-26-18" name="__codelineno-26-18" href="#001-dockercli-__codelineno-26-18"></a><span class="c1"># Clean up</span>
</span><span id="__span-26-19"><a id="__codelineno-26-19" name="__codelineno-26-19" href="#001-dockercli-__codelineno-26-19"></a>docker<span class="w"> </span>stop<span class="w"> </span>stats-test1<span class="w"> </span>stats-test2
</span><span id="__span-26-20"><a id="__codelineno-26-20" name="__codelineno-26-20" href="#001-dockercli-__codelineno-26-20"></a>docker<span class="w"> </span>rm<span class="w"> </span>stats-test1<span class="w"> </span>stats-test2
</span></code></pre></div></li>
</ul>
<hr />
<h3 id="001-dockercli-docker-stop"><code>docker stop</code><a class="headerlink" href="#001-dockercli-docker-stop" title="Permanent link">&para;</a></h3>
<ul>
<li><code>docker stop</code> stops one or more running containers gracefully.</li>
<li>
<p>Sends SIGTERM signal first, then SIGKILL after grace period.</p>
<div class="language-sh highlight"><pre><span></span><code><span id="__span-27-1"><a id="__codelineno-27-1" name="__codelineno-27-1" href="#001-dockercli-__codelineno-27-1"></a><span class="c1"># Create a running container</span>
</span><span id="__span-27-2"><a id="__codelineno-27-2" name="__codelineno-27-2" href="#001-dockercli-__codelineno-27-2"></a>docker<span class="w"> </span>run<span class="w"> </span>-d<span class="w"> </span>--name<span class="w"> </span>test-nginx<span class="w"> </span>nginx
</span><span id="__span-27-3"><a id="__codelineno-27-3" name="__codelineno-27-3" href="#001-dockercli-__codelineno-27-3"></a>
</span><span id="__span-27-4"><a id="__codelineno-27-4" name="__codelineno-27-4" href="#001-dockercli-__codelineno-27-4"></a><span class="c1"># Stop the container (default 10 second grace period)</span>
</span><span id="__span-27-5"><a id="__codelineno-27-5" name="__codelineno-27-5" href="#001-dockercli-__codelineno-27-5"></a>docker<span class="w"> </span>stop<span class="w"> </span>test-nginx
</span><span id="__span-27-6"><a id="__codelineno-27-6" name="__codelineno-27-6" href="#001-dockercli-__codelineno-27-6"></a>
</span><span id="__span-27-7"><a id="__codelineno-27-7" name="__codelineno-27-7" href="#001-dockercli-__codelineno-27-7"></a><span class="c1"># Stop with custom timeout</span>
</span><span id="__span-27-8"><a id="__codelineno-27-8" name="__codelineno-27-8" href="#001-dockercli-__codelineno-27-8"></a>docker<span class="w"> </span>stop<span class="w"> </span>-t<span class="w"> </span><span class="m">30</span><span class="w"> </span>test-nginx
</span><span id="__span-27-9"><a id="__codelineno-27-9" name="__codelineno-27-9" href="#001-dockercli-__codelineno-27-9"></a>
</span><span id="__span-27-10"><a id="__codelineno-27-10" name="__codelineno-27-10" href="#001-dockercli-__codelineno-27-10"></a><span class="c1"># Stop multiple containers</span>
</span><span id="__span-27-11"><a id="__codelineno-27-11" name="__codelineno-27-11" href="#001-dockercli-__codelineno-27-11"></a>docker<span class="w"> </span>stop<span class="w"> </span>container1<span class="w"> </span>container2<span class="w"> </span>container3
</span><span id="__span-27-12"><a id="__codelineno-27-12" name="__codelineno-27-12" href="#001-dockercli-__codelineno-27-12"></a>
</span><span id="__span-27-13"><a id="__codelineno-27-13" name="__codelineno-27-13" href="#001-dockercli-__codelineno-27-13"></a><span class="c1"># Stop all running containers</span>
</span><span id="__span-27-14"><a id="__codelineno-27-14" name="__codelineno-27-14" href="#001-dockercli-__codelineno-27-14"></a>docker<span class="w"> </span>stop<span class="w"> </span><span class="k">$(</span>docker<span class="w"> </span>ps<span class="w"> </span>-q<span class="k">)</span>
</span><span id="__span-27-15"><a id="__codelineno-27-15" name="__codelineno-27-15" href="#001-dockercli-__codelineno-27-15"></a>
</span><span id="__span-27-16"><a id="__codelineno-27-16" name="__codelineno-27-16" href="#001-dockercli-__codelineno-27-16"></a><span class="c1"># Verify container is stopped</span>
</span><span id="__span-27-17"><a id="__codelineno-27-17" name="__codelineno-27-17" href="#001-dockercli-__codelineno-27-17"></a>docker<span class="w"> </span>ps<span class="w"> </span>-a<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>test-nginx
</span><span id="__span-27-18"><a id="__codelineno-27-18" name="__codelineno-27-18" href="#001-dockercli-__codelineno-27-18"></a>
</span><span id="__span-27-19"><a id="__codelineno-27-19" name="__codelineno-27-19" href="#001-dockercli-__codelineno-27-19"></a><span class="c1"># Clean up</span>
</span><span id="__span-27-20"><a id="__codelineno-27-20" name="__codelineno-27-20" href="#001-dockercli-__codelineno-27-20"></a>docker<span class="w"> </span>rm<span class="w"> </span>test-nginx
</span></code></pre></div>
</li>
</ul>
<hr />
<h3 id="001-dockercli-docker-top"><code>docker top</code><a class="headerlink" href="#001-dockercli-docker-top" title="Permanent link">&para;</a></h3>
<ul>
<li><code>docker top</code> displays the running processes inside a container.</li>
<li>Similar to the Linux <code>top</code> command but for containers.
  <div class="language-sh highlight"><pre><span></span><code><span id="__span-28-1"><a id="__codelineno-28-1" name="__codelineno-28-1" href="#001-dockercli-__codelineno-28-1"></a><span class="c1"># Create a running container</span>
</span><span id="__span-28-2"><a id="__codelineno-28-2" name="__codelineno-28-2" href="#001-dockercli-__codelineno-28-2"></a>docker<span class="w"> </span>run<span class="w"> </span>-d<span class="w"> </span>--name<span class="w"> </span>top-test<span class="w"> </span>nginx
</span><span id="__span-28-3"><a id="__codelineno-28-3" name="__codelineno-28-3" href="#001-dockercli-__codelineno-28-3"></a>
</span><span id="__span-28-4"><a id="__codelineno-28-4" name="__codelineno-28-4" href="#001-dockercli-__codelineno-28-4"></a><span class="c1"># Display running processes in the container</span>
</span><span id="__span-28-5"><a id="__codelineno-28-5" name="__codelineno-28-5" href="#001-dockercli-__codelineno-28-5"></a>docker<span class="w"> </span>top<span class="w"> </span>top-test
</span><span id="__span-28-6"><a id="__codelineno-28-6" name="__codelineno-28-6" href="#001-dockercli-__codelineno-28-6"></a>
</span><span id="__span-28-7"><a id="__codelineno-28-7" name="__codelineno-28-7" href="#001-dockercli-__codelineno-28-7"></a><span class="c1"># Display with custom ps options</span>
</span><span id="__span-28-8"><a id="__codelineno-28-8" name="__codelineno-28-8" href="#001-dockercli-__codelineno-28-8"></a>docker<span class="w"> </span>top<span class="w"> </span>top-test<span class="w"> </span>aux
</span><span id="__span-28-9"><a id="__codelineno-28-9" name="__codelineno-28-9" href="#001-dockercli-__codelineno-28-9"></a>
</span><span id="__span-28-10"><a id="__codelineno-28-10" name="__codelineno-28-10" href="#001-dockercli-__codelineno-28-10"></a><span class="c1"># Display specific columns</span>
</span><span id="__span-28-11"><a id="__codelineno-28-11" name="__codelineno-28-11" href="#001-dockercli-__codelineno-28-11"></a>docker<span class="w"> </span>top<span class="w"> </span>top-test<span class="w"> </span>-eo<span class="w"> </span>pid,comm
</span><span id="__span-28-12"><a id="__codelineno-28-12" name="__codelineno-28-12" href="#001-dockercli-__codelineno-28-12"></a>
</span><span id="__span-28-13"><a id="__codelineno-28-13" name="__codelineno-28-13" href="#001-dockercli-__codelineno-28-13"></a><span class="c1"># Create a busier container to see more processes</span>
</span><span id="__span-28-14"><a id="__codelineno-28-14" name="__codelineno-28-14" href="#001-dockercli-__codelineno-28-14"></a>docker<span class="w"> </span>run<span class="w"> </span>-d<span class="w"> </span>--name<span class="w"> </span>busy-container<span class="w"> </span>alpine<span class="w"> </span>sh<span class="w"> </span>-c<span class="w"> </span><span class="s2">&quot;sleep 100 &amp; sleep 200 &amp; sleep 300 &amp; wait&quot;</span>
</span><span id="__span-28-15"><a id="__codelineno-28-15" name="__codelineno-28-15" href="#001-dockercli-__codelineno-28-15"></a>docker<span class="w"> </span>top<span class="w"> </span>busy-container
</span><span id="__span-28-16"><a id="__codelineno-28-16" name="__codelineno-28-16" href="#001-dockercli-__codelineno-28-16"></a>
</span><span id="__span-28-17"><a id="__codelineno-28-17" name="__codelineno-28-17" href="#001-dockercli-__codelineno-28-17"></a><span class="c1"># Clean up</span>
</span><span id="__span-28-18"><a id="__codelineno-28-18" name="__codelineno-28-18" href="#001-dockercli-__codelineno-28-18"></a>docker<span class="w"> </span>stop<span class="w"> </span>top-test<span class="w"> </span>busy-container
</span><span id="__span-28-19"><a id="__codelineno-28-19" name="__codelineno-28-19" href="#001-dockercli-__codelineno-28-19"></a>docker<span class="w"> </span>rm<span class="w"> </span>top-test<span class="w"> </span>busy-container
</span></code></pre></div></li>
</ul>
<hr />
<h3 id="001-dockercli-docker-unpause"><code>docker unpause</code><a class="headerlink" href="#001-dockercli-docker-unpause" title="Permanent link">&para;</a></h3>
<ul>
<li><code>docker unpause</code> resumes all processes in a paused container.</li>
<li>Used in conjunction with <code>docker pause</code>.
  <div class="language-sh highlight"><pre><span></span><code><span id="__span-29-1"><a id="__codelineno-29-1" name="__codelineno-29-1" href="#001-dockercli-__codelineno-29-1"></a><span class="c1"># Create and pause a container</span>
</span><span id="__span-29-2"><a id="__codelineno-29-2" name="__codelineno-29-2" href="#001-dockercli-__codelineno-29-2"></a>docker<span class="w"> </span>run<span class="w"> </span>-d<span class="w"> </span>--name<span class="w"> </span>unpause-test<span class="w"> </span>alpine<span class="w"> </span>sh<span class="w"> </span>-c<span class="w"> </span><span class="s2">&quot;while true; do echo &#39;Running&#39;; sleep 1; done&quot;</span>
</span><span id="__span-29-3"><a id="__codelineno-29-3" name="__codelineno-29-3" href="#001-dockercli-__codelineno-29-3"></a>docker<span class="w"> </span>pause<span class="w"> </span>unpause-test
</span><span id="__span-29-4"><a id="__codelineno-29-4" name="__codelineno-29-4" href="#001-dockercli-__codelineno-29-4"></a>
</span><span id="__span-29-5"><a id="__codelineno-29-5" name="__codelineno-29-5" href="#001-dockercli-__codelineno-29-5"></a><span class="c1"># Verify container is paused</span>
</span><span id="__span-29-6"><a id="__codelineno-29-6" name="__codelineno-29-6" href="#001-dockercli-__codelineno-29-6"></a>docker<span class="w"> </span>ps<span class="w"> </span>-a<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>unpause-test
</span><span id="__span-29-7"><a id="__codelineno-29-7" name="__codelineno-29-7" href="#001-dockercli-__codelineno-29-7"></a>
</span><span id="__span-29-8"><a id="__codelineno-29-8" name="__codelineno-29-8" href="#001-dockercli-__codelineno-29-8"></a><span class="c1"># Unpause the container</span>
</span><span id="__span-29-9"><a id="__codelineno-29-9" name="__codelineno-29-9" href="#001-dockercli-__codelineno-29-9"></a>docker<span class="w"> </span>unpause<span class="w"> </span>unpause-test
</span><span id="__span-29-10"><a id="__codelineno-29-10" name="__codelineno-29-10" href="#001-dockercli-__codelineno-29-10"></a>
</span><span id="__span-29-11"><a id="__codelineno-29-11" name="__codelineno-29-11" href="#001-dockercli-__codelineno-29-11"></a><span class="c1"># Verify container is running again</span>
</span><span id="__span-29-12"><a id="__codelineno-29-12" name="__codelineno-29-12" href="#001-dockercli-__codelineno-29-12"></a>docker<span class="w"> </span>ps<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>unpause-test
</span><span id="__span-29-13"><a id="__codelineno-29-13" name="__codelineno-29-13" href="#001-dockercli-__codelineno-29-13"></a>
</span><span id="__span-29-14"><a id="__codelineno-29-14" name="__codelineno-29-14" href="#001-dockercli-__codelineno-29-14"></a><span class="c1"># Check logs to see it resumed</span>
</span><span id="__span-29-15"><a id="__codelineno-29-15" name="__codelineno-29-15" href="#001-dockercli-__codelineno-29-15"></a>docker<span class="w"> </span>logs<span class="w"> </span>--tail<span class="w"> </span><span class="m">5</span><span class="w"> </span>unpause-test
</span><span id="__span-29-16"><a id="__codelineno-29-16" name="__codelineno-29-16" href="#001-dockercli-__codelineno-29-16"></a>
</span><span id="__span-29-17"><a id="__codelineno-29-17" name="__codelineno-29-17" href="#001-dockercli-__codelineno-29-17"></a><span class="c1"># Clean up</span>
</span><span id="__span-29-18"><a id="__codelineno-29-18" name="__codelineno-29-18" href="#001-dockercli-__codelineno-29-18"></a>docker<span class="w"> </span>stop<span class="w"> </span>unpause-test
</span><span id="__span-29-19"><a id="__codelineno-29-19" name="__codelineno-29-19" href="#001-dockercli-__codelineno-29-19"></a>docker<span class="w"> </span>rm<span class="w"> </span>unpause-test
</span></code></pre></div></li>
</ul>
<hr />
<h3 id="001-dockercli-docker-wait"><code>docker wait</code><a class="headerlink" href="#001-dockercli-docker-wait" title="Permanent link">&para;</a></h3>
<ul>
<li><code>docker wait</code> blocks until one or more containers stop.</li>
<li>
<p>Returns the exit code of the container.</p>
<div class="language-sh highlight"><pre><span></span><code><span id="__span-30-1"><a id="__codelineno-30-1" name="__codelineno-30-1" href="#001-dockercli-__codelineno-30-1"></a><span class="c1"># Create a container that will exit after 5 seconds</span>
</span><span id="__span-30-2"><a id="__codelineno-30-2" name="__codelineno-30-2" href="#001-dockercli-__codelineno-30-2"></a>docker<span class="w"> </span>run<span class="w"> </span>-d<span class="w"> </span>--name<span class="w"> </span>wait-test<span class="w"> </span>alpine<span class="w"> </span>sh<span class="w"> </span>-c<span class="w"> </span><span class="s2">&quot;sleep 5; exit 42&quot;</span>
</span><span id="__span-30-3"><a id="__codelineno-30-3" name="__codelineno-30-3" href="#001-dockercli-__codelineno-30-3"></a>
</span><span id="__span-30-4"><a id="__codelineno-30-4" name="__codelineno-30-4" href="#001-dockercli-__codelineno-30-4"></a><span class="c1"># Wait for the container to exit and get the exit code</span>
</span><span id="__span-30-5"><a id="__codelineno-30-5" name="__codelineno-30-5" href="#001-dockercli-__codelineno-30-5"></a><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Waiting for container to exit...&quot;</span>
</span><span id="__span-30-6"><a id="__codelineno-30-6" name="__codelineno-30-6" href="#001-dockercli-__codelineno-30-6"></a>docker<span class="w"> </span><span class="nb">wait</span><span class="w"> </span>wait-test
</span><span id="__span-30-7"><a id="__codelineno-30-7" name="__codelineno-30-7" href="#001-dockercli-__codelineno-30-7"></a><span class="c1"># This will return 42 after 5 seconds</span>
</span><span id="__span-30-8"><a id="__codelineno-30-8" name="__codelineno-30-8" href="#001-dockercli-__codelineno-30-8"></a>
</span><span id="__span-30-9"><a id="__codelineno-30-9" name="__codelineno-30-9" href="#001-dockercli-__codelineno-30-9"></a><span class="c1"># Wait for multiple containers</span>
</span><span id="__span-30-10"><a id="__codelineno-30-10" name="__codelineno-30-10" href="#001-dockercli-__codelineno-30-10"></a>docker<span class="w"> </span>run<span class="w"> </span>-d<span class="w"> </span>--name<span class="w"> </span>w1<span class="w"> </span>alpine<span class="w"> </span>sh<span class="w"> </span>-c<span class="w"> </span><span class="s2">&quot;sleep 3; exit 0&quot;</span>
</span><span id="__span-30-11"><a id="__codelineno-30-11" name="__codelineno-30-11" href="#001-dockercli-__codelineno-30-11"></a>docker<span class="w"> </span>run<span class="w"> </span>-d<span class="w"> </span>--name<span class="w"> </span>w2<span class="w"> </span>alpine<span class="w"> </span>sh<span class="w"> </span>-c<span class="w"> </span><span class="s2">&quot;sleep 2; exit 1&quot;</span>
</span><span id="__span-30-12"><a id="__codelineno-30-12" name="__codelineno-30-12" href="#001-dockercli-__codelineno-30-12"></a>docker<span class="w"> </span><span class="nb">wait</span><span class="w"> </span>w1<span class="w"> </span>w2
</span><span id="__span-30-13"><a id="__codelineno-30-13" name="__codelineno-30-13" href="#001-dockercli-__codelineno-30-13"></a>
</span><span id="__span-30-14"><a id="__codelineno-30-14" name="__codelineno-30-14" href="#001-dockercli-__codelineno-30-14"></a><span class="c1"># Clean up</span>
</span><span id="__span-30-15"><a id="__codelineno-30-15" name="__codelineno-30-15" href="#001-dockercli-__codelineno-30-15"></a>docker<span class="w"> </span>rm<span class="w"> </span>wait-test<span class="w"> </span>w1<span class="w"> </span>w2
</span></code></pre></div>
</li>
</ul></section><section class="print-page" id="002-dockerfile" heading-number="1.3"><p><img alt="" src="../assets/images/docker-logos.png" /></p>
<hr />
<h1 id="002-dockerfile-lab-002-create-a-basic-container-using-dockerfile">Lab 002 - Create a basic container using Dockerfile<a class="headerlink" href="#002-dockerfile-lab-002-create-a-basic-container-using-dockerfile" title="Permanent link">&para;</a></h1>
<ul>
<li>In this lab we will create our first container using <code>Dockerfile</code></li>
<li>The container will be used to serve a simple <code>NodeJs</code> web server</li>
<li>No NodeJs knowledge is required</li>
<li>You will need to create, build, tag &amp; push your container to DockerHub</li>
<li>
<p>The lab is divided into the several tasks.</p>
<ul>
<li><a href="#002-dockerfile-01-prepare-the-server-code">01. Prepare the server code</a></li>
<li><a href="#002-dockerfile-02-test-the-serverjs-code">02. Test the <code>server.js</code> code</a></li>
<li><a href="#002-dockerfile-03-write-the-dockerfile">03. Write the <code>Dockerfile</code></a></li>
<li><a href="#002-dockerfile-04---build-the-image">04. Build the image</a></li>
<li><a href="#002-dockerfile-05-login-to-dockerhub">05. Login to DockerHub</a></li>
<li><a href="#002-dockerfile-06---push-the-image-to-dockerhub">06. Push the image to DockerHub</a></li>
<li><a href="#002-dockerfile-07-verify-the-push">07. Verify the push</a></li>
<li><a href="#002-dockerfile-08---test-the-image">08. Test the image</a></li>
<li><a href="#002-dockerfile-09-test-the-server">09. Test the server</a></li>
<li><a href="#002-dockerfile-10-clean-up">10. Clean up</a></li>
</ul>
</li>
</ul>
<hr />
<h2 id="002-dockerfile-01-prepare-the-server-code">01. Prepare the server code<a class="headerlink" href="#002-dockerfile-01-prepare-the-server-code" title="Permanent link">&para;</a></h2>
<ul>
<li>Our container will include the following NodeJs simple web server</li>
<li>Copy the code below and save it to a file named <code>server.js</code>
    <div class="language-js highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#002-dockerfile-__codelineno-0-1"></a><span class="c1">//</span>
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#002-dockerfile-__codelineno-0-2"></a><span class="c1">// Filename: server.js</span>
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#002-dockerfile-__codelineno-0-3"></a><span class="c1">//</span>
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4" href="#002-dockerfile-__codelineno-0-4"></a><span class="c1">// Simple NodeJs Server</span>
</span><span id="__span-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5" href="#002-dockerfile-__codelineno-0-5"></a><span class="c1">// The server is listening by default to port 8888</span>
</span><span id="__span-0-6"><a id="__codelineno-0-6" name="__codelineno-0-6" href="#002-dockerfile-__codelineno-0-6"></a><span class="c1">//</span>
</span><span id="__span-0-7"><a id="__codelineno-0-7" name="__codelineno-0-7" href="#002-dockerfile-__codelineno-0-7"></a>
</span><span id="__span-0-8"><a id="__codelineno-0-8" name="__codelineno-0-8" href="#002-dockerfile-__codelineno-0-8"></a><span class="c1">// import the HTTP module</span>
</span><span id="__span-0-9"><a id="__codelineno-0-9" name="__codelineno-0-9" href="#002-dockerfile-__codelineno-0-9"></a><span class="kd">var</span><span class="w"> </span><span class="nx">http</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">require</span><span class="p">(</span><span class="s1">&#39;http&#39;</span><span class="p">);</span>
</span><span id="__span-0-10"><a id="__codelineno-0-10" name="__codelineno-0-10" href="#002-dockerfile-__codelineno-0-10"></a>
</span><span id="__span-0-11"><a id="__codelineno-0-11" name="__codelineno-0-11" href="#002-dockerfile-__codelineno-0-11"></a><span class="c1">// Define a port we want to listen to</span>
</span><span id="__span-0-12"><a id="__codelineno-0-12" name="__codelineno-0-12" href="#002-dockerfile-__codelineno-0-12"></a><span class="c1">// Later on we will pass the port as env parameter</span>
</span><span id="__span-0-13"><a id="__codelineno-0-13" name="__codelineno-0-13" href="#002-dockerfile-__codelineno-0-13"></a><span class="c1">// Default port is set to 8888</span>
</span><span id="__span-0-14"><a id="__codelineno-0-14" name="__codelineno-0-14" href="#002-dockerfile-__codelineno-0-14"></a><span class="kd">const</span><span class="w"> </span><span class="nx">PORT</span><span class="o">=</span><span class="w"> </span><span class="nx">process</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">PORT</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="mf">8888</span><span class="p">;</span><span class="w"> </span>
</span><span id="__span-0-15"><a id="__codelineno-0-15" name="__codelineno-0-15" href="#002-dockerfile-__codelineno-0-15"></a>
</span><span id="__span-0-16"><a id="__codelineno-0-16" name="__codelineno-0-16" href="#002-dockerfile-__codelineno-0-16"></a><span class="c1">// Create the server and listen for requests</span>
</span><span id="__span-0-17"><a id="__codelineno-0-17" name="__codelineno-0-17" href="#002-dockerfile-__codelineno-0-17"></a><span class="c1">// Create the server and listen for requests</span>
</span><span id="__span-0-18"><a id="__codelineno-0-18" name="__codelineno-0-18" href="#002-dockerfile-__codelineno-0-18"></a><span class="nx">http</span><span class="p">.</span><span class="nx">createServer</span><span class="p">((</span><span class="nx">request</span><span class="p">,</span><span class="w"> </span><span class="nx">response</span><span class="p">)=&gt;{</span>
</span><span id="__span-0-19"><a id="__codelineno-0-19" name="__codelineno-0-19" href="#002-dockerfile-__codelineno-0-19"></a><span class="w">    </span><span class="nx">response</span><span class="p">.</span><span class="nx">end</span><span class="p">(</span><span class="s1">&#39;Server is running.!! You asked for: &#39;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">request</span><span class="p">.</span><span class="nx">url</span><span class="p">);</span>
</span><span id="__span-0-20"><a id="__codelineno-0-20" name="__codelineno-0-20" href="#002-dockerfile-__codelineno-0-20"></a><span class="p">}).</span><span class="nx">listen</span><span class="p">(</span><span class="nx">PORT</span><span class="p">,</span><span class="w"> </span><span class="p">()=&gt;{</span>
</span><span id="__span-0-21"><a id="__codelineno-0-21" name="__codelineno-0-21" href="#002-dockerfile-__codelineno-0-21"></a><span class="w">    </span><span class="c1">// Callback is triggered when server is getting a request</span>
</span><span id="__span-0-22"><a id="__codelineno-0-22" name="__codelineno-0-22" href="#002-dockerfile-__codelineno-0-22"></a><span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;Server listening on: http://localhost:%s&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">PORT</span><span class="p">);</span>
</span><span id="__span-0-23"><a id="__codelineno-0-23" name="__codelineno-0-23" href="#002-dockerfile-__codelineno-0-23"></a><span class="p">});</span>
</span></code></pre></div></li>
</ul>
<hr />
<h2 id="002-dockerfile-02-test-the-serverjs-code">02. Test the <code>server.js</code> code<a class="headerlink" href="#002-dockerfile-02-test-the-serverjs-code" title="Permanent link">&para;</a></h2>
<ul>
<li>Before we &ldquo;pack&rdquo; our code in Docker image lets test the code</li>
<li>We will test the code inside <code>nodejs</code> docker 
    <div class="language-sh highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#002-dockerfile-__codelineno-1-1"></a><span class="c1"># Test the node code</span>
</span><span id="__span-1-2"><a id="__codelineno-1-2" name="__codelineno-1-2" href="#002-dockerfile-__codelineno-1-2"></a><span class="c1">#   --rm            =   remove the container when done</span>
</span><span id="__span-1-3"><a id="__codelineno-1-3" name="__codelineno-1-3" href="#002-dockerfile-__codelineno-1-3"></a><span class="c1">#   -d              =   run in detached mode</span>
</span><span id="__span-1-4"><a id="__codelineno-1-4" name="__codelineno-1-4" href="#002-dockerfile-__codelineno-1-4"></a><span class="c1">#   -p              =   open the required ports</span>
</span><span id="__span-1-5"><a id="__codelineno-1-5" name="__codelineno-1-5" href="#002-dockerfile-__codelineno-1-5"></a><span class="c1">#   -v              =   volume</span>
</span><span id="__span-1-6"><a id="__codelineno-1-6" name="__codelineno-1-6" href="#002-dockerfile-__codelineno-1-6"></a><span class="c1">#   -w              =   workdir</span>
</span><span id="__span-1-7"><a id="__codelineno-1-7" name="__codelineno-1-7" href="#002-dockerfile-__codelineno-1-7"></a><span class="c1">#   --name          =   the container name</span>
</span><span id="__span-1-8"><a id="__codelineno-1-8" name="__codelineno-1-8" href="#002-dockerfile-__codelineno-1-8"></a><span class="c1">#   node            =   Execute a nodejs container to test our code</span>
</span><span id="__span-1-9"><a id="__codelineno-1-9" name="__codelineno-1-9" href="#002-dockerfile-__codelineno-1-9"></a><span class="c1">#   node server.js  =   Execute the code</span>
</span><span id="__span-1-10"><a id="__codelineno-1-10" name="__codelineno-1-10" href="#002-dockerfile-__codelineno-1-10"></a>docker<span class="w">   </span>run<span class="w"> </span>--rm<span class="w"> </span>-d<span class="w">       </span><span class="se">\</span>
</span><span id="__span-1-11"><a id="__codelineno-1-11" name="__codelineno-1-11" href="#002-dockerfile-__codelineno-1-11"></a><span class="w">  </span>-v<span class="w">     </span><span class="k">$(</span><span class="nb">pwd</span><span class="k">)</span>:/usr/src<span class="w">  </span><span class="se">\</span>
</span><span id="__span-1-12"><a id="__codelineno-1-12" name="__codelineno-1-12" href="#002-dockerfile-__codelineno-1-12"></a><span class="w">  </span>-w<span class="w">     </span>/usr/src<span class="w">         </span><span class="se">\</span>
</span><span id="__span-1-13"><a id="__codelineno-1-13" name="__codelineno-1-13" href="#002-dockerfile-__codelineno-1-13"></a><span class="w">  </span>-p<span class="w">     </span><span class="m">8888</span>:8888<span class="w">        </span><span class="se">\</span>
</span><span id="__span-1-14"><a id="__codelineno-1-14" name="__codelineno-1-14" href="#002-dockerfile-__codelineno-1-14"></a><span class="w">  </span>--name<span class="w"> </span>node_server<span class="w">      </span><span class="se">\</span>
</span><span id="__span-1-15"><a id="__codelineno-1-15" name="__codelineno-1-15" href="#002-dockerfile-__codelineno-1-15"></a><span class="w">  </span>node<span class="w">                    </span><span class="se">\</span>
</span><span id="__span-1-16"><a id="__codelineno-1-16" name="__codelineno-1-16" href="#002-dockerfile-__codelineno-1-16"></a><span class="w">  </span>node<span class="w"> </span>server.js<span class="w">   </span>
</span></code></pre></div></li>
</ul>
<h2 id="002-dockerfile-03-write-the-dockerfile">03. Write the <code>Dockerfile</code><a class="headerlink" href="#002-dockerfile-03-write-the-dockerfile" title="Permanent link">&para;</a></h2>
<ul>
<li>Now lets create a <code>Dockerfile</code> with the code we just created above</li>
<li>The <code>Dockerfile</code> will be based upon <code>nodejs</code> image and will include our <code>server.js</code>
    <div class="language-Dockerfile highlight"><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#002-dockerfile-__codelineno-2-1"></a><span class="c">#</span>
</span><span id="__span-2-2"><a id="__codelineno-2-2" name="__codelineno-2-2" href="#002-dockerfile-__codelineno-2-2"></a><span class="c"># Filename: Dockerfile</span>
</span><span id="__span-2-3"><a id="__codelineno-2-3" name="__codelineno-2-3" href="#002-dockerfile-__codelineno-2-3"></a><span class="c">#</span>
</span><span id="__span-2-4"><a id="__codelineno-2-4" name="__codelineno-2-4" href="#002-dockerfile-__codelineno-2-4"></a><span class="c"># Use node as our base image</span>
</span><span id="__span-2-5"><a id="__codelineno-2-5" name="__codelineno-2-5" href="#002-dockerfile-__codelineno-2-5"></a><span class="k">FROM</span><span class="w">      </span><span class="s">node</span>
</span><span id="__span-2-6"><a id="__codelineno-2-6" name="__codelineno-2-6" href="#002-dockerfile-__codelineno-2-6"></a>
</span><span id="__span-2-7"><a id="__codelineno-2-7" name="__codelineno-2-7" href="#002-dockerfile-__codelineno-2-7"></a><span class="c"># Optional: Set working directory</span>
</span><span id="__span-2-8"><a id="__codelineno-2-8" name="__codelineno-2-8" href="#002-dockerfile-__codelineno-2-8"></a><span class="k">WORKDIR</span><span class="w">   </span><span class="s">/usr/src</span>
</span><span id="__span-2-9"><a id="__codelineno-2-9" name="__codelineno-2-9" href="#002-dockerfile-__codelineno-2-9"></a>
</span><span id="__span-2-10"><a id="__codelineno-2-10" name="__codelineno-2-10" href="#002-dockerfile-__codelineno-2-10"></a><span class="c"># Copy the server code to our working directory [.]</span>
</span><span id="__span-2-11"><a id="__codelineno-2-11" name="__codelineno-2-11" href="#002-dockerfile-__codelineno-2-11"></a><span class="k">COPY</span><span class="w">      </span>server.js<span class="w"> </span>.
</span><span id="__span-2-12"><a id="__codelineno-2-12" name="__codelineno-2-12" href="#002-dockerfile-__codelineno-2-12"></a>
</span><span id="__span-2-13"><a id="__codelineno-2-13" name="__codelineno-2-13" href="#002-dockerfile-__codelineno-2-13"></a><span class="c"># Mark the port which will required for the server</span>
</span><span id="__span-2-14"><a id="__codelineno-2-14" name="__codelineno-2-14" href="#002-dockerfile-__codelineno-2-14"></a><span class="k">EXPOSE</span><span class="w">    </span><span class="s">8888</span>
</span><span id="__span-2-15"><a id="__codelineno-2-15" name="__codelineno-2-15" href="#002-dockerfile-__codelineno-2-15"></a>
</span><span id="__span-2-16"><a id="__codelineno-2-16" name="__codelineno-2-16" href="#002-dockerfile-__codelineno-2-16"></a><span class="c"># Start the server when the container is started</span>
</span><span id="__span-2-17"><a id="__codelineno-2-17" name="__codelineno-2-17" href="#002-dockerfile-__codelineno-2-17"></a><span class="k">CMD</span><span class="w">       </span><span class="p">[</span><span class="s2">&quot;node&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;./server.js&quot;</span><span class="p">]</span>
</span></code></pre></div></li>
</ul>
<hr />
<h2 id="002-dockerfile-04-build-the-image">04 - Build the image<a class="headerlink" href="#002-dockerfile-04-build-the-image" title="Permanent link">&para;</a></h2>
<ul>
<li>Once we have the docker file we can build the image</li>
<li>Once the image is ready we will push it to DockerHub so you will need an account.</li>
<li>We will name the image: &ldquo;Your Dockerhub username/repository:version&rdquo;
    <div class="language-sh highlight"><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#002-dockerfile-__codelineno-3-1"></a><span class="c1">###</span>
</span><span id="__span-3-2"><a id="__codelineno-3-2" name="__codelineno-3-2" href="#002-dockerfile-__codelineno-3-2"></a><span class="c1">### Build the image</span>
</span><span id="__span-3-3"><a id="__codelineno-3-3" name="__codelineno-3-3" href="#002-dockerfile-__codelineno-3-3"></a><span class="c1">### Tag the image with the following </span>
</span><span id="__span-3-4"><a id="__codelineno-3-4" name="__codelineno-3-4" href="#002-dockerfile-__codelineno-3-4"></a><span class="c1">###     DockerHub username/repository:version</span>
</span><span id="__span-3-5"><a id="__codelineno-3-5" name="__codelineno-3-5" href="#002-dockerfile-__codelineno-3-5"></a><span class="c1">###</span>
</span><span id="__span-3-6"><a id="__codelineno-3-6" name="__codelineno-3-6" href="#002-dockerfile-__codelineno-3-6"></a>docker<span class="w"> </span>build<span class="w"> </span>-t<span class="w"> </span>nirgeier/docker-labs-002<span class="w"> </span>.
</span></code></pre></div></li>
</ul>
<hr />
<h2 id="002-dockerfile-05-login-to-dockerhub">05. Login to DockerHub<a class="headerlink" href="#002-dockerfile-05-login-to-dockerhub" title="Permanent link">&para;</a></h2>
<ul>
<li>Login to DockerHub</li>
<li>Execute <code>docker login</code> and enter your Docker Hub credentials when prompted</li>
<li>If you don&rsquo;t have a DockerHub account, create one at https://hub.docker.com/signup</li>
<li>You will need to push the image to DockerHub in the next step</li>
</ul>
<hr />
<h2 id="002-dockerfile-06-push-the-image-to-dockerhub">06. - Push the image to DockerHub<a class="headerlink" href="#002-dockerfile-06-push-the-image-to-dockerhub" title="Permanent link">&para;</a></h2>
<div class="admonition danger">
<p class="admonition-title">Docker Login Required</p>
<p>You must login to Docker Hub before you can push to DockerHub</p>
</div>
<ul>
<li>Example: <code>docker push username/image:tag</code> </li>
</ul>
<hr />
<h2 id="002-dockerfile-07-verify-the-push">07. Verify the push<a class="headerlink" href="#002-dockerfile-07-verify-the-push" title="Permanent link">&para;</a></h2>
<ul>
<li>Login to your DockerHub account and verify that the image exists under your DockerHub account.</li>
</ul>
<hr />
<h2 id="002-dockerfile-08-test-the-image">08 - Test the image<a class="headerlink" href="#002-dockerfile-08-test-the-image" title="Permanent link">&para;</a></h2>
<ul>
<li>Last step is to test our image</li>
<li>To do so we will pull and run the image from DockerHub</li>
<li>Once the container is started we will test the server
    <div class="language-sh highlight"><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#002-dockerfile-__codelineno-4-1"></a><span class="c1">###</span>
</span><span id="__span-4-2"><a id="__codelineno-4-2" name="__codelineno-4-2" href="#002-dockerfile-__codelineno-4-2"></a><span class="c1">### Pull the image from DockerHub</span>
</span><span id="__span-4-3"><a id="__codelineno-4-3" name="__codelineno-4-3" href="#002-dockerfile-__codelineno-4-3"></a><span class="c1">###  Replace the image tag with your image tag</span>
</span><span id="__span-4-4"><a id="__codelineno-4-4" name="__codelineno-4-4" href="#002-dockerfile-__codelineno-4-4"></a><span class="c1">### </span>
</span><span id="__span-4-5"><a id="__codelineno-4-5" name="__codelineno-4-5" href="#002-dockerfile-__codelineno-4-5"></a>docker<span class="w">   </span>run<span class="w"> </span>-d<span class="w">               </span><span class="se">\</span>
</span><span id="__span-4-6"><a id="__codelineno-4-6" name="__codelineno-4-6" href="#002-dockerfile-__codelineno-4-6"></a><span class="w">        </span>--name<span class="w"> </span><span class="m">002</span>-container<span class="w"> </span><span class="se">\</span>
</span><span id="__span-4-7"><a id="__codelineno-4-7" name="__codelineno-4-7" href="#002-dockerfile-__codelineno-4-7"></a><span class="w">        </span>-p<span class="w"> </span><span class="m">8888</span>:8888<span class="w">         </span><span class="se">\</span>
</span><span id="__span-4-8"><a id="__codelineno-4-8" name="__codelineno-4-8" href="#002-dockerfile-__codelineno-4-8"></a><span class="w">        </span>nirgeier/docker-labs-002
</span><span id="__span-4-9"><a id="__codelineno-4-9" name="__codelineno-4-9" href="#002-dockerfile-__codelineno-4-9"></a>
</span><span id="__span-4-10"><a id="__codelineno-4-10" name="__codelineno-4-10" href="#002-dockerfile-__codelineno-4-10"></a><span class="c1">### Check that the container is working as expected</span>
</span><span id="__span-4-11"><a id="__codelineno-4-11" name="__codelineno-4-11" href="#002-dockerfile-__codelineno-4-11"></a>docker<span class="w"> </span>logs<span class="w"> </span><span class="m">002</span>-container<span class="w">         </span>
</span></code></pre></div></li>
</ul>
<hr />
<h2 id="002-dockerfile-09-test-the-server">09. Test the server<a class="headerlink" href="#002-dockerfile-09-test-the-server" title="Permanent link">&para;</a></h2>
<ul>
<li>
<p>Test the server that he is running on docker.</p>
<div class="language-sh highlight"><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1" href="#002-dockerfile-__codelineno-5-1"></a><span class="c1"># Test the server that he is running on docker</span>
</span><span id="__span-5-2"><a id="__codelineno-5-2" name="__codelineno-5-2" href="#002-dockerfile-__codelineno-5-2"></a>curl<span class="w"> </span>-s<span class="w"> </span>localhost:8888
</span><span id="__span-5-3"><a id="__codelineno-5-3" name="__codelineno-5-3" href="#002-dockerfile-__codelineno-5-3"></a>
</span><span id="__span-5-4"><a id="__codelineno-5-4" name="__codelineno-5-4" href="#002-dockerfile-__codelineno-5-4"></a><span class="c1">### ExpectedOutput:</span>
</span><span id="__span-5-5"><a id="__codelineno-5-5" name="__codelineno-5-5" href="#002-dockerfile-__codelineno-5-5"></a>Server<span class="w"> </span>is<span class="w"> </span>running.!!<span class="w"> </span>You<span class="w"> </span>asked<span class="w"> </span><span class="k">for</span>:<span class="w"> </span>/
</span></code></pre></div>
</li>
</ul>
<hr />
<h2 id="002-dockerfile-10-clean-up">10. Clean up<a class="headerlink" href="#002-dockerfile-10-clean-up" title="Permanent link">&para;</a></h2>
<ul>
<li>Stop and remove the container
    <div class="language-sh highlight"><pre><span></span><code><span id="__span-6-1"><a id="__codelineno-6-1" name="__codelineno-6-1" href="#002-dockerfile-__codelineno-6-1"></a><span class="c1"># Stop the container</span>
</span><span id="__span-6-2"><a id="__codelineno-6-2" name="__codelineno-6-2" href="#002-dockerfile-__codelineno-6-2"></a><span class="c1"># If we used --rm the container should remove itself</span>
</span><span id="__span-6-3"><a id="__codelineno-6-3" name="__codelineno-6-3" href="#002-dockerfile-__codelineno-6-3"></a>docker<span class="w"> </span>stop<span class="w"> </span><span class="m">002</span>-container
</span><span id="__span-6-4"><a id="__codelineno-6-4" name="__codelineno-6-4" href="#002-dockerfile-__codelineno-6-4"></a>
</span><span id="__span-6-5"><a id="__codelineno-6-5" name="__codelineno-6-5" href="#002-dockerfile-__codelineno-6-5"></a><span class="c1"># If not used --rm - remove the container</span>
</span><span id="__span-6-6"><a id="__codelineno-6-6" name="__codelineno-6-6" href="#002-dockerfile-__codelineno-6-6"></a>docker<span class="w"> </span>rm<span class="w"> </span><span class="m">002</span>-container
</span></code></pre></div></li>
</ul>
<hr />
<p><img alt="Well Done" src="../assets/images/well-done.png" /></p></section><section class="print-page" id="003-dockerfile-multistage" heading-number="1.4"><p><img alt="DockerLabs Banner" src="../assets/images/docker-logos.png" /></p>
<hr />
<h1 id="003-dockerfile-multistage-lab-writing-docker-multi-stage-build">Lab - Writing Docker multi-stage build<a class="headerlink" href="#003-dockerfile-multistage-lab-writing-docker-multi-stage-build" title="Permanent link">&para;</a></h1>
<ul>
<li>In this lab we will learn how to write a multi-stage Docker file</li>
<li>A multistage build allows you to use <strong>multiple images</strong> to build a final product. </li>
<li>In a multistage build, you have a <strong>single</strong> Dockerfile which build up multiple images inside it to help build the final image.</li>
</ul>
<hr />
<h2 id="003-dockerfile-multistage-why-use-multistage-builds">Why Use Multistage Builds?<a class="headerlink" href="#003-dockerfile-multistage-why-use-multistage-builds" title="Permanent link">&para;</a></h2>
<div class="grid cards">
<ul>
<li>
<p><span class="twemoji lg middle"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m10.59 12 4-4H11V6h7v7h-2V9.41l-4 4V16h8V4H8v8zM22 2v16H12v4H2V12h4V2zM10 14H4v6h6z"/></svg></span> <strong>Reduce Image Size</strong></p>
<hr />
<ul>
<li>Use a minimal base image for the final stage</li>
<li>Only copy necessary artifacts to the final image</li>
<li>Exclude build tools and intermediate files from production image</li>
</ul>
</li>
<li>
<p><span class="twemoji lg middle"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m10 17-4-4 1.41-1.41L10 14.17l6.59-6.59L18 9m-6-8L3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5z"/></svg></span> <strong>Improve Security</strong></p>
<hr />
<ul>
<li>Exclude build tools and secrets from the runtime image</li>
<li>Limit the attack surface by using a smaller final image</li>
<li>Use a non-root user in the final stage</li>
<li>Reduce vulnerabilities by minimizing installed packages</li>
</ul>
</li>
<li>
<p><span class="twemoji lg middle"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 16a3 3 0 0 1-3-3c0-1.12.61-2.1 1.5-2.61l9.71-5.62-5.53 9.58c-.5.98-1.51 1.65-2.68 1.65m0-13c1.81 0 3.5.5 4.97 1.32l-2.1 1.21C14 5.19 13 5 12 5a8 8 0 0 0-8 8c0 2.21.89 4.21 2.34 5.65h.01c.39.39.39 1.02 0 1.41s-1.03.39-1.42.01A9.97 9.97 0 0 1 2 13 10 10 0 0 1 12 3m10 10c0 2.76-1.12 5.26-2.93 7.07-.39.38-1.02.38-1.41-.01a.996.996 0 0 1 0-1.41A7.95 7.95 0 0 0 20 13c0-1-.19-2-.54-2.9L20.67 8C21.5 9.5 22 11.18 22 13"/></svg></span> <strong>Better Build Performance</strong></p>
<hr />
<ul>
<li>Leverage Docker&rsquo;s layer caching mechanism to speed up builds</li>
<li>Only rebuild stages that have changed</li>
<li>Each stage can be built and tested independently</li>
<li>Parallel stage execution when possible</li>
</ul>
</li>
<li>
<p><span class="twemoji lg middle"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 9h5.5L13 3.5zM6 2h8l6 6v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V4c0-1.11.89-2 2-2m.12 13.5 3.74 3.74 1.42-1.41-2.33-2.33 2.33-2.33-1.42-1.41zm11.16 0-3.74-3.74-1.42 1.41 2.33 2.33-2.33 2.33 1.42 1.41z"/></svg></span> <strong>Cleaner and More Maintainable Dockerfiles</strong></p>
<hr />
<ul>
<li>Separate concerns by using multiple named stages</li>
<li>No need for manual cleanup of build dependencies</li>
<li>Easier to read and maintain with clear stage purposes</li>
<li>Use meaningful stage names for better clarity</li>
<li>Add comments to explain each stage&rsquo;s role</li>
</ul>
</li>
<li>
<p><span class="twemoji lg middle"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M2 10.96a.985.985 0 0 1-.37-1.37L3.13 7c.11-.2.28-.34.47-.42l7.83-4.4c.16-.12.36-.18.57-.18s.41.06.57.18l7.9 4.44c.19.1.35.26.44.46l1.45 2.52c.28.48.11 1.09-.36 1.36l-1 .58v4.96c0 .38-.21.71-.53.88l-7.9 4.44c-.16.12-.36.18-.57.18s-.41-.06-.57-.18l-7.9-4.44A.99.99 0 0 1 3 16.5v-5.54c-.3.17-.68.18-1 0m10-6.81v6.7l5.96-3.35zM5 15.91l6 3.38v-6.71L5 9.21zm14 0v-3.22l-5 2.9c-.33.18-.7.17-1 .01v3.69zm-5.15-2.55 6.28-3.63-.58-1.01-6.28 3.63z"/></svg></span> <strong>Flexible Dependency Management</strong></p>
<hr />
<ul>
<li>Install build dependencies in one stage and runtime dependencies in another</li>
<li>Use different base images optimized for each stage (e.g., <code>golang:alpine</code> for build, <code>alpine</code> for runtime)</li>
<li>Use the best-suited image for each stage without bloating the final image</li>
</ul>
</li>
<li>
<p><span class="twemoji lg middle"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M22 14h-2v2h-6v-3h2v-2h-2V6a2 2 0 0 0-2-2H4V2H2v8h2V8h6v3H8v2h2v5a2 2 0 0 0 2 2h8v2h2"/></svg></span> <strong>Simplified CI/CD Pipelines</strong></p>
<hr />
<ul>
<li>Combine build, test, and deploy stages in a single Dockerfile</li>
<li>Use <code>--target</code> flag to build specific stages for different environments</li>
<li>Consistent build process across development and production</li>
</ul>
</li>
</ul>
</div>
<hr />
<h2 id="003-dockerfile-multistage-01-create-multi-stage-docker-file">01. Create multi-stage docker file<a class="headerlink" href="#003-dockerfile-multistage-01-create-multi-stage-docker-file" title="Permanent link">&para;</a></h2>
<ul>
<li>The first step is to create a Dockerfile.</li>
<li>Later on we will pass build time arguments to this file to build the desired image</li>
<li><code>Dockerfile</code>
    <div class="language-Dockerfile highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#003-dockerfile-multistage-__codelineno-0-1"></a><span class="c"># Get the value of the desired image to build</span>
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#003-dockerfile-multistage-__codelineno-0-2"></a><span class="k">ARG</span><span class="w">     </span><span class="nv">BASE_IMG</span><span class="o">=</span>curl
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#003-dockerfile-multistage-__codelineno-0-3"></a>
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4" href="#003-dockerfile-multistage-__codelineno-0-4"></a><span class="c"># Build the base image </span>
</span><span id="__span-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5" href="#003-dockerfile-multistage-__codelineno-0-5"></a><span class="k">FROM</span><span class="w">    </span><span class="s">alpine</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="s">base_image</span>
</span><span id="__span-0-6"><a id="__codelineno-0-6" name="__codelineno-0-6" href="#003-dockerfile-multistage-__codelineno-0-6"></a>
</span><span id="__span-0-7"><a id="__codelineno-0-7" name="__codelineno-0-7" href="#003-dockerfile-multistage-__codelineno-0-7"></a><span class="c"># Add some content to the 2nd image</span>
</span><span id="__span-0-8"><a id="__codelineno-0-8" name="__codelineno-0-8" href="#003-dockerfile-multistage-__codelineno-0-8"></a><span class="k">FROM</span><span class="w">    </span><span class="s">base_image</span><span class="w">  </span><span class="k">AS</span><span class="w"> </span><span class="s">build-curl</span>
</span><span id="__span-0-9"><a id="__codelineno-0-9" name="__codelineno-0-9" href="#003-dockerfile-multistage-__codelineno-0-9"></a><span class="k">RUN</span><span class="w">     </span><span class="nb">echo</span><span class="w"> </span>-e<span class="w"> </span><span class="s2">&quot;This file is from curl image&quot;</span><span class="w"> </span>&gt;<span class="w"> </span>image.txt
</span><span id="__span-0-10"><a id="__codelineno-0-10" name="__codelineno-0-10" href="#003-dockerfile-multistage-__codelineno-0-10"></a>
</span><span id="__span-0-11"><a id="__codelineno-0-11" name="__codelineno-0-11" href="#003-dockerfile-multistage-__codelineno-0-11"></a><span class="c"># Add some content to the 3rd image</span>
</span><span id="__span-0-12"><a id="__codelineno-0-12" name="__codelineno-0-12" href="#003-dockerfile-multistage-__codelineno-0-12"></a><span class="k">FROM</span><span class="w">    </span><span class="s">base_image</span><span class="w">  </span><span class="k">AS</span><span class="w"> </span><span class="s">build-bash</span>
</span><span id="__span-0-13"><a id="__codelineno-0-13" name="__codelineno-0-13" href="#003-dockerfile-multistage-__codelineno-0-13"></a><span class="k">RUN</span><span class="w">     </span><span class="nb">echo</span><span class="w"> </span>-e<span class="w"> </span><span class="s2">&quot;This file is from bash image&quot;</span><span class="w"> </span>&gt;<span class="w"> </span>image.txt
</span><span id="__span-0-14"><a id="__codelineno-0-14" name="__codelineno-0-14" href="#003-dockerfile-multistage-__codelineno-0-14"></a>
</span><span id="__span-0-15"><a id="__codelineno-0-15" name="__codelineno-0-15" href="#003-dockerfile-multistage-__codelineno-0-15"></a><span class="c"># Build the desired image</span>
</span><span id="__span-0-16"><a id="__codelineno-0-16" name="__codelineno-0-16" href="#003-dockerfile-multistage-__codelineno-0-16"></a><span class="k">FROM</span><span class="w">    </span><span class="s">build-${BASE_IMG}</span>
</span><span id="__span-0-17"><a id="__codelineno-0-17" name="__codelineno-0-17" href="#003-dockerfile-multistage-__codelineno-0-17"></a>
</span><span id="__span-0-18"><a id="__codelineno-0-18" name="__codelineno-0-18" href="#003-dockerfile-multistage-__codelineno-0-18"></a><span class="c"># We can use the FROM command as we see in the previous line or use the</span>
</span><span id="__span-0-19"><a id="__codelineno-0-19" name="__codelineno-0-19" href="#003-dockerfile-multistage-__codelineno-0-19"></a><span class="c"># We can also use image index instead</span>
</span><span id="__span-0-20"><a id="__codelineno-0-20" name="__codelineno-0-20" href="#003-dockerfile-multistage-__codelineno-0-20"></a><span class="c"># COPY  --from=build-${BASE_IMG} image.txt . to copy a specific content</span>
</span><span id="__span-0-21"><a id="__codelineno-0-21" name="__codelineno-0-21" href="#003-dockerfile-multistage-__codelineno-0-21"></a><span class="k">RUN</span><span class="w">     </span>cat<span class="w"> </span>image.txt
</span><span id="__span-0-22"><a id="__codelineno-0-22" name="__codelineno-0-22" href="#003-dockerfile-multistage-__codelineno-0-22"></a><span class="k">CMD</span><span class="w">     </span><span class="p">[</span><span class="s2">&quot;cat&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;image.txt&quot;</span><span class="p">]</span>
</span></code></pre></div></li>
</ul>
<h2 id="003-dockerfile-multistage-02-build-the-desired-images">02. Build the desired images<a class="headerlink" href="#003-dockerfile-multistage-02-build-the-desired-images" title="Permanent link">&para;</a></h2>
<ul>
<li>We will use the following script to build multiple images and to test the results
    <div class="language-bash highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#003-dockerfile-multistage-__codelineno-1-1"></a><span class="ch">#!/bin/bash -x</span>
</span><span id="__span-1-2"><a id="__codelineno-1-2" name="__codelineno-1-2" href="#003-dockerfile-multistage-__codelineno-1-2"></a>
</span><span id="__span-1-3"><a id="__codelineno-1-3" name="__codelineno-1-3" href="#003-dockerfile-multistage-__codelineno-1-3"></a><span class="c1"># Build The curl based image (no-cache)</span>
</span><span id="__span-1-4"><a id="__codelineno-1-4" name="__codelineno-1-4" href="#003-dockerfile-multistage-__codelineno-1-4"></a>docker<span class="w"> </span>build<span class="w"> </span>--build-arg<span class="w"> </span><span class="nv">BASE_IMG</span><span class="o">=</span>curl<span class="w"> </span>--no-cache<span class="w"> </span>-t<span class="w"> </span>curl1<span class="w"> </span>.
</span><span id="__span-1-5"><a id="__codelineno-1-5" name="__codelineno-1-5" href="#003-dockerfile-multistage-__codelineno-1-5"></a>
</span><span id="__span-1-6"><a id="__codelineno-1-6" name="__codelineno-1-6" href="#003-dockerfile-multistage-__codelineno-1-6"></a><span class="c1"># Build The bash based image (no-cache)</span>
</span><span id="__span-1-7"><a id="__codelineno-1-7" name="__codelineno-1-7" href="#003-dockerfile-multistage-__codelineno-1-7"></a>docker<span class="w"> </span>build<span class="w"> </span>--build-arg<span class="w"> </span><span class="nv">BASE_IMG</span><span class="o">=</span>bash<span class="w"> </span>--no-cache<span class="w"> </span>-t<span class="w"> </span>bash1<span class="w"> </span>.
</span><span id="__span-1-8"><a id="__codelineno-1-8" name="__codelineno-1-8" href="#003-dockerfile-multistage-__codelineno-1-8"></a>
</span><span id="__span-1-9"><a id="__codelineno-1-9" name="__codelineno-1-9" href="#003-dockerfile-multistage-__codelineno-1-9"></a><span class="c1">### Build with cache</span>
</span><span id="__span-1-10"><a id="__codelineno-1-10" name="__codelineno-1-10" href="#003-dockerfile-multistage-__codelineno-1-10"></a><span class="nb">echo</span><span class="w"> </span>-e<span class="w"> </span><span class="s2">&quot;&quot;</span>
</span><span id="__span-1-11"><a id="__codelineno-1-11" name="__codelineno-1-11" href="#003-dockerfile-multistage-__codelineno-1-11"></a><span class="nb">echo</span><span class="w"> </span>-e<span class="w"> </span><span class="s2">&quot;---------------------------------&quot;</span>
</span><span id="__span-1-12"><a id="__codelineno-1-12" name="__codelineno-1-12" href="#003-dockerfile-multistage-__codelineno-1-12"></a><span class="nb">echo</span><span class="w"> </span>-e<span class="w"> </span><span class="s2">&quot;&quot;</span>
</span><span id="__span-1-13"><a id="__codelineno-1-13" name="__codelineno-1-13" href="#003-dockerfile-multistage-__codelineno-1-13"></a><span class="c1"># Build The curl based image (with cache)</span>
</span><span id="__span-1-14"><a id="__codelineno-1-14" name="__codelineno-1-14" href="#003-dockerfile-multistage-__codelineno-1-14"></a>docker<span class="w"> </span>build<span class="w"> </span>--build-arg<span class="w"> </span><span class="nv">BASE_IMG</span><span class="o">=</span>curl<span class="w"> </span>-t<span class="w"> </span>curl2<span class="w"> </span>.
</span><span id="__span-1-15"><a id="__codelineno-1-15" name="__codelineno-1-15" href="#003-dockerfile-multistage-__codelineno-1-15"></a>
</span><span id="__span-1-16"><a id="__codelineno-1-16" name="__codelineno-1-16" href="#003-dockerfile-multistage-__codelineno-1-16"></a><span class="c1"># Build The bash based image (with cache)</span>
</span><span id="__span-1-17"><a id="__codelineno-1-17" name="__codelineno-1-17" href="#003-dockerfile-multistage-__codelineno-1-17"></a>docker<span class="w"> </span>build<span class="w"> </span>--build-arg<span class="w"> </span><span class="nv">BASE_IMG</span><span class="o">=</span>bash<span class="w"> </span>-t<span class="w"> </span>bash2<span class="w"> </span>.
</span></code></pre></div></li>
</ul>
<hr />
<h2 id="003-dockerfile-multistage-03-test-the-images">03. Test the images<a class="headerlink" href="#003-dockerfile-multistage-03-test-the-images" title="Permanent link">&para;</a></h2>
<ul>
<li>
<p>We will now test the 4 images we build perviously
    <div class="language-bash highlight"><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#003-dockerfile-multistage-__codelineno-2-1"></a><span class="c1"># Debug mode</span>
</span><span id="__span-2-2"><a id="__codelineno-2-2" name="__codelineno-2-2" href="#003-dockerfile-multistage-__codelineno-2-2"></a><span class="nb">set</span><span class="w"> </span>-x
</span><span id="__span-2-3"><a id="__codelineno-2-3" name="__codelineno-2-3" href="#003-dockerfile-multistage-__codelineno-2-3"></a>
</span><span id="__span-2-4"><a id="__codelineno-2-4" name="__codelineno-2-4" href="#003-dockerfile-multistage-__codelineno-2-4"></a><span class="c1"># Test the output images</span>
</span><span id="__span-2-5"><a id="__codelineno-2-5" name="__codelineno-2-5" href="#003-dockerfile-multistage-__codelineno-2-5"></a>docker<span class="w"> </span>run<span class="w"> </span>curl1
</span><span id="__span-2-6"><a id="__codelineno-2-6" name="__codelineno-2-6" href="#003-dockerfile-multistage-__codelineno-2-6"></a>docker<span class="w"> </span>run<span class="w"> </span>curl2
</span><span id="__span-2-7"><a id="__codelineno-2-7" name="__codelineno-2-7" href="#003-dockerfile-multistage-__codelineno-2-7"></a>docker<span class="w"> </span>run<span class="w"> </span>bash1
</span><span id="__span-2-8"><a id="__codelineno-2-8" name="__codelineno-2-8" href="#003-dockerfile-multistage-__codelineno-2-8"></a>docker<span class="w"> </span>run<span class="w"> </span>bash2
</span></code></pre></div></p>
</li>
<li>
<p>You should see output similar to this one:
    <div class="language-bash highlight"><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#003-dockerfile-multistage-__codelineno-3-1"></a>+<span class="w"> </span>docker<span class="w"> </span>run<span class="w"> </span>curl1
</span><span id="__span-3-2"><a id="__codelineno-3-2" name="__codelineno-3-2" href="#003-dockerfile-multistage-__codelineno-3-2"></a>This<span class="w"> </span>file<span class="w"> </span>is<span class="w"> </span>from<span class="w"> </span>curl<span class="w"> </span>image
</span><span id="__span-3-3"><a id="__codelineno-3-3" name="__codelineno-3-3" href="#003-dockerfile-multistage-__codelineno-3-3"></a>+<span class="w"> </span>docker<span class="w"> </span>run<span class="w"> </span>curl2
</span><span id="__span-3-4"><a id="__codelineno-3-4" name="__codelineno-3-4" href="#003-dockerfile-multistage-__codelineno-3-4"></a>This<span class="w"> </span>file<span class="w"> </span>is<span class="w"> </span>from<span class="w"> </span>curl<span class="w"> </span>image
</span><span id="__span-3-5"><a id="__codelineno-3-5" name="__codelineno-3-5" href="#003-dockerfile-multistage-__codelineno-3-5"></a>+<span class="w"> </span>docker<span class="w"> </span>run<span class="w"> </span>bash1
</span><span id="__span-3-6"><a id="__codelineno-3-6" name="__codelineno-3-6" href="#003-dockerfile-multistage-__codelineno-3-6"></a>This<span class="w"> </span>file<span class="w"> </span>is<span class="w"> </span>from<span class="w"> </span>bash<span class="w"> </span>image
</span><span id="__span-3-7"><a id="__codelineno-3-7" name="__codelineno-3-7" href="#003-dockerfile-multistage-__codelineno-3-7"></a>+<span class="w"> </span>docker<span class="w"> </span>run<span class="w"> </span>bash2
</span><span id="__span-3-8"><a id="__codelineno-3-8" name="__codelineno-3-8" href="#003-dockerfile-multistage-__codelineno-3-8"></a>This<span class="w"> </span>file<span class="w"> </span>is<span class="w"> </span>from<span class="w"> </span>bash<span class="w"> </span>image
</span></code></pre></div></p>
</li>
</ul>
<hr />
<h2 id="003-dockerfile-multistage-04-quiz">04. Quiz<a class="headerlink" href="#003-dockerfile-multistage-04-quiz" title="Permanent link">&para;</a></h2>
<ul>
<li>What will be the results of this docker file?</li>
<li>Try to answer and then build the following <code>Dockerfile</code> to see the results
        <div class="language-dockerfile highlight"><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#003-dockerfile-multistage-__codelineno-4-1"></a><span class="c"># Build the base image</span>
</span><span id="__span-4-2"><a id="__codelineno-4-2" name="__codelineno-4-2" href="#003-dockerfile-multistage-__codelineno-4-2"></a><span class="k">FROM</span><span class="w">    </span><span class="s">alpine</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="s">base_image</span>
</span><span id="__span-4-3"><a id="__codelineno-4-3" name="__codelineno-4-3" href="#003-dockerfile-multistage-__codelineno-4-3"></a>
</span><span id="__span-4-4"><a id="__codelineno-4-4" name="__codelineno-4-4" href="#003-dockerfile-multistage-__codelineno-4-4"></a><span class="c"># Add some packages to the base image</span>
</span><span id="__span-4-5"><a id="__codelineno-4-5" name="__codelineno-4-5" href="#003-dockerfile-multistage-__codelineno-4-5"></a><span class="k">FROM</span><span class="w">    </span><span class="s">base_image</span><span class="w">  </span><span class="k">AS</span><span class="w"> </span><span class="s">build-curl</span>
</span><span id="__span-4-6"><a id="__codelineno-4-6" name="__codelineno-4-6" href="#003-dockerfile-multistage-__codelineno-4-6"></a><span class="k">RUN</span><span class="w">     </span><span class="nb">echo</span><span class="w"> </span>-e<span class="w"> </span><span class="s2">&quot;\033[1;33mThis file is from curl image\033[0m&quot;</span><span class="w"> </span>&gt;<span class="w"> </span>image.txt
</span><span id="__span-4-7"><a id="__codelineno-4-7" name="__codelineno-4-7" href="#003-dockerfile-multistage-__codelineno-4-7"></a>
</span><span id="__span-4-8"><a id="__codelineno-4-8" name="__codelineno-4-8" href="#003-dockerfile-multistage-__codelineno-4-8"></a><span class="c"># Add some packages to the base image</span>
</span><span id="__span-4-9"><a id="__codelineno-4-9" name="__codelineno-4-9" href="#003-dockerfile-multistage-__codelineno-4-9"></a><span class="k">FROM</span><span class="w">    </span><span class="s">base_image</span><span class="w">  </span><span class="k">AS</span><span class="w"> </span><span class="s">build-bash</span>
</span><span id="__span-4-10"><a id="__codelineno-4-10" name="__codelineno-4-10" href="#003-dockerfile-multistage-__codelineno-4-10"></a><span class="k">RUN</span><span class="w">     </span><span class="nb">echo</span><span class="w"> </span>-e<span class="w"> </span><span class="s2">&quot;\033[1;32mThis file is from bash image\033[0m&quot;</span><span class="w"> </span>&gt;<span class="w"> </span>image.txt
</span><span id="__span-4-11"><a id="__codelineno-4-11" name="__codelineno-4-11" href="#003-dockerfile-multistage-__codelineno-4-11"></a>
</span><span id="__span-4-12"><a id="__codelineno-4-12" name="__codelineno-4-12" href="#003-dockerfile-multistage-__codelineno-4-12"></a><span class="c">#   Build the desired image</span>
</span><span id="__span-4-13"><a id="__codelineno-4-13" name="__codelineno-4-13" href="#003-dockerfile-multistage-__codelineno-4-13"></a><span class="k">FROM</span><span class="w">    </span><span class="s">build-curl</span>
</span><span id="__span-4-14"><a id="__codelineno-4-14" name="__codelineno-4-14" href="#003-dockerfile-multistage-__codelineno-4-14"></a><span class="k">COPY</span><span class="w">    </span>--from<span class="o">=</span><span class="m">2</span><span class="w"> </span>image.txt<span class="w"> </span>.
</span><span id="__span-4-15"><a id="__codelineno-4-15" name="__codelineno-4-15" href="#003-dockerfile-multistage-__codelineno-4-15"></a><span class="k">RUN</span><span class="w"> </span>cat<span class="w"> </span>image.txt
</span><span id="__span-4-16"><a id="__codelineno-4-16" name="__codelineno-4-16" href="#003-dockerfile-multistage-__codelineno-4-16"></a><span class="k">CMD</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;cat&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;image.txt&quot;</span><span class="p">]</span>
</span></code></pre></div></li>
<li>
<p>Test your answer with the following command</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1" href="#003-dockerfile-multistage-__codelineno-5-1"></a>docker<span class="w"> </span>build<span class="w"> </span>-f<span class="w"> </span>Dockerfile2<span class="w"> </span>.
</span></code></pre></div>
</li>
</ul>
<hr />
<h2 id="003-dockerfile-multistage-05-build-a-specific-target">05. Build a specific target<a class="headerlink" href="#003-dockerfile-multistage-05-build-a-specific-target" title="Permanent link">&para;</a></h2>
<ul>
<li>We can build our specific image and stop at the desired stage</li>
<li>
<p>In other words we don&rsquo;t need to build all the images within the docker file</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-6-1"><a id="__codelineno-6-1" name="__codelineno-6-1" href="#003-dockerfile-multistage-__codelineno-6-1"></a>docker<span class="w"> </span>build<span class="w"> </span>--target<span class="w"> </span>build-curl<span class="w"> </span>-f<span class="w"> </span>Dockerfile2<span class="w"> </span>.
</span></code></pre></div>
</li>
</ul>
<hr />
<h2 id="003-dockerfile-multistage-06-in-class-exercise">06. In-Class Exercise<a class="headerlink" href="#003-dockerfile-multistage-06-in-class-exercise" title="Permanent link">&para;</a></h2>
<ul>
<li>Create a <code>multi-stage</code> docker file that will build 2 images</li>
<li>The first image will be based on <code>alpine</code> and will create a file named <code>alpine.txt</code> with the content: <code>This is alpine image</code></li>
<li>The second image will be based on <code>node</code> and will create a file named <code>node.txt</code> with the content: <code>This is node image</code></li>
<li>The final image should be based on <code>alpine</code> and should copy the files which you created from the previous stages and display their content when the container will run.</li>
<li>Hint: Use the <code>COPY --from=</code> command to copy files from previous stages</li>
</ul>
<details>
<summary>Solution</summary>

### Dockerfile Solution

Create a file named `Dockerfile-exercise`:

<div class="language-dockerfile highlight"><pre><span></span><code><span id="__span-7-1"><a id="__codelineno-7-1" name="__codelineno-7-1" href="#003-dockerfile-multistage-__codelineno-7-1"></a><span class="c"># First stage: Alpine image</span>
</span><span id="__span-7-2"><a id="__codelineno-7-2" name="__codelineno-7-2" href="#003-dockerfile-multistage-__codelineno-7-2"></a><span class="k">FROM</span><span class="w">  </span><span class="s">alpine</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="s">alpine-stage</span>
</span><span id="__span-7-3"><a id="__codelineno-7-3" name="__codelineno-7-3" href="#003-dockerfile-multistage-__codelineno-7-3"></a><span class="k">RUN</span><span class="w">   </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;This is alpine image&quot;</span><span class="w"> </span>&gt;<span class="w"> </span>alpine.txt
</span><span id="__span-7-4"><a id="__codelineno-7-4" name="__codelineno-7-4" href="#003-dockerfile-multistage-__codelineno-7-4"></a>
</span><span id="__span-7-5"><a id="__codelineno-7-5" name="__codelineno-7-5" href="#003-dockerfile-multistage-__codelineno-7-5"></a><span class="c"># Second stage: Node image</span>
</span><span id="__span-7-6"><a id="__codelineno-7-6" name="__codelineno-7-6" href="#003-dockerfile-multistage-__codelineno-7-6"></a><span class="k">FROM</span><span class="w">  </span><span class="s">node</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="s">node-stage</span>
</span><span id="__span-7-7"><a id="__codelineno-7-7" name="__codelineno-7-7" href="#003-dockerfile-multistage-__codelineno-7-7"></a><span class="k">RUN</span><span class="w">   </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;This is node image&quot;</span><span class="w"> </span>&gt;<span class="w"> </span>node.txt
</span><span id="__span-7-8"><a id="__codelineno-7-8" name="__codelineno-7-8" href="#003-dockerfile-multistage-__codelineno-7-8"></a>
</span><span id="__span-7-9"><a id="__codelineno-7-9" name="__codelineno-7-9" href="#003-dockerfile-multistage-__codelineno-7-9"></a><span class="c"># Final stage: Alpine with files from previous stages</span>
</span><span id="__span-7-10"><a id="__codelineno-7-10" name="__codelineno-7-10" href="#003-dockerfile-multistage-__codelineno-7-10"></a><span class="k">FROM</span><span class="w">  </span><span class="s">alpine</span>
</span><span id="__span-7-11"><a id="__codelineno-7-11" name="__codelineno-7-11" href="#003-dockerfile-multistage-__codelineno-7-11"></a><span class="k">COPY</span><span class="w">  </span>--from<span class="o">=</span>alpine-stage<span class="w"> </span>alpine.txt<span class="w">  </span>.
</span><span id="__span-7-12"><a id="__codelineno-7-12" name="__codelineno-7-12" href="#003-dockerfile-multistage-__codelineno-7-12"></a><span class="k">COPY</span><span class="w">  </span>--from<span class="o">=</span>node-stage<span class="w"> </span>node.txt<span class="w">      </span>.
</span><span id="__span-7-13"><a id="__codelineno-7-13" name="__codelineno-7-13" href="#003-dockerfile-multistage-__codelineno-7-13"></a>
</span><span id="__span-7-14"><a id="__codelineno-7-14" name="__codelineno-7-14" href="#003-dockerfile-multistage-__codelineno-7-14"></a><span class="c"># Run the command to display contents</span>
</span><span id="__span-7-15"><a id="__codelineno-7-15" name="__codelineno-7-15" href="#003-dockerfile-multistage-__codelineno-7-15"></a><span class="k">CMD</span><span class="w">   </span>cat<span class="w"> </span>alpine.txt<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span>cat<span class="w"> </span>node.txt
</span></code></pre></div>

### Build and Test

Build the image:

<div class="language-bash highlight"><pre><span></span><code><span id="__span-8-1"><a id="__codelineno-8-1" name="__codelineno-8-1" href="#003-dockerfile-multistage-__codelineno-8-1"></a>docker<span class="w"> </span>build<span class="w"> </span>-f<span class="w"> </span>Dockerfile-exercise<span class="w"> </span>-t<span class="w"> </span>exercise-solution<span class="w"> </span>.
</span></code></pre></div>

Run the container:

<div class="language-bash highlight"><pre><span></span><code><span id="__span-9-1"><a id="__codelineno-9-1" name="__codelineno-9-1" href="#003-dockerfile-multistage-__codelineno-9-1"></a>docker<span class="w"> </span>run<span class="w"> </span>exercise-solution
</span></code></pre></div>

Expected output:

<div class="language-text highlight"><pre><span></span><code><span id="__span-10-1"><a id="__codelineno-10-1" name="__codelineno-10-1" href="#003-dockerfile-multistage-__codelineno-10-1"></a>This is alpine image
</span><span id="__span-10-2"><a id="__codelineno-10-2" name="__codelineno-10-2" href="#003-dockerfile-multistage-__codelineno-10-2"></a>This is node image
</span></code></pre></div>

### Explanation

1. **First Stage (alpine-stage)**: Based on `alpine`, creates `alpine.txt` with the required content
2. **Second Stage (node-stage)**: Based on `node`, creates `node.txt` with the required content
3. **Final Stage**: Based on `alpine` (lightweight), copies both files from previous stages using `COPY --from=<stage-name>` and displays their content when run

</details></section></section>
                    <section class='print-page md-section' id='section-2' heading-number='2'>
                        <h1>Tasks<a class='headerlink' href='#section-2' title='Permanent link'></a>
                        </h1>
                    <section class="print-page" id="tasks" heading-number="2.1"><h1 id="tasks-dockerlabs-tasks">DockerLabs Tasks<a class="headerlink" href="#tasks-dockerlabs-tasks" title="Permanent link">&para;</a></h1>
<p><img alt="DockerLabs Banner" src="../assets/images/docker-logos.png" /></p>
<hr />
<ul>
<li>Welcome to the DockerLabs Tasks section.</li>
<li>Each folder below contains a hands-on task/exercise that you can complete independently to practice specific Docker skills.</li>
<li>Follow the README file in each task for detailed instructions and solutions.</li>
</ul>
<hr />
<h2 id="tasks-task-index">Task Index<a class="headerlink" href="#tasks-task-index" title="Permanent link">&para;</a></h2>
<table>
<thead>
<tr>
<th>Task</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="#tasks-dockercommit">DockerCommit</a></td>
<td>In-class exercise for capturing container changes with <code>docker commit</code>.</td>
</tr>
<tr>
<td><a href="#tasks-dockerlogs">DockerLogs</a></td>
<td>In-class exercise for running cowsay container, managing logs, and debugging.</td>
</tr>
<tr>
<td><a href="#tasks-multistage">MultiStage</a></td>
<td>In-class exercise for creating multi-stage Dockerfiles with alpine and node images.</td>
</tr>
</tbody>
</table>
<hr />
<p>Happy learning and hacking with Docker!</p></section><section class="print-page" id="tasks-dockerlogs" heading-number="2.2"><p><img alt="DockerLabs Banner" src="../assets/images/docker-logos.png" /></p>
<hr />
<h1 id="tasks-dockerlogs-in-class-exercise-docker-logs-and-container-management">In-Class Exercise - Docker Logs and Container Management<a class="headerlink" href="#tasks-dockerlogs-in-class-exercise-docker-logs-and-container-management" title="Permanent link">&para;</a></h1>
<ul>
<li>Run a <code>cowsay</code> Docker container with a custom message</li>
<li>Send a message to the cowsay container (e.g., &ldquo;Hello from Docker!&rdquo;)</li>
<li>Stop the container after execution</li>
<li>Extract and save the container logs to the host machine for debugging purposes</li>
<li>Hint: Use <code>docker run</code>, <code>docker logs</code>, and output redirection</li>
</ul>
<details>
<summary>Solution</summary>
<h2 id="tasks-dockerlogs-step-by-step-solution">Step-by-Step Solution<a class="headerlink" href="#tasks-dockerlogs-step-by-step-solution" title="Permanent link">&para;</a></h2>
<ol>
<li><strong>Run the cowsay container with a custom message</strong></li>
</ol>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#tasks-dockerlogs-__codelineno-0-1"></a>docker<span class="w"> </span>run<span class="w"> </span>--name<span class="w"> </span>my-cowsay<span class="w"> </span>docker/whalesay<span class="w"> </span>cowsay<span class="w"> </span><span class="s2">&quot;Hello from Docker!&quot;</span>
</span></code></pre></div>
<ol>
<li><strong>Verify the container has stopped</strong></li>
</ol>
<p>The container stops automatically after execution. You can verify with:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#tasks-dockerlogs-__codelineno-1-1"></a>docker<span class="w"> </span>ps<span class="w"> </span>-a<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>my-cowsay
</span></code></pre></div>
<ol>
<li><strong>Grab the logs and save to host machine</strong></li>
</ol>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#tasks-dockerlogs-__codelineno-2-1"></a>docker<span class="w"> </span>logs<span class="w"> </span>my-cowsay<span class="w"> </span>&gt;<span class="w"> </span>cowsay-logs.txt
</span></code></pre></div>
<ol>
<li><strong>View the saved logs</strong></li>
</ol>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#tasks-dockerlogs-__codelineno-3-1"></a>cat<span class="w"> </span>cowsay-logs.txt
</span></code></pre></div>
<p>Expected output in <code>cowsay-logs.txt</code>:</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#tasks-dockerlogs-__codelineno-4-1"></a> ______________________
</span><span id="__span-4-2"><a id="__codelineno-4-2" name="__codelineno-4-2" href="#tasks-dockerlogs-__codelineno-4-2"></a>&lt; Hello from Docker! &gt;
</span><span id="__span-4-3"><a id="__codelineno-4-3" name="__codelineno-4-3" href="#tasks-dockerlogs-__codelineno-4-3"></a> ----------------------
</span><span id="__span-4-4"><a id="__codelineno-4-4" name="__codelineno-4-4" href="#tasks-dockerlogs-__codelineno-4-4"></a>    \
</span><span id="__span-4-5"><a id="__codelineno-4-5" name="__codelineno-4-5" href="#tasks-dockerlogs-__codelineno-4-5"></a>     \
</span><span id="__span-4-6"><a id="__codelineno-4-6" name="__codelineno-4-6" href="#tasks-dockerlogs-__codelineno-4-6"></a>      \     
</span><span id="__span-4-7"><a id="__codelineno-4-7" name="__codelineno-4-7" href="#tasks-dockerlogs-__codelineno-4-7"></a>                    ##        .            
</span><span id="__span-4-8"><a id="__codelineno-4-8" name="__codelineno-4-8" href="#tasks-dockerlogs-__codelineno-4-8"></a>              ## ## ##       ==            
</span><span id="__span-4-9"><a id="__codelineno-4-9" name="__codelineno-4-9" href="#tasks-dockerlogs-__codelineno-4-9"></a>           ## ## ## ##      ===            
</span><span id="__span-4-10"><a id="__codelineno-4-10" name="__codelineno-4-10" href="#tasks-dockerlogs-__codelineno-4-10"></a>       /&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;___/ ===        
</span><span id="__span-4-11"><a id="__codelineno-4-11" name="__codelineno-4-11" href="#tasks-dockerlogs-__codelineno-4-11"></a>  ~~~ {~~ ~~~~ ~~~ ~~~~ ~~ ~ /  ===- ~~~   
</span><span id="__span-4-12"><a id="__codelineno-4-12" name="__codelineno-4-12" href="#tasks-dockerlogs-__codelineno-4-12"></a>       \______ o          __/            
</span><span id="__span-4-13"><a id="__codelineno-4-13" name="__codelineno-4-13" href="#tasks-dockerlogs-__codelineno-4-13"></a>        \    \        __/             
</span><span id="__span-4-14"><a id="__codelineno-4-14" name="__codelineno-4-14" href="#tasks-dockerlogs-__codelineno-4-14"></a>          \____\______/   
</span></code></pre></div>
<ol>
<li><strong>Clean up (optional)</strong></li>
</ol>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1" href="#tasks-dockerlogs-__codelineno-5-1"></a><span class="c1"># Remove the container</span>
</span><span id="__span-5-2"><a id="__codelineno-5-2" name="__codelineno-5-2" href="#tasks-dockerlogs-__codelineno-5-2"></a>docker<span class="w"> </span>rm<span class="w"> </span>my-cowsay
</span><span id="__span-5-3"><a id="__codelineno-5-3" name="__codelineno-5-3" href="#tasks-dockerlogs-__codelineno-5-3"></a>
</span><span id="__span-5-4"><a id="__codelineno-5-4" name="__codelineno-5-4" href="#tasks-dockerlogs-__codelineno-5-4"></a><span class="c1"># Remove the log file</span>
</span><span id="__span-5-5"><a id="__codelineno-5-5" name="__codelineno-5-5" href="#tasks-dockerlogs-__codelineno-5-5"></a>rm<span class="w"> </span>cowsay-logs.txt
</span></code></pre></div>
<h2 id="tasks-dockerlogs-alternative-using-a-different-cowsay-image">Alternative: Using a Different Cowsay Image<a class="headerlink" href="#tasks-dockerlogs-alternative-using-a-different-cowsay-image" title="Permanent link">&para;</a></h2>
<p>If <code>docker/whalesay</code> is not available, you can build your own:</p>
<p><strong>Dockerfile:</strong></p>
<div class="language-dockerfile highlight"><pre><span></span><code><span id="__span-6-1"><a id="__codelineno-6-1" name="__codelineno-6-1" href="#tasks-dockerlogs-__codelineno-6-1"></a><span class="k">FROM</span><span class="w"> </span><span class="s">alpine:latest</span>
</span><span id="__span-6-2"><a id="__codelineno-6-2" name="__codelineno-6-2" href="#tasks-dockerlogs-__codelineno-6-2"></a><span class="k">RUN</span><span class="w"> </span>apk<span class="w"> </span>add<span class="w"> </span>--no-cache<span class="w"> </span>cowsay
</span><span id="__span-6-3"><a id="__codelineno-6-3" name="__codelineno-6-3" href="#tasks-dockerlogs-__codelineno-6-3"></a><span class="k">ENTRYPOINT</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;/usr/bin/cowsay&quot;</span><span class="p">]</span>
</span><span id="__span-6-4"><a id="__codelineno-6-4" name="__codelineno-6-4" href="#tasks-dockerlogs-__codelineno-6-4"></a><span class="k">CMD</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;Hello Docker!&quot;</span><span class="p">]</span>
</span></code></pre></div>
<p><strong>Build and run:</strong></p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-7-1"><a id="__codelineno-7-1" name="__codelineno-7-1" href="#tasks-dockerlogs-__codelineno-7-1"></a>docker<span class="w"> </span>build<span class="w"> </span>-t<span class="w"> </span>my-cowsay<span class="w"> </span>.
</span><span id="__span-7-2"><a id="__codelineno-7-2" name="__codelineno-7-2" href="#tasks-dockerlogs-__codelineno-7-2"></a>docker<span class="w"> </span>run<span class="w"> </span>--name<span class="w"> </span>cowsay-test<span class="w"> </span>my-cowsay<span class="w"> </span><span class="s2">&quot;Hello from Docker!&quot;</span>
</span><span id="__span-7-3"><a id="__codelineno-7-3" name="__codelineno-7-3" href="#tasks-dockerlogs-__codelineno-7-3"></a>docker<span class="w"> </span>logs<span class="w"> </span>cowsay-test<span class="w"> </span>&gt;<span class="w"> </span>cowsay-logs.txt
</span></code></pre></div>
<h2 id="tasks-dockerlogs-explanation">Explanation<a class="headerlink" href="#tasks-dockerlogs-explanation" title="Permanent link">&para;</a></h2>
<ul>
<li><strong>docker run &ndash;name</strong>: Assigns a name to the container for easy reference</li>
<li><strong>cowsay &ldquo;message&rdquo;</strong>: Passes the message to the cowsay command</li>
<li><strong>docker logs</strong>: Retrieves all stdout/stderr output from the container</li>
<li><strong>&gt; cowsay-logs.txt</strong>: Redirects the log output to a file on the host machine</li>
<li>The container stops automatically after the command completes</li>
</ul>
<h2 id="tasks-dockerlogs-bonus-running-in-detached-mode">Bonus: Running in Detached Mode<a class="headerlink" href="#tasks-dockerlogs-bonus-running-in-detached-mode" title="Permanent link">&para;</a></h2>
<p>For containers that run longer:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-8-1"><a id="__codelineno-8-1" name="__codelineno-8-1" href="#tasks-dockerlogs-__codelineno-8-1"></a><span class="c1"># Run in detached mode</span>
</span><span id="__span-8-2"><a id="__codelineno-8-2" name="__codelineno-8-2" href="#tasks-dockerlogs-__codelineno-8-2"></a>docker<span class="w"> </span>run<span class="w"> </span>-d<span class="w"> </span>--name<span class="w"> </span>my-cowsay-bg<span class="w"> </span>docker/whalesay<span class="w"> </span>/bin/sh<span class="w"> </span>-c<span class="w"> </span><span class="s2">&quot;cowsay &#39;Background task&#39; &amp;&amp; sleep 30&quot;</span>
</span><span id="__span-8-3"><a id="__codelineno-8-3" name="__codelineno-8-3" href="#tasks-dockerlogs-__codelineno-8-3"></a>
</span><span id="__span-8-4"><a id="__codelineno-8-4" name="__codelineno-8-4" href="#tasks-dockerlogs-__codelineno-8-4"></a><span class="c1"># Get logs while running</span>
</span><span id="__span-8-5"><a id="__codelineno-8-5" name="__codelineno-8-5" href="#tasks-dockerlogs-__codelineno-8-5"></a>docker<span class="w"> </span>logs<span class="w"> </span>my-cowsay-bg
</span><span id="__span-8-6"><a id="__codelineno-8-6" name="__codelineno-8-6" href="#tasks-dockerlogs-__codelineno-8-6"></a>
</span><span id="__span-8-7"><a id="__codelineno-8-7" name="__codelineno-8-7" href="#tasks-dockerlogs-__codelineno-8-7"></a><span class="c1"># Follow logs in real-time</span>
</span><span id="__span-8-8"><a id="__codelineno-8-8" name="__codelineno-8-8" href="#tasks-dockerlogs-__codelineno-8-8"></a>docker<span class="w"> </span>logs<span class="w"> </span>-f<span class="w"> </span>my-cowsay-bg
</span><span id="__span-8-9"><a id="__codelineno-8-9" name="__codelineno-8-9" href="#tasks-dockerlogs-__codelineno-8-9"></a>
</span><span id="__span-8-10"><a id="__codelineno-8-10" name="__codelineno-8-10" href="#tasks-dockerlogs-__codelineno-8-10"></a><span class="c1"># Stop the container</span>
</span><span id="__span-8-11"><a id="__codelineno-8-11" name="__codelineno-8-11" href="#tasks-dockerlogs-__codelineno-8-11"></a>docker<span class="w"> </span>stop<span class="w"> </span>my-cowsay-bg
</span><span id="__span-8-12"><a id="__codelineno-8-12" name="__codelineno-8-12" href="#tasks-dockerlogs-__codelineno-8-12"></a>
</span><span id="__span-8-13"><a id="__codelineno-8-13" name="__codelineno-8-13" href="#tasks-dockerlogs-__codelineno-8-13"></a><span class="c1"># Save logs after stopping</span>
</span><span id="__span-8-14"><a id="__codelineno-8-14" name="__codelineno-8-14" href="#tasks-dockerlogs-__codelineno-8-14"></a>docker<span class="w"> </span>logs<span class="w"> </span>my-cowsay-bg<span class="w"> </span>&gt;<span class="w"> </span>cowsay-bg-logs.txt
</span></code></pre></div>
</details></section><section class="print-page" id="tasks-dockercommit" heading-number="2.3"><p><img alt="DockerLabs Banner" src="../assets/images/docker-logos.png" /></p>
<hr />
<h1 id="tasks-dockercommit-in-class-exercise-docker-commit-workflow">In-Class Exercise - Docker Commit Workflow<a class="headerlink" href="#tasks-dockercommit-in-class-exercise-docker-commit-workflow" title="Permanent link">&para;</a></h1>
<ul>
<li>Start an <code>alpine</code> container and keep it running for modifications</li>
<li>Create a new file inside the running container</li>
<li>Use <code>docker commit</code> to capture a new image with the file included</li>
<li>Run a container from the committed image and verify the file exists</li>
<li>Hint: Combine <code>docker run</code>, <code>docker exec</code>, <code>docker commit</code>, and <code>docker run --rm</code></li>
</ul>
<details>
<summary>Solution</summary>
<h2 id="tasks-dockercommit-step-by-step-solution">Step-by-Step Solution<a class="headerlink" href="#tasks-dockercommit-step-by-step-solution" title="Permanent link">&para;</a></h2>
<ol>
<li><strong>Run a modifiable alpine container</strong></li>
</ol>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#tasks-dockercommit-__codelineno-0-1"></a>docker<span class="w"> </span>run<span class="w"> </span>-d<span class="w"> </span>--name<span class="w"> </span>alpine-commit<span class="w"> </span>alpine:latest<span class="w"> </span>sleep<span class="w"> </span>infinity
</span></code></pre></div>
<ol>
<li><strong>Write a file inside the running container</strong></li>
</ol>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#tasks-dockercommit-__codelineno-1-1"></a>docker<span class="w"> </span><span class="nb">exec</span><span class="w"> </span>alpine-commit<span class="w"> </span>sh<span class="w"> </span>-c<span class="w"> </span><span class="s2">&quot;echo &#39;Persisted with docker commit&#39; &gt; /opt/commit-note.txt&quot;</span>
</span></code></pre></div>
<ol>
<li><strong>Validate the file inside the original container (optional check)</strong></li>
</ol>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#tasks-dockercommit-__codelineno-2-1"></a>docker<span class="w"> </span><span class="nb">exec</span><span class="w"> </span>alpine-commit<span class="w"> </span>cat<span class="w"> </span>/opt/commit-note.txt
</span></code></pre></div>
<ol>
<li><strong>Create a new image from the modified container</strong></li>
</ol>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#tasks-dockercommit-__codelineno-3-1"></a>docker<span class="w"> </span>commit<span class="w"> </span>alpine-commit<span class="w"> </span>alpine-with-note:latest
</span></code></pre></div>
<ol>
<li><strong>Run a container from the committed image and verify the file exists</strong></li>
</ol>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#tasks-dockercommit-__codelineno-4-1"></a>docker<span class="w"> </span>run<span class="w"> </span>--rm<span class="w"> </span>alpine-with-note:latest<span class="w"> </span>cat<span class="w"> </span>/opt/commit-note.txt
</span></code></pre></div>
<p>Expected output:</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1" href="#tasks-dockercommit-__codelineno-5-1"></a>Persisted with docker commit
</span></code></pre></div>
<ol>
<li><strong>Clean up resources</strong></li>
</ol>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-6-1"><a id="__codelineno-6-1" name="__codelineno-6-1" href="#tasks-dockercommit-__codelineno-6-1"></a>docker<span class="w"> </span>rm<span class="w"> </span>-f<span class="w"> </span>alpine-commit
</span><span id="__span-6-2"><a id="__codelineno-6-2" name="__codelineno-6-2" href="#tasks-dockercommit-__codelineno-6-2"></a>docker<span class="w"> </span>image<span class="w"> </span>rm<span class="w"> </span>alpine-with-note:latest
</span></code></pre></div>
<h2 id="tasks-dockercommit-explanation">Explanation<a class="headerlink" href="#tasks-dockercommit-explanation" title="Permanent link">&para;</a></h2>
<ul>
<li><strong>docker run -d &hellip; sleep infinity</strong>: Starts a container that stays alive for edits</li>
<li><strong>docker exec &hellip; echo &lsquo;&hellip;&rsquo; &gt; file</strong>: Writes a file into the running container</li>
<li><strong>docker commit</strong>: Captures the container&rsquo;s filesystem changes into a new image</li>
<li><strong>docker run &ndash;rm new-image cat file</strong>: Launches the new image, verifies the persistent file, and removes the container when done</li>
<li><strong>Cleanup commands</strong>: Remove the temporary container and image to free resources</li>
</ul>
</details></section><section class="print-page" id="tasks-multistage" heading-number="2.4"><p><img alt="DockerLabs Banner" src="../assets/images/docker-logos.png" /></p>
<hr />
<h1 id="tasks-multistage-in-class-exercise-multi-stage-dockerfile">In-Class Exercise - Multi-Stage Dockerfile<a class="headerlink" href="#tasks-multistage-in-class-exercise-multi-stage-dockerfile" title="Permanent link">&para;</a></h1>
<ul>
<li>Create a <code>multi-stage</code> docker file that will build 2 images</li>
<li>The first image will be based on <code>alpine</code> and will create a file named <code>alpine.txt</code> with the content: <code>This is alpine image</code></li>
<li>The second image will be based on <code>node</code> and will create a file named <code>node.txt</code> with the content: <code>This is node image</code></li>
<li>The final image should be based on <code>alpine</code> and should copy the files which you created from the previous stages and display their content when the container will run.</li>
<li>Hint: Use the <code>COPY --from=</code> command to copy files from previous stages</li>
</ul>
<details>
<summary>Solution</summary>
<h3 id="tasks-multistage-dockerfile-solution">Dockerfile Solution<a class="headerlink" href="#tasks-multistage-dockerfile-solution" title="Permanent link">&para;</a></h3>
<p>Create a file named <code>Dockerfile-exercise</code>:</p>
<div class="language-dockerfile highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#tasks-multistage-__codelineno-0-1"></a><span class="c"># First stage: Alpine image</span>
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#tasks-multistage-__codelineno-0-2"></a><span class="k">FROM</span><span class="w">  </span><span class="s">alpine</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="s">alpine-stage</span>
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#tasks-multistage-__codelineno-0-3"></a><span class="k">RUN</span><span class="w">   </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;This is alpine image&quot;</span><span class="w"> </span>&gt;<span class="w"> </span>alpine.txt
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4" href="#tasks-multistage-__codelineno-0-4"></a>
</span><span id="__span-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5" href="#tasks-multistage-__codelineno-0-5"></a><span class="c"># Second stage: Node image</span>
</span><span id="__span-0-6"><a id="__codelineno-0-6" name="__codelineno-0-6" href="#tasks-multistage-__codelineno-0-6"></a><span class="k">FROM</span><span class="w">  </span><span class="s">node</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="s">node-stage</span>
</span><span id="__span-0-7"><a id="__codelineno-0-7" name="__codelineno-0-7" href="#tasks-multistage-__codelineno-0-7"></a><span class="k">RUN</span><span class="w">   </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;This is node image&quot;</span><span class="w"> </span>&gt;<span class="w"> </span>node.txt
</span><span id="__span-0-8"><a id="__codelineno-0-8" name="__codelineno-0-8" href="#tasks-multistage-__codelineno-0-8"></a>
</span><span id="__span-0-9"><a id="__codelineno-0-9" name="__codelineno-0-9" href="#tasks-multistage-__codelineno-0-9"></a><span class="c"># Final stage: Alpine with files from previous stages</span>
</span><span id="__span-0-10"><a id="__codelineno-0-10" name="__codelineno-0-10" href="#tasks-multistage-__codelineno-0-10"></a><span class="k">FROM</span><span class="w">  </span><span class="s">alpine</span>
</span><span id="__span-0-11"><a id="__codelineno-0-11" name="__codelineno-0-11" href="#tasks-multistage-__codelineno-0-11"></a><span class="k">COPY</span><span class="w">  </span>--from<span class="o">=</span>alpine-stage<span class="w"> </span>alpine.txt<span class="w">  </span>.
</span><span id="__span-0-12"><a id="__codelineno-0-12" name="__codelineno-0-12" href="#tasks-multistage-__codelineno-0-12"></a><span class="k">COPY</span><span class="w">  </span>--from<span class="o">=</span>node-stage<span class="w"> </span>node.txt<span class="w">      </span>.
</span><span id="__span-0-13"><a id="__codelineno-0-13" name="__codelineno-0-13" href="#tasks-multistage-__codelineno-0-13"></a>
</span><span id="__span-0-14"><a id="__codelineno-0-14" name="__codelineno-0-14" href="#tasks-multistage-__codelineno-0-14"></a><span class="c"># Run the command to display contents</span>
</span><span id="__span-0-15"><a id="__codelineno-0-15" name="__codelineno-0-15" href="#tasks-multistage-__codelineno-0-15"></a><span class="k">CMD</span><span class="w">   </span>cat<span class="w"> </span>alpine.txt<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span>cat<span class="w"> </span>node.txt
</span></code></pre></div>
<h3 id="tasks-multistage-build-and-test">Build and Test<a class="headerlink" href="#tasks-multistage-build-and-test" title="Permanent link">&para;</a></h3>
<p>Build the image:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#tasks-multistage-__codelineno-1-1"></a>docker<span class="w"> </span>build<span class="w"> </span>-f<span class="w"> </span>Dockerfile-exercise<span class="w"> </span>-t<span class="w"> </span>exercise-solution<span class="w"> </span>.
</span></code></pre></div>
<p>Run the container:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#tasks-multistage-__codelineno-2-1"></a>docker<span class="w"> </span>run<span class="w"> </span>exercise-solution
</span></code></pre></div>
<p>Expected output:</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#tasks-multistage-__codelineno-3-1"></a>This is alpine image
</span><span id="__span-3-2"><a id="__codelineno-3-2" name="__codelineno-3-2" href="#tasks-multistage-__codelineno-3-2"></a>This is node image
</span></code></pre></div>
<h3 id="tasks-multistage-explanation">Explanation<a class="headerlink" href="#tasks-multistage-explanation" title="Permanent link">&para;</a></h3>
<ol>
<li><strong>First Stage (alpine-stage)</strong>: Based on <code>alpine</code>, creates <code>alpine.txt</code> with the required content</li>
<li><strong>Second Stage (node-stage)</strong>: Based on <code>node</code>, creates <code>node.txt</code> with the required content</li>
<li><strong>Final Stage</strong>: Based on <code>alpine</code> (lightweight), copies both files from previous stages using <code>COPY --from=&lt;stage-name&gt;</code> and displays their content when run</li>
</ol>
</details></section></section></div><style>.print-site-enumerate-headings #section-1 > h1:before { content: '1 ' }
.print-site-enumerate-headings #index > h1:before { content: '1.1 ' }

                .print-site-enumerate-headings #index h2:before { content: '1.1.' counter(counter-index-2) ' ' }
                .print-site-enumerate-headings #index h2 {  counter-increment: counter-index-2 }
            
.print-site-enumerate-headings #001-dockercli > h1:before { content: '1.2 ' }

                .print-site-enumerate-headings #001-dockercli h2:before { content: '1.2.' counter(counter-001-dockercli-2) ' ' }
                .print-site-enumerate-headings #001-dockercli h2 {  counter-increment: counter-001-dockercli-2 }
            
.print-site-enumerate-headings #002-dockerfile > h1:before { content: '1.3 ' }

                .print-site-enumerate-headings #002-dockerfile h2:before { content: '1.3.' counter(counter-002-dockerfile-2) ' ' }
                .print-site-enumerate-headings #002-dockerfile h2 {  counter-increment: counter-002-dockerfile-2 }
            
.print-site-enumerate-headings #003-dockerfile-multistage > h1:before { content: '1.4 ' }

                .print-site-enumerate-headings #003-dockerfile-multistage h2:before { content: '1.4.' counter(counter-003-dockerfile-multistage-2) ' ' }
                .print-site-enumerate-headings #003-dockerfile-multistage h2 {  counter-increment: counter-003-dockerfile-multistage-2 }
            
.print-site-enumerate-headings #section-2 > h1:before { content: '2 ' }
.print-site-enumerate-headings #tasks > h1:before { content: '2.1 ' }

                .print-site-enumerate-headings #tasks h2:before { content: '2.1.' counter(counter-tasks-2) ' ' }
                .print-site-enumerate-headings #tasks h2 {  counter-increment: counter-tasks-2 }
            
.print-site-enumerate-headings #tasks-dockerlogs > h1:before { content: '2.2 ' }

                .print-site-enumerate-headings #tasks-dockerlogs h2:before { content: '2.2.' counter(counter-tasks-dockerlogs-2) ' ' }
                .print-site-enumerate-headings #tasks-dockerlogs h2 {  counter-increment: counter-tasks-dockerlogs-2 }
            
.print-site-enumerate-headings #tasks-dockercommit > h1:before { content: '2.3 ' }

                .print-site-enumerate-headings #tasks-dockercommit h2:before { content: '2.3.' counter(counter-tasks-dockercommit-2) ' ' }
                .print-site-enumerate-headings #tasks-dockercommit h2 {  counter-increment: counter-tasks-dockercommit-2 }
            
.print-site-enumerate-headings #tasks-multistage > h1:before { content: '2.4 ' }

                .print-site-enumerate-headings #tasks-multistage h2:before { content: '2.4.' counter(counter-tasks-multistage-2) ' ' }
                .print-site-enumerate-headings #tasks-multistage h2 {  counter-increment: counter-tasks-multistage-2 }
            </style>
<!--
  Copyright (c) 2016-2025 Martin Donath <martin.donath@squidfunk.com>

  Permission is hereby granted, free of charge, to any person obtaining a copy
  of this software and associated documentation files (the "Software"), to
  deal in the Software without restriction, including without limitation the
  rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
  sell copies of the Software, and to permit persons to whom the Software is
  furnished to do so, subject to the following conditions:

  The above copyright notice and this permission notice shall be included in
  all copies or substantial portions of the Software.

  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE
  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
  FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
  IN THE SOFTWARE.
-->

<!-- Render date of last update -->


<!-- Render date of creation -->


<!-- ---------------------------------------------------------------------- -->

<!-- Render authors -->


<!-- ---------------------------------------------------------------------- -->

<!-- Render committers from GitHub -->


<!-- Render committers from GitLab -->


<!-- Render committers -->


<!-- ---------------------------------------------------------------------- -->

<!-- Determine date of last update -->


<!-- Source file information -->





                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <!--
  Copyright (c) 2016-2025 Martin Donath <martin.donath@squidfunk.com>

  Permission is hereby granted, free of charge, to any person obtaining a copy
  of this software and associated documentation files (the "Software"), to
  deal in the Software without restriction, including without limitation the
  rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
  sell copies of the Software, and to permit persons to whom the Software is
  furnished to do so, subject to the following conditions:

  The above copyright notice and this permission notice shall be included in
  all copies or substantial portions of the Software.

  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE
  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
  FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
  IN THE SOFTWARE.
-->

<!-- Footer -->
<footer class="md-footer">
  <div class="logo1"></div>
  <div class="logo2"></div>

  <!-- Link to previous and/or next page -->
  
    
  

  <!-- Further information -->
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      ©2021-2025 Nir Geier<br/><a href="https://visitor-badge.laobi.icu/badge?page_id=nirgeier" target="_blank" rel="noopener"><img src="https://visitor-badge.laobi.icu/badge?page_id=nirgeier" alt="Visitor Badge"></a>
    </div>
  
  
</div>

      <!-- Social links -->
      
        
<div class="md-social">
    
    
    
    
    
    <a href="https://github.com/nirgeier/DockerLabs" target="_blank" rel="noopener" title="View on GitHub"
        class="md-social__link social-class__github">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
    </a>
    
    
    
    
    
    <a href="https://github.com/nirgeier/DockerLabs/network/members" target="_blank" rel="noopener" title="Fork this repo"
        class="md-social__link social-class__fork">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M5 5.372v.878c0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75v-.878a2.25 2.25 0 1 1 1.5 0v.878a2.25 2.25 0 0 1-2.25 2.25h-1.5v2.128a2.251 2.251 0 1 1-1.5 0V8.5h-1.5A2.25 2.25 0 0 1 3.5 6.25v-.878a2.25 2.25 0 1 1 1.5 0M5 3.25a.75.75 0 1 0-1.5 0 .75.75 0 0 0 1.5 0m6.75.75a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5m-3 8.75a.75.75 0 1 0-1.5 0 .75.75 0 0 0 1.5 0"/></svg>
    </a>
    
    
    
    
    
    <a href="https://github.com/nirgeier/DockerLabs/stargazers" target="_blank" rel="noopener" title="Star this repo"
        class="md-social__link social-class__star">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M8 .25a.75.75 0 0 1 .673.418l1.882 3.815 4.21.612a.75.75 0 0 1 .416 1.279l-3.046 2.97.719 4.192a.751.751 0 0 1-1.088.791L8 12.347l-3.766 1.98a.75.75 0 0 1-1.088-.79l.72-4.194L.818 6.374a.75.75 0 0 1 .416-1.28l4.21-.611L7.327.668A.75.75 0 0 1 8 .25m0 2.445L6.615 5.5a.75.75 0 0 1-.564.41l-3.097.45 2.24 2.184a.75.75 0 0 1 .216.664l-.528 3.084 2.769-1.456a.75.75 0 0 1 .698 0l2.77 1.456-.53-3.084a.75.75 0 0 1 .216-.664l2.24-2.183-3.096-.45a.75.75 0 0 1-.564-.41z"/></svg>
    </a>
    
    
    
    
    
    <a href="https://www.linkedin.com/in/nirgeier/" target="_blank" rel="noopener" title="Connect on LinkedIn"
        class="md-social__link social-class__linkedin">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3M135.4 416H69V202.2h66.5V416zM102.2 96a38.5 38.5 0 1 1 0 77 38.5 38.5 0 1 1 0-77m282.1 320h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9z"/></svg>
    </a>
    
    
    
    
    
    <a href="https://discord.gg/U6xW23Ss" target="_blank" rel="noopener" title="Follow me on Discord"
        class="md-social__link social-class__discord">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M492.5 69.8c-.2-.3-.4-.6-.8-.7-38.1-17.5-78.4-30-119.7-37.1-.4-.1-.8 0-1.1.1s-.6.4-.8.8c-5.5 9.9-10.5 20.2-14.9 30.6-44.6-6.8-89.9-6.8-134.4 0-4.5-10.5-9.5-20.7-15.1-30.6-.2-.3-.5-.6-.8-.8s-.7-.2-1.1-.2C162.5 39 122.2 51.5 84.1 69c-.3.1-.6.4-.8.7C7.1 183.5-13.8 294.6-3.6 404.2c0 .3.1.5.2.8s.3.4.5.6c44.4 32.9 94 58 146.8 74.2.4.1.8.1 1.1 0s.7-.4.9-.7c11.3-15.4 21.4-31.8 30-48.8.1-.2.2-.5.2-.8s0-.5-.1-.8-.2-.5-.4-.6-.4-.3-.7-.4c-15.8-6.1-31.2-13.4-45.9-21.9-.3-.2-.5-.4-.7-.6s-.3-.6-.3-.9 0-.6.2-.9.3-.5.6-.7c3.1-2.3 6.2-4.7 9.1-7.1.3-.2.6-.4.9-.4s.7 0 1 .1c96.2 43.9 200.4 43.9 295.5 0 .3-.1.7-.2 1-.2s.7.2.9.4c2.9 2.4 6 4.9 9.1 7.2.2.2.4.4.6.7s.2.6.2.9-.1.6-.3.9-.4.5-.6.6c-14.7 8.6-30 15.9-45.9 21.8-.2.1-.5.2-.7.4s-.3.4-.4.7-.1.5-.1.8.1.5.2.8c8.8 17 18.8 33.3 30 48.8.2.3.6.6.9.7s.8.1 1.1 0c52.9-16.2 102.6-41.3 147.1-74.2.2-.2.4-.4.5-.6s.2-.5.2-.8c12.3-126.8-20.5-236.9-86.9-334.5zm-302 267.7c-29 0-52.8-26.6-52.8-59.2s23.4-59.2 52.8-59.2c29.7 0 53.3 26.8 52.8 59.2 0 32.7-23.4 59.2-52.8 59.2m195.4 0c-29 0-52.8-26.6-52.8-59.2s23.4-59.2 52.8-59.2c29.7 0 53.3 26.8 52.8 59.2 0 32.7-23.2 59.2-52.8 59.2"/></svg>
    </a>
    
    
    
    
    
    <a href="https://stackoverflow.com/users/1755598/codewizard" target="_blank" rel="noopener" title="Follow me on Stack Overflow"
        class="md-social__link social-class__stackoverflow">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M291 311 95.3 269.7 87.1 309l195.7 41zm51-87L188.5 95.7 163 126.5l153.5 128.3zm-31.2 39.7L129.5 179l-16.7 36.5L294 300zM262.3 32l-32 24 119.3 160.3 32-24zm20.5 328h-200v39.7h200zm39.7 80H43V320H3v160h359.5V320h-40z"/></svg>
    </a>
    
    
    
    
    
    <a href="https://wa.me/972548122310" target="_blank" rel="noopener" title="Follow me on WhatsApp"
        class="md-social__link social-class__whatsapp">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157m-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1s56.2 81.2 56.1 130.5c0 101.8-84.9 184.6-186.6 184.6m101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8s-14.3 18-17.6 21.8c-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7s-12.5-30.1-17.1-41.2c-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2s-9.7 1.4-14.8 6.9c-5.1 5.6-19.4 19-19.4 46.3s19.9 53.7 22.6 57.4c2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4s4.6-24.1 3.2-26.4c-1.3-2.5-5-3.9-10.5-6.6"/></svg>
    </a>
    
    
    
    
    
    <a href="mailto:nirg@codewizard.co.il" target="_blank" rel="noopener" title="Email me"
        class="md-social__link social-class__email">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M48 64C21.5 64 0 85.5 0 112c0 15.1 7.1 29.3 19.2 38.4l208 156a48 48 0 0 0 57.6 0l208-156c12.1-9.1 19.2-23.3 19.2-38.4 0-26.5-21.5-48-48-48zM0 196v188c0 35.3 28.7 64 64 64h384c35.3 0 64-28.7 64-64V196L313.6 344.8c-34.1 25.6-81.1 25.6-115.2 0z"/></svg>
    </a>
    
</div>
      
    </div>
  </div>
</footer>

      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
      <div class="md-progress" data-md-component="progress" role="progressbar"></div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "/DockerLabs/", "features": ["announce.dismiss", "content.action.edit", "content.action.view", "content.code.annotate", "content.code.copy", "content.code.select", "content.footnote.tooltips", "content.tabs.link", "content.tooltips", "content.footer.last-updated", "content.footer.contributors", {"navigation.expand": false}, "navigation.footer", "navigation.indexes", "navigation.instant", "navigation.instant.prefetch", "navigation.instant.progress", "navigation.prune", "navigation.sections", "navigation.tabs", "navigation.tabs.sticky", {"navigation.top": true}, "navigation.tracking", "search.highlight", "search.share", "search.suggest", "toc.follow", "toc.integrate", "toc.sticky"], "search": "../assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.50899def.min.js"></script>
      
        <script src="../js/print-site.js"></script>
      
        <script src="https://buttons.github.io/buttons.js"></script>
      
    
  </body>
</html>